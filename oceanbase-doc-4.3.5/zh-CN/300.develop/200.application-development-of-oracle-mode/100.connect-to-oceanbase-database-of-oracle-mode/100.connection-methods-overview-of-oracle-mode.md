|description|OceanBase 数据库 Oracle 模式连接方式概述|
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|

# 连接方式概述

本节主要介绍 Oracle 模式下连接和访问 OceanBase 数据库的方法。当前主要支持通过客户端、驱动、ORM 框架或连接池连接到 OceanBase 数据库。

## 选择客户端连接 OceanBase 数据库

在连接 OceanBase 数据库的 Oracle 租户时，支持以下命令行客户端工具：

* OceanBase 客户端（OBClient）

  OBClient 是一个交互式和批处理查询工具，需要单独安装。它是一个命令行用户界面，在连接到数据库时充当客户端，支持 OceanBase 数据库的 Oracle 租户和 MySQL 租户。

  OBClient 在运行时需要指定 OceanBase 数据库租户的连接信息。连接上 OceanBase 数据库后，通过 OBClient 可以运行一些数据库命令（包含常用的 MySQL 命令）、SQL 语句和 PL 语句，可以实现以下任务：

  * 计算、存储和打印查询结果。

  * 创建数据库对象、检查和修改对象定义。

  * 开发和运行批处理脚本。

  * 执行数据库管理和修改参数等。

  使用 OceanBase 客户端连接 OceanBase 租户的具体操作示例请参见 [通过 OBClient 连接 OceanBase 租户](200.connect-to-an-oceanbase-tenant-by-using-obclient-of-oracle-mode.md)。

* OceanBase 开发者中心（ODC）

  OceanBase 开发者中心（OceanBase Developer Center，ODC）是为 OceanBase 数据库量身打造的企业级数据库开发平台。

  ODC 支持连接 OceanBase 数据库的 MySQL 租户和 Oracle 租户，同时为数据库开发者提供了数据库日常开发操作、WebSQL、SQL 诊断、会话管理和数据导入导出等功能。

  使用 OceanBase 开发者中心连接 OceanBase 租户的具体操作示例请参见 [通过 ODC 连接 OceanBase 数据库](300.connect-to-the-oceanbase-database-through-odc-of-oracle-mode.md)。

## 图形化数据库管理工具

除了命令行工具外，您还可以使用以下图形化工具连接和管理 OceanBase 数据库：

* **DBeaver**

  DBeaver 是一款通用的数据库客户端工具，支持通过 Oracle 驱动连接 OceanBase 数据库的 Oracle 租户。它提供了直观的图形界面，支持 SQL 编辑、数据浏览、表设计等功能。

  使用 DBeaver 连接 OceanBase 数据库的具体操作示例请参见 [通过 DBeaver 连接 OceanBase 数据库](400.connect-to-oceanbase-database-through-dbeaver-of-oracle-mode.md)。

* **Navicat**

  Navicat 是一款功能强大的数据库管理工具，支持通过 Oracle 驱动连接 OceanBase 数据库的 Oracle 租户。它提供了数据可视化、数据同步、报表生成等功能。

  使用 Navicat 连接 OceanBase 数据库的具体操作示例请参见 [通过 Navicat 连接 OceanBase 数据库](500.connect-to-oceanbase-database-through-navicat-of-oracle-mode.md)。

## 选择驱动或 ORM 框架连接 OceanBase 数据库

### C

* C 驱动

  * OBCI

    OBCI（OceanBase Call Interface）是与 Oracle OCI 兼容的 OceanBase C 语言接口，它提供了与 Oracle OCI 完全兼容的功能特性。

    OBCI 使您可以使用 C 语言来操作 OceanBase 数据库中的数据。它以动态链接库（OBCI 库）的形式提供了标准数据库访问功能，应用程序在运行阶段链接此库就可以使用这些功能。

    OceanBase 提供的 OBCI 是与 Oracle OCI 兼容的 OceanBase C 语言调用接口，提供了与 OCI 兼容的功能特性。使用 Oracle OCI 编写的 C 语言应用程序时，无需修改应用程序源代码，只需在链接时指定运行时库为 OBCI 库，该库文件默认安装到 `/u01/obclient/lib` 路径下。

    使用 C 应用程序连接 OceanBase 数据库的具体操作示例请参见 [C 应用程序连接 OceanBase 数据库](../../../200.quickstart/300.create-sample-application-of-oracle-mode/300.c-application-of-oracle-model.md)。

  * ODBC

    ODBC（Open Database Connectivity）是一种标准的数据库访问接口，通过它，您可以使用统一的方式连接和操作不同类型的数据库。OceanBase 提供的 ODBC 驱动允许应用程序使用标准 SQL 语法与 OceanBase 数据库交互，而无须关心底层实现细节。借助 ODBC，您可以用多种编程语言（如 C、C++ 等）开发应用程序，实现跨数据库的兼容和灵活性。配合 ODBC 驱动，开发者可以轻松地在各种环境中连接 OceanBase，简化数据访问过程，提高开发效率。

    使用 ODBC 连接 OceanBase 数据库的具体操作示例请参见 [C 应用程序连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/300.c-of-oracle-mode/200.oceanbase-connector-odbc-connection-to-oceanbase-database-sample-program.md)。

* C ORM 框架

  * SqlSugar

    SqlSugar 是一个简洁、易用的 C# ORM（对象关系映射）框架，旨在帮助开发者快速高效地进行数据库操作。SqlSugar 提供了强大的数据查询和操作功能，支持多种主流数据库，包括 OceanBase。通过 SqlSugar，开发者可以使用简单的 C# 代码执行复杂的数据库操作，避免了繁琐的 SQL 语句编写，提高了开发效率。

    使用 SqlSugar 连接 OceanBase 数据库的具体操作示例请参见 [C 应用程序连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/300.c-of-oracle-mode/300.sqlsugar-connection-to-oceanbase-database-sample-program.md)。

### Java

* Java 驱动

  * OceanBase Connector/J

    OceanBase Connector/J 使用标准 Java 数据库连接 (JDBC) API 为 Java 应用程序提供连接到 OceanBase 数据库的驱动程序。

    Java 数据库连接器（Java Database Connectivity，JDBC）提供了 Java 连接关系数据库的接口，是一种 Java 标准。JDBC 标准由 Sun Microsystems 定义，通过标准 `java.sql` 接口实现，支持各个提供程序使用自己的 JDBC 驱动程序来实现和扩展标准。JDBC 是基于 X/Open SQL 的调用级别接口（Call Level Interface，CLI）。

    OceanBase Connector/J 驱动程序属于 JDBC Type 4 驱动类型，可以通过本地协议直接与数据库引擎通信。Connector/J 驱动程序兼容 OB2.0 协议。

    OceanBase 数据库支持 OceanBase Connector/J 驱动，同时完全兼容 MySQL 原生的 JDBC 驱动（MySQL Connector Java）。OceanBase Connector/J 完全兼容 MySQL JDBC 的使用方式，可以自动识别 OceanBase 数据库的运行模式是 MySQL 还是 Oracle，并在协议层同时兼容这两种模式。

    <main id="notice" type='notice'>
      <h4>注意</h4>
      <p>OceanBase 数据库会依据 JDBC 驱动连接时的租户名称判断运行模式为 MySQL 或者 Oracle。Oracle 模式的租户只允许使用 Oracle 兼容的 SQL 语法。</p>
    </main>

    除了支持标准的 JDBC 应用程序编程接口（API），OceanBase Connector/J 还兼容 Oracle Driver 的使用方式，OceanBase 的 Oracle 模式兼容 Oracle 的大部分语法。

    OceanBase Connector/J 采用一键安装模式，驱动安装包名称为：`oceanbase-client-[版本号].jar`。

    获取 OceanBase Connector/J 驱动程序安装包。请在 OceanBase 官方网站的 **资源 -> 下载中心 -> 企业版 -> 驱动和中间件** 下的 [OceanBase JDBC 驱动程序](https://www.oceanbase.com/softwarecenter-enterprise) 中单击对应的版本，填写信息后自助下载 OceanBase Connector/J 驱动程序安装包。关于具体安装步骤，请参见官网文档 [OceanBase Connector/J](https://www.oceanbase.com/docs/enterprise/oceanbase-connector-j-cn)。

     使用 Java 应用程序连接 OceanBase 数据库的具体操作示例请参见 [Java 应用程序连接 OceanBase 数据库](../../../200.quickstart/300.create-sample-application-of-oracle-mode/200.java-application-of-oracle-model.md)。

  * SpringJDBC

    SpringJDBC 连接 OceanBase 数据库的具体操作示例请参见 [SpringJDBC 连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/100.java-of-oracle-mode/900.connect-to-the-oceanbase-database-through-spring-jdbc-of-oracle-mode.md)。

* Java ORM 框架

  * SpringBoot

    SpringBoot 连接 OceanBase 数据库的具体操作示例请参见 [SpringBoot 连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/100.java-of-oracle-mode/700.connect-to-the-oceanbase-database-through-spring-boot-of-oracle-mode.md)。

  * SpringBatch

    SpringBatch 连接 OceanBase 数据库的具体操作示例请参见 [SpringBatch 连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/100.java-of-oracle-mode/800.connect-to-the-oceanbase-database-through-spring-batch-of-oracle-mode.md)。

  * SpringDataJPA

    SpringDataJPA 连接 OceanBase 数据库的具体操作示例请参见 [SpringDataJPA 连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/100.java-of-oracle-mode/1000.connect-to-the-oceanbase-database-through-springjpa-of-oracle-mode.md)。

  * Hibernate

    Hibernate 连接 OceanBase 数据库的具体操作示例请参见 [Hibernate 连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/100.java-of-oracle-mode/1100.connect-to-the-oceanbase-database-through-hibernate-of-oracle-mode.md)。

  * MyBatis

    MyBatis 连接 OceanBase 数据库的具体操作示例请参见 [MyBatis 连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/100.java-of-oracle-mode/1200.connect-to-the-oceanbase-database-through-mybatis-of-oracle-mode.md)。

  * Jfinal

    Jfinal 连接 OceanBase 数据库的具体操作示例请参见 [MyBatis 连接 OceanBase 数据库](../200.sample-program-of-oracle-mode/100.java-of-oracle-mode/1300.springbatch-connection-oceanbase-database-sample-program.md)。

## 连接池配置

OceanBase 数据库支持多种连接池实现，您可以根据业务需求选择合适的连接池。以下是各连接池的特点和适用场景：

| 连接池 | 特点 | 适用场景 |
|-------|------|---------|
| Druid | 功能全面，提供监控和统计功能 | 企业级应用，需要监控和管理连接池 |
| HikariCP | 高性能，轻量级 | 高并发应用，追求性能 |
| C3P0 | 成熟稳定，功能丰富 | 传统 Java 应用 |
| DBCP | Apache 项目，配置灵活 | 需要与 Spring 等框架集成 |
| Proxool | 支持连接池监控 | 需要监控连接状态的应用 |
| Tomcat | 内置于 Tomcat 容器 | Web 应用 |
| Commons Pool | 通用对象池实现 | 需要自定义连接池逻辑 |

### 连接池配置建议

* 初始连接数：建议设置为 5-10
* 最大连接数：根据应用负载和数据库资源情况设置
* 连接超时时间：建议设置为 30 秒
* 空闲连接回收时间：建议设置为 10 分钟
* 验证查询：建议设置为 `SELECT 1 FROM DUAL`

### 监控与维护

* 定期检查连接池状态，避免连接泄漏
* 监控连接等待时间和活跃连接数
* 根据业务负载动态调整连接池参数

## 连接池实现示例

OceanBase 数据库支持以下连接池实现，点击查看详细配置示例：

* [Tomcat](1300.use-the-database-connection-pool-of-oracle-mode/200.tomcat-connection-pool-configuration-example-of-oracle-mode.md)
* [C3P0](1300.use-the-database-connection-pool-of-oracle-mode/300.c3p0-connection-pool-configuration-example-of-oracle-mode.md)
* [Proxool](1300.use-the-database-connection-pool-of-oracle-mode/400.proxool-connection-pool-configuration-example-of-oracle-mode.md)
* [HikariCP](1300.use-the-database-connection-pool-of-oracle-mode/500.hikaricp-connection-pool-configuration-example-of-oracle-mode.md)
* [DBCP](1300.use-the-database-connection-pool-of-oracle-mode/600.dbcp-connection-pool-example-of-oracle-mode.md)
* [Commons Pool](1300.use-the-database-connection-pool-of-oracle-mode/700.commonpool-configuration-example-of-oracle-mode.md)
* [Druid](1300.use-the-database-connection-pool-of-oracle-mode/800.druid-connection-pool-configuration-example-of-oracle-mode.md)
