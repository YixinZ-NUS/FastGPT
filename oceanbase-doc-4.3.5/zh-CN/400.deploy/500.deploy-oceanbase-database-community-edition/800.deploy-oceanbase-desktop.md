# 安装 OceanBase 桌面版

本文分别介绍如何在 Windows 或 macOS 操作系统下安装 OceanBase 桌面版。

<main id="notice" type='notice'>
  <h4>注意</h4>
  <p>OceanBase 桌面版仅适用于学习或测试场景，请不要应用于生产环境。</p>
</main>

本文操作录有对应视频，您也可查看视频了解如何安装 OceanBase 桌面版。

<div role="videolist">
      <a role='video' href='https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/video-center/video/video/1750902627686ob%20%E6%A1%8C%E9%9D%A2%E7%89%88%E5%AE%89%E8%A3%85_07%20%E8%BE%93%E5%87%BA.mp4'>
          <img src='https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/ocp/422/Play%2002.png'/>
          部署 OceanBase 桌面版（Windows 系统）
      </a>
</div>

## 背景介绍

OceanBase 桌面版是一个用于管理和操作 OceanBase 数据库的桌面应用程序。它提供了图形化界面，使用户能够方便地进行数据库管理、查询执行、数据导入导出等操作。

OceanBase 桌面版具有如下特性：

* **图形化界面**：直观易用的图形化界面，简化数据库管理任务。

* **数据库管理**：支持创建和管理数据库实例。

* **查询执行**：提供 SQL 查询命令行。

* **监控与日志**：实时监控数据库状态。

## 检查配置

:::tab

tab Windows 操作系统

执行下文在 Windows 操作系统下安装 OceanBase 桌面版操作前，您需确保所用机器满足如下要求：

* 所用操作系统为 Windows（x86-64 芯片）。WSL 2 需要 Windows 10 1903 或更高版本（内部版本 18362 或更高版本），或 Windows 11。

* 至少需要 2vCPU、6 GB 内存、10 GB 磁盘的可用资源。

可按照如下操作查看自身机器是否满足要求。

* 检查 Windows 版本

  您可同时按下键盘 [Win] + [Q] 键，搜索 **设置**，单击进入 **设置**。在 **设置** 页面单击 **系统**，下滑找到 **关于**，即可查看 Windows 操作系统内部版本。

  ![版本](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-01.png)

* 查看内存和 CPU

  同时按下键盘 [Win] + [Q] 键，搜索 **任务管理器**，单击打开后进入 **性能** 界面。**性能** 界面下切换到 **CPU** 标签页可以查看 CPU 的核数；切换到 **内存** 标签页可以查看内存的使用情况。

  ![CPU](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-03.png)

* 检查磁盘

  您可同时按下键盘 [Win] + [Q] 键，搜索 **文件资源管理器**，单击打开。在 **文件资源管理器** 中单击左侧 **此电脑**，查看 **设备和驱动器** 下展示的磁盘情况。

tab macOS 操作系统

执行下文在 macOS 操作系统下安装 OceanBase 桌面版操作前，您需确保所用机器满足如下要求：

* 所用操作系统为 macOS 操作系统（Apple Silicon 芯片和 Intel 芯片）。

* 至少需要 2vCPU、6 GB 内存、10 GB 磁盘的可用资源。

可按照如下操作查看自身机器是否满足要求。

* 检查 CPU 和内存

  打开 Finder，单击 **应用程序**，在 **应用程序** 模块选择 **实用工具** 文件夹，之后双击打开 **活动监视器**。活动监视器中的 **CPU** 标签页下可以查看 CPU 的使用情况；切换到 **内存** 标签页可以查看内存的使用情况。

  ![活动监视器](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-07.png)

* 检查磁盘

  单击计算机左上角苹果图标，之后单击 **关于本机**，在出现的窗口中单击 **更多信息**，查看 **储存空间** 下显示的磁盘信息。

  ![磁盘](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-06.png)

:::

## 操作步骤

:::tab

tab Windows 操作系统

### 步骤一：安装依赖

Windows 操作系统中安装 OceanBase 桌面版需依赖 WSL（Windows Subsyetem for Linux，适用于 Linux 的 Windows 子系统）。WSL 是 Microsoft 公司于 2016 年在 Windows 10 平台发布的一项功能，其使得用户可以在 Windows 操作系统上运行 ELF 格式的 Linux 可执行文件。

WSL 目前已发布两代产品：WSL 1 和 WSL 2。WSL 1 实现了 Linux 兼容层，将 Linux 系统调用转换为 Windows NT 系统调用；而 WSL 2 则利用 Windows 的 Hyper-V 功能，通过虚拟化技术直接运行 Linux 虚拟机，更接近原生 Linux 操作系统体验。

<main id="notice" type='notice'>
  <h4>注意</h4>
  <p>WSL 2 并不是 WSL 1 的升级版本，因此安装 WSL 2 不需要先安装 WSL 1，OceanBase 桌面版镜像只能使用 WSL 2。</p>
</main>

1. 查看是否已开启虚拟化

   同时按下键盘 [Win] + [Q] 键，搜索 **任务管理器**，单击打开后进入 **性能** 界面，查看 **CPU**。如下图所示，若已开启虚拟化，**虚拟化** 一栏显示为 **已启用**。如果 **虚拟化** 一栏显示为 **已禁用**，则参考下文开启 BIOS 中虚拟化功能。

   ![虚拟化](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-08.png)

2. 开启主板虚拟化

   本节以 ThinkPad（联想旗下品牌）中操作为例介绍如何进入 BIOS 并开启主板虚拟化。计算机不同品牌计算机进入 BIOS 和开启主板虚拟化的操作略有不同，您可访问各自品牌的官网查看具体操作，如 [戴尔（Dell）](https://www.dell.com/support/kbdoc/zh-cn/000195978/%E5%A6%82%E4%BD%95%E5%9C%A8%E6%88%B4%E5%B0%94%E7%B3%BB%E7%BB%9F%E4%B8%8A%E5%90%AF%E7%94%A8%E6%88%96%E7%A6%81%E7%94%A8%E7%A1%AC%E4%BB%B6%E8%99%9A%E6%8B%9F%E5%8C%96)、[联想（Lenovo）](https://support.lenovo.com/us/zc/solutions/ht500006-how-to-enable-virtualization-technology-on-lenovo-computers)、[ThinkPad（联想旗下品牌）](https://support.lenovo.com/us/zc/solutions/ht500006-how-to-enable-virtualization-technology-on-lenovo-computers)、[惠普（HP）](https://support.hp.com/cn-zh/search?q=%E5%BC%80%E5%90%AF%E8%99%9A%E6%8B%9F%E5%8C%96)、和 [华为（Huawei）](https://consumer.huawei.com/cn/support/content/zh-cn15777885/)，或通过浏览器搜索自己计算机对应的型号操作。

   1. 打开 **开始** 菜单，单击 **电源** 按钮，单击 **重启**。

   2. 计算机重启后，立即按键盘 **F1** 键访问 BIOS 设置。

   3. 在 BIOS 页面中单击 **Security** 选项，并在 **Security** 页面单击 **Security Virtualization**。

   4. 进入对应设置页面后，将 **Virtualization Technology** 后的按钮调到 **no**。

   5. 调整后单击 **Save and Exit** 保存修改并退出 BIOS 设置，等待系统重新启动。

   <main id="notice" type='explain'>
     <h4>说明</h4>
     <p>开启后可参照上一步操作再次验证虚拟化是否已开启。</p>
   </main>

3. 启动 WSL 功能和虚拟机平台功能

   有如下两种方法启动 WSL 功能和虚拟机平台功能，您可根据实际情况选择合适的启动方法。

   * 方法一：使用命令行开启

     同时按下键盘 [Win] + [Q] 键，搜索 **powershell** 或 **Windows Powershell**，单击 **以管理员身份运行** 或 **Run As Administrator**，在打开的命令行中输入如下命令，两条命令均执行成功后重启计算机即可。

     ```shell
     #启动 WSL 功能
     dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart

     #启动虚拟机平台功能
     dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
     ```

   * 方法二：通过图形化界面开启

     同时按下键盘 [Win] + [R] 键，输入 `optionalfeatures` 并单击 **确定** 打开 **Windows 功能** 窗口，或者同时按下键盘 [Win] + [Q] 键，搜索 **启用或关闭 Windows 功能**，单击打开 **Windows 功能** 窗口。下滑找到并勾选 **适用于 Linux 的 Windows 子系统** 和 **虚拟机平台**，单击 **确定** 后重启计算机即可。

     ![配置](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-04.png)

4. 安装 WSL 2 内核组件

   您可文档中单击 [下载](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/download-center/opensource/obdesktop/4.3.5.0/wsl.2.5.7.0.x64.msi) 下载 `wsl.2.5.7.0.x64.msi` 文件，或访问 WSL [GitHub 仓库](https://github.com/microsoft/WSL) 下载所需的 WSL 安装包。下载成功后双击下载的文件运行对应安装包，一步步单击 **Next** 进行安装。

5. 将 WSL 2 设置为默认版本

   在 cmd 或 powershell 命令行中输入如下命令：

   ```shell
   wsl --set-default-version 2
   ```

6. 验证是否安装成功

   在 cmd 或 powershell 命令行中输入如下命令：

   ```shell
   wsl --version
   ```

   输出如下，显示的 `WSL 版本` 是 `2.xxx`，表示成功安装了 WSL 2。

   ```shell
   WSL 版本: 2.5.7.0
   内核版本: 6.6.87.1-1
   WSLg 版本: 1.0.66
   MSRDC 版本: 1.2.6074
   Direct3D 版本: 1.611.1-81528511
   DXCore 版本: 10.0.26100.1-240331-1435.ge-release
   Windows: 10.0.19045.5854
   ```

### 步骤二：安装 OceanBase 桌面版

1. 下载安装包

   访问 [OceanBase 软件下载中心](https://www.oceanbase.com/softwarecenter)，搜索 **OceanBase桌面版**，单击 **Windows 版** 下载所需安装包。

2. 安装应用

   1. 双击下载的 `OceanBase-Desktop-Setup-x.x.x.exe` 文件。

   2. 在弹出的 **用户帐户控制** 窗口单击 **是** 允许应用对设备进行更改。

   3. 选择应用安装位置，默认安装在 C 盘，您可单击 **浏览** 选择其他文件夹进行安装，确认后单击 **安装**。

      ![安装目录](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-12.png)

   4. 安装完成后，单击 **完成**，将会自动运行 OceanBase 桌面版。

      ![完成安装](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-13.png)

3. 启动 OceanBase 桌面版

   安装完成后会自动部署一个处于 `已停止` 状态的 OceanBase 数据库，单击 OceanBase 桌面版中的 **启动** 按钮即可启动 OceanBase 数据库。

   ![启动](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-05.png)

### 步骤三：连接 OceanBase 桌面版

OceanBase 数据库启动成功后，单击 OceanBase 桌面版中的 **连接** 按钮，即可自动连接 OceanBase 数据库。您也可手动执行连接 OceanBase 数据库，连接串示例如下：

```shell
wsl.exe -d oceanbase-desktop --exec bash -c "obclient -h127.1 -P2881 -uroot@test -Doceanbase -A"
```

tab macOS 操作系统

macOS 操作系统下提供两种安装方式：通过 Homebrew 安装、通过 dmg 安装包安装，本节将分别为您介绍。

  :::tab

  tab 通过 Homebrew 安装

  1. 安装 Homebrew

     若当前环境中未安装 Homebrew，可执行如下命令进行安装。

     ```shell
     /bin/bash -c "$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)"
     ```

  2. 添加 OceanBase 桌面版的 Tap

     将 OceanBase 桌面版的 Tap 添加到 Homebrew 后，可通过 `brew install` 命令安装 OceanBase 提供的官方包。

     ```shell
     brew tap oceanbase/homebrew-oceanbase-desktop https://gitee.com/oceanbase/homebrew-oceanbase-desktop.git
     ```

  3. 安装 OceanBase 桌面版

     ```shell
     brew install --cask oceanbase-desktop
     ```

     命令执行后将自动下载最新版本的 OceanBase 桌面版，并安装 OrbStack 作为依赖项（若环境中尚未安装），安装成功后应用程序会被放置在应用程序文件夹中。

  4. 启动应用程序

     在应用程序文件夹中找到 `OceanBase Desktop`，或使用 Spotlight 搜索 `OceanBase Desktop`，双击启动。首次启动应用程序时请耐心等待，程序将在后台完成初始化。进入应用程序后，单击页面中的 **启动** 按钮即可启动 OceanBase 数据库。

  <main id="notice" type='explain'>
    <h4>说明</h4>
    <p>如需卸载 OceanBase 桌面版，可执行 <code>brew uninstall --cask oceanbase-desktop</code> 命令，该命令将会同时清理应用程序文件、应用程序支持数据、保存的应用程序状态，以及应用程序虚拟机。</p>
  </main>

  tab 通过 dmg 安装包安装

  ### 步骤一：安装依赖

  macOS 中安装 OceanBase 桌面版需依赖 OrbStack。OrbStack 是一种现代化的容器与虚拟机管理工具，为 macOS 用户设计，旨在提供高效的容器运行（如 Docker 容器）和轻量级虚拟机支持。它的目标是替代 Docker Desktop 和其他繁琐的虚拟化工具，同时显著提高性能、节约系统资源，并简化开发者的使用体验。

  <main id="notice" type='explain'>
    <h4>说明</h4>
    <p>OrbStack 官方教程中有两种安装方法：下载安装包、执行 brew 命令。此处以下载安装包安装为例，其他方法请参见 <a href="https://docs.orbstack.dev/quick-start">官方教程</a>。</p>
  </main>

  1. 下载安装包

     您可访问 [官网下载链接](https://orbstack.dev/download) 下载安装包。链接中按照操作系统所用芯片（Apple Silicon 芯片和 Intel 芯片）分为两个安装包，您可单击计算机左上角苹果图标，之后单击 **关于本机**，查看计算机所用芯片类型。

     ![处理器](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.oceanbase-desktop/800.deploy-oceanbase-desktop-10.png)

  2. 安装

     双击对应 dmg 安装包，拖动图标至 Applications 文件夹进行安装。

     <main id="notice" type='notice'>
       <h4>注意</h4>
       <p>如果是首次安装，请务必完成 OrbStack 的初始引导流程，否则无法正常导入镜像。</p>
     </main>

     ![安装](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.deploy-oceanbase-desktop/800.deploy-oceanbase-desktop-06.png)

  3. （可选）验证是否安装成功

     选择 Machines（虚拟机）部分，安装一个 Ubuntu 最新镜像。该过程会有较长的等待时间，请耐心等待。

     ![ubuntu](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.deploy-oceanbase-desktop/800.deploy-oceanbase-desktop-07.png)

     安装完成后，双击对应虚拟机，如果可以进入命令行链接界面，即表示 OrbStack 已安装成功。

     ![验证](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/400.deploy/800.deploy-oceanbase-desktop/800.deploy-oceanbase-desktop-08.png)

  ### 步骤二：安装 OceanBase 桌面版

  1. 下载安装包

     访问 [OceanBase 软件下载中心](https://www.oceanbase.com/softwarecenter)，搜索 **OceanBase桌面版**，单击 **Mac 版** 下载所需安装包。

  2. 安装应用

     双击对应安装包，拖动图标至 Applications 文件夹进行安装。

  3. 启动 OceanBase 桌面版

     安装完成后会自动部署一个处于 `已停止` 状态的 OceanBase 数据库，单击图形化页面中的 **启动** 按钮即可启动 OceanBase 数据库。

  :::

### 连接 OceanBase 桌面版

OceanBase 数据库启动成功后，单击 OceanBase 桌面版中的 **连接** 按钮，即可自动连接 OceanBase 数据库。您也可手动执行连接 OceanBase 数据库，连接串示例如下：

```shell
mysql -h127.0.0.1 -P2881 -uroot@test -Doceanbase -A
```

连接 OceanBase 数据库的介绍可参见 [连接方式概述](../../300.develop/100.application-development-of-mysql-mode/100.connect-to-oceanbase-database-of-mysql-mode/100.connection-methods-overview-of-mysql-mode.md)。

:::

## 相关文档

管控页面的操作可参见 [obshell Dashboard](../../700.reference/1500.Components-and-Tools/100.manage/100.obshell/350.ob-dashboard/100.ob-dashboard-overview.md)。
