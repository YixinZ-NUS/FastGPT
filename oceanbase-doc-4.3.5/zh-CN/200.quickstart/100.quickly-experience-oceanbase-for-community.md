|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# 快速体验 OceanBase 社区版

本文根据使用场景详细介绍如何快速部署 OceanBase 数据库，旨在帮助您快速掌握并成功使用 OceanBase 数据库。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>本文档<b>不适用于生产环境</b>，如需在生产环境中部署 OceanBase 数据库，请参见 <a href="../400.deploy/500.deploy-oceanbase-database-community-edition/100.deployment-overview.md">OceanBase 数据库社区版部署概述</a> 选择合适的部署方法。 </p>
</main>

## 组件介绍

* obd

  OceanBase Deployer，OceanBase 安装部署工具，简称为 obd。详细信息请参考官网文档 [OceanBase 安装部署工具](https://www.oceanbase.com/docs/obd-cn)。

* ODP

  OceanBase Database Proxy，OceanBase 数据库代理，是 OceanBase 数据库专用的代理服务器，简称为 ODP（又称为 OBProxy）。详细信息请参考官网文档 [OceanBase 数据库代理](https://www.oceanbase.com/docs/odp-doc-cn)。

* OBAgent

  OBAgent 是 OceanBase 数据库监控采集框架，支持推、拉两种数据采集模式，可以满足不同的应用场景。

* Grafana

  Grafana 是一款开源的数据可视化工具，它可以将数据源中的各种指标数据进行可视化展示，以便更直观地了解系统运行状态和性能指标。详细信息可参见 [Grafana 官网](https://grafana.com/)。

* Prometheus

  Prometheus 是一个开源的服务监控系统和时序数据库，其提供了通用的数据模型以及快捷数据采集、存储和查询接口。详细信息可参见 [Prometheus 官网](https://prometheus.io/)。

## 前提条件

在参考本文安装 OceanBase 数据库之前，确保您的软硬件环境满足以下要求：

| 项目 | 描述 |
| --- | --- |
|系统|<ul><li>Anolis OS 8.X 版本（内核 Linux 4.19 版本及以上）</li><li>Alibaba Cloud Linux 2/3 版本（内核 Linux 4.19 版本及以上）</li><li>Red Hat Enterprise Linux Server 7.X 版本、8.X 版本（内核 Linux 4.19 版本及以上）</li><li>CentOS Linux 7.X 版本、8.X 版本（内核 Linux 4.19 版本及以上）</li><li>Rocky Linux 9（内核 Linux 5.14）</li><li>Debian 9.X 版本及以上版本（内核 Linux 4.19 版本及以上）</li><li>Ubuntu 16.X 版本及以上版本（内核 Linux 4.19 版本及以上）</li><li>SUSE / openSUSE 15.X 版本及以上版本（内核 Linux 4.19 版本及以上） </li><li>KylinOS V10 版本、V11 版本</li><li>统信 UOS V20 版本</li><li>中科方德 NFSChina 4.0 版本</li><li>浪潮 Inspur kos 5.8 版本</li></ul>|
|CPU|最低要求 2 核，推荐 4 核及以上。|
|内存|最低要求 6 GB，推荐设置在 16 GB 至 1024 GB 范围内。|
|磁盘类型| 使用 SSD 存储。|
|磁盘存储空间|最低要求 20 GB。|
|文件系统|EXT4 或 XFS，当数据超过 16 TB 时，使用 XFS。|
| 端口 | 需保证组件的默认端口未被占用：<ul><li>OceanBase 数据库默认使用 2881、2882、2886 端口。</li><li>ODP 默认使用 2883、2884、2885 端口。</li><li>OBAgent 默认使用 8088、8089 端口。</li><li>Prometheus 默认使用 9090 端口。</li><li>Grafana 默认使用 3000 端口。</li></ul> |
| all-in-one 安装包 | all-in-one 安装包需选择 V4.1.0 及以上版本。|
| Docker | 使用 Docker 部署 OceanBase 数据库时需提前安装 Docker 并启动 Docker 服务，详细操作请参考 [Docker 文档](https://docs.docker.com/get-docker/)。<main id="notice" type='explain'><h4>说明</h4><p>在使用 x86 架构的 MAC 机器时，仅支持使用 V4.9.0 及以下版本的 Docker 部署 OceanBase 数据库，可点击 <a href="https://desktop.docker.com/mac/main/amd64/81317/Docker.dmg?_gl=17jelfd_gcl_auOTk5Nzk0MDUwLjE3MTE4ODMyNzM._gaNDQyMjE1MDE5LjE3MTE4ODMyNzQ._ga_XJWPQMJYHQ*MTcxOTIxOTEwMy4xMS4xLjE3MTkyMjEwMTAuNjAuMC4w">链接</a> 下载 Docker。</p></main>   |

## 快速体验 OceanBase 数据库

此方案适用于仅有一台机器时，快速搭建一个可用的 OceanBase 数据库环境。部署的 OceanBase 数据库环境具备数据库的基本功能，可以有效地帮助您了解 OceanBase 数据库；但是该环境不具备任何分布式能力及高可用特性，不建议长期使用。

您可以使用以下四种方法快速体验 OceanBase 数据库。

### 方法一：使用 All in One 安装包

```shell
bash -c "$(curl -s https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/download-center/opensource/oceanbase-all-in-one/installer.sh)"
source ~/.oceanbase-all-in-one/bin/env.sh
obd demo
```

以上为快速体验命令，将 **在线下载** 最新版本的 OceanBase All in One 包并直接使用 **当前账号** 部署 OceanBase 数据库、ODP 和监控组件（OBAgent、Grafana、Prometheus），后续可以通过 obd 命令管理 OceanBase 数据库及组件。离线安装 OceanBase All in One 的步骤和 `obd demo` 命令的更多介绍可分别参见官网《OceanBase 安装部署工具》文档 [快速上手/安装 obd](https://www.oceanbase.com/docs/community-obd-cn-1000000002691290) 和 [obd 命令/快速部署命令](https://www.oceanbase.com/docs/community-obd-cn-1000000002691281)。

`obd demo` 命令执行成功后会输出部署组件的连接方式，您可复制并执行 `oceanbase-ce` 组件下的连接串，使用 root 用户登录集群的 sys 租户。登录集群后可执行 SQL 语句进行简单的功能体验，具体可参见 [SQL 基础操作（MySQL 模式）](200.get-started-with-oceanbase-sql/200.basic-sql-operations-of-mysql-mode.md)。

### 方法二：直接使用 RPM 包

<main id="notice" type='explain'>
  <h4>说明</h4>
  <ul>
  <li>本方法依赖于 systemctl 命令，请在非容器环境下进行操作。</li>
  <li><p>通过本方法安装 OceanBase 数据库时仅支持以下系统：</p><ul><li>Anolis OS 8.X 版本（内核 Linux 4.19 版本及以上）</li><li>CentOS Linux 8.X 版本（内核 Linux 4.19 版本及以上）</li><li>Debian 10、11 和 12 版本（内核 Linux 4.19 版本及以上）</li><li>openEuler 22.03 和 24.03 版本（内核 Linux 5.10.0 版本及以上）</li><li>Ubuntu 18.04、20.04 和 22.04 版本（内核 Linux 4.19 版本及以上）</li></ul></li>
  </ul>
</main>

```shell
sudo bash -c "$(curl -s https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/download-center/opensource/service/installer.sh)"
```

以上为快速体验命令，将 **在线下载** 最新版本的 RPM 包并直接使用 `root` 账号进行安装，后续可以通过 systemctl 命令管理 OceanBase 数据库。详细配置及离线安装步骤请参考官网《OceanBase 数据库》文档 [使用 systemd 部署 OceanBase 数据库](../400.deploy/500.deploy-oceanbase-database-community-edition/200.local-deployment/600.deploy-by-systemd.md)。

命令执行成功后会输出 OceanBase 数据库的连接方式，您可复制并执行输出的连接串，使用 root 用户登录集群的 sys 租户。登录集群后可执行 SQL 语句进行简单的功能体验，具体可参见 [SQL 基础操作（MySQL 模式）](200.get-started-with-oceanbase-sql/200.basic-sql-operations-of-mysql-mode.md)。

### 方法三：使用 Docker 快速体验

此方案适用于非 Linux 操作系统的用户（例如 Windows、macOS），希望通过容器实现部署、管理 OceanBase 数据库的用户。该方案未经过规模化的验证，建议谨慎使用。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>在使用 x86 架构的 MAC 机器时，仅支持使用 V4.9.0 及以下版本的 Docker 部署 OceanBase 数据库，可点击 <a href="https://desktop.docker.com/mac/main/amd64/81317/Docker.dmg?_gl=17jelfd_gcl_auOTk5Nzk0MDUwLjE3MTE4ODMyNzM._gaNDQyMjE1MDE5LjE3MTE4ODMyNzQ._ga_XJWPQMJYHQ*MTcxOTIxOTEwMy4xMS4xLjE3MTkyMjEwMTAuNjAuMC4w">链接</a> 下载 Docker。</p>
</main>

```shell
sudo docker run -p 2881:2881 --name obstandalone -e MODE=MINI -d quay.io/oceanbase/oceanbase-ce
```

以上为快速体验命令，将 **在线下载** 最新的镜像并启动最小规格的 OceanBase 数据库，后续可通过 docker 命令管理 OceanBase 数据库。详细配置请参考官网《OceanBase 数据库》文档 [部署 OceanBase 数据库容器环境](../400.deploy/500.deploy-oceanbase-database-community-edition/200.local-deployment/700.deploy-by-docker.md)。

部署成功后可执行下述命令，使用 root 用户登录集群的 sys 租户。登录集群后可执行 SQL 语句进行简单的功能体验，具体可参见 [SQL 基础操作（MySQL 模式）](200.get-started-with-oceanbase-sql/200.basic-sql-operations-of-mysql-mode.md)。

```shell
#进入 Docker 容器
sudo docker exec -it obstandalone bash
#连接集群，密码默认为空
obclient -uroot@sys -h127.0.0.1 -Doceanbase -P2881 -p
```

### 方法四：安装桌面版 OceanBase 数据库

OceanBase 桌面版是一个用于管理和操作 OceanBase 数据库的桌面应用程序。它提供了图形化界面，使用户能够方便地进行数据库管理、查询执行、数据导入导出等操作。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <ul>
  <li><p>仅支持在 Windows（x86-64 芯片）和 macOS 操作系统下安装 OceanBase 桌面版。</p></li>
  <li><p>安装 OceanBase 桌面版前需安装所需依赖：wsl（Windows）或 OrbStack（macOS）。您可自行搜索安装方法进行安装，也可参考我们提供的文档 <a href="../400.deploy/500.deploy-oceanbase-database-community-edition/800.deploy-oceanbase-desktop.md">安装 OceanBase 桌面版</a> 进行安装。</p></li>
  </ul>
</main>

1. 下载安装包

   访问 [OceanBase 软件下载中心](https://www.oceanbase.com/softwarecenter)，搜索 **OceanBase桌面版**，根据所用机器的操作系统下载所需安装包。

2. 安装应用并启动 OceanBase 桌面版

   安装后会自动部署一个处于 `已停止` 状态的 OceanBase 数据库，单击图形化页面中的 `启动` 即可启动 OceanBase 数据库。

3. 连接 OceanBase 桌面版

   单击 OceanBase 桌面版中的 **连接** 按钮，即可自动连接 OceanBase 数据库。登录集群后可执行 SQL 语句进行简单的功能体验，具体可参见 [SQL 基础操作（MySQL 模式）](200.get-started-with-oceanbase-sql/200.basic-sql-operations-of-mysql-mode.md)。

## 相关文档

* OceanBase 数据库社区版部署方式及适用场景的介绍可参见 [OceanBase 数据库社区版部署概述](../400.deploy/500.deploy-oceanbase-database-community-edition/100.deployment-overview.md)。

* 清理集群的具体操作可参见 [清理旧集群](../400.deploy/600.clean-up-old-clusters.md)。
