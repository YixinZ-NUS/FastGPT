|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# 查索引的主表

如果获取了索引名，也可以直接查询视图 `CDB_INDEXES`（系统租户）、`information_schema.statistics`（MySQL 用户租户）或 `DBA_INDEXES`/`ALL_INDEXES`/`USER_INDEXES`（Oracle 用户租户），通过索引名来获取对应的主表信息，方法如下：

<main id="notice" type='explain'>
<h4>说明</h4>
<p>在 <code>CDB_INDEXES</code>、<code>information_schema.statistics</code>、<code>DBA_INDEXES</code>、<code>ALL_INDEXES</code>、<code>USER_INDEXES</code> 等视图中，字段 <code>CON_ID</code> 均表示租户 ID。</p>
</main>

* 系统租户

  系统租户下，可以通过以下语句进行查询。

  ```shell
  SELECT CON_ID, TABLE_OWNER, TABLE_NAME, INDEX_NAME FROM oceanbase.CDB_INDEXES WHERE CON_ID=tenant_id AND INDEX_NAME='index_name';
  ```

  例如，假设 `tenant_id` 为 1002 的租户下某个索引的名称为 `tbl2_f_rl_idx1`，则系统租户下查看该索引对应的主表的语句如下。

  ```shell
  obclient> SELECT CON_ID, TABLE_OWNER, TABLE_NAME, INDEX_NAME FROM oceanbase.CDB_INDEXES WHERE CON_ID=1002 AND INDEX_NAME='tbl2_f_rl_idx1';
  ```

  查询结果如下：

  ```shell
  +--------+-------------+------------+----------------+
  | CON_ID | TABLE_OWNER | TABLE_NAME | INDEX_NAME     |
  +--------+-------------+------------+----------------+
  |   1002 | infotest    | tbl2_f_rl  | tbl2_f_rl_idx1 |
  +--------+-------------+------------+----------------+
  1 row in set
  ```

* 用户租户

  MySQL 模式的用户租户下，可以通过以下语句进行查询。

  ```shell
  obclient> SELECT TABLE_SCHEMA, TABLE_NAME, INDEX_SCHEMA, INDEX_NAME FROM information_schema.statistics WHERE INDEX_NAME='index_name';
  ```

  Oracle 模式的用户租户下，可以通过以下语句进行查询。

  ```shell
  obclient> SELECT CON_ID, TABLE_OWNER, TABLE_NAME, INDEX_NAME FROM SYS.DBA_INDEXES WHERE INDEX_NAME='index_name';
  ```

  ```shell
  obclient> SELECT CON_ID, TABLE_OWNER, TABLE_NAME, INDEX_NAME FROM SYS.ALL_INDEXES WHERE INDEX_NAME='index_name';
  ```

  ```shell
  obclient> SELECT CON_ID, TABLE_OWNER, TABLE_NAME, INDEX_NAME FROM SYS.USER_INDEXES WHERE INDEX_NAME='index_name';
  ```
