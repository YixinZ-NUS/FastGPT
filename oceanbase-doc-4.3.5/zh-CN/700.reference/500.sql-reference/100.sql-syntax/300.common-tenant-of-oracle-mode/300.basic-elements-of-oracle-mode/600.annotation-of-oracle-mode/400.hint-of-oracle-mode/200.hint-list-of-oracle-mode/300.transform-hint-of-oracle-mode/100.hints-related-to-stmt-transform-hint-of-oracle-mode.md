| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      | Stmt Transform Hint |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |
|machine-translation||

# Transform Hint 类型下的 Stmt Transform Hint

查询转换 Hint（Stmt Transform Hint）允许在 SQL 查询中控制特定的查询转换操作。

| Hint 类型      | 描述                               |
|----------------|----------------------------------|
| `NO_REWRITE`   | 禁止对查询进行任何形式的改写。       |

## `NO_REWRITE` Hint

`NO_REWRITE` Hint 用于禁止在查询中进行改写。使用该 Hint 后，它所影响的查询块（Query Block）将不会参与任何查询改写操作。

### 语法说明

```sql
/*+ NO_REWRITE [ ( [ @ qb_name ] ) ] */
```

#### 参数解释

- `@qb_name`：可选，用于指定要应用 `NO_REWRITE` 属性的查询块名。如果未指定查询块名，则 Hint 将影响整个 SQL 语句。

### 示例

```sql
-- 以下查询中，由于添加了 NO_REWRITE Hint，所以不会对查询进行视图合并的改写。
SELECT /*+ NO_REWRITE */ * FROM (SELECT * FROM t1);
```

尽管 `NO_REWRITE` Hint 用来禁止查询改写，但是我们可以结合使用其他查询改写 Hint 来允许特定类型的查询改写。例如，在内层查询块中使用 `MERGE` Hint 可以指定视图合并改写，即使外层查询块使用了 `NO_REWRITE` Hint。

```sql
-- 外层查询使用了 NO_REWRITE Hint，所以不进行自动改写
SELECT /*+ NO_REWRITE */
    *
FROM
    (SELECT /*+ MERGE */ * FROM t1) -- 内层查询使用了 MERGE Hint，强制合并视图改写
WHERE
    t1.column1 = 'somevalue';
```