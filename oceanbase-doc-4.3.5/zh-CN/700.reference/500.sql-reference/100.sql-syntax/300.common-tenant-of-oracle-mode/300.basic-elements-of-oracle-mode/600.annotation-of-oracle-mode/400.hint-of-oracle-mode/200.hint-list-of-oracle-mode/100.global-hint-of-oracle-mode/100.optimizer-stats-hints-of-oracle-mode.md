| Description   |                 |
|---------------|-----------------|
| keywords      |                     |
| dir-name      |Optimizer Stats Hint |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |
|machine-translation||

# 全局 Hint 类型下的 Optimizer Stats Hint

全局 Hint 类型下的 Optimizer Stats Hint 用于告诉优化器在查询处理过程中使用特定的统计信息或方法。

常见的 Optimizer Stats Hint 包括 `GATHER_OPTIMIZER_STATISTICS Hint` 和 `NO_GATHER_OPTIMIZER_STATISTICS Hint`，它们影响优化器如何统计信息。

| Hint 名称 | 解释 |
| --- | --- |
| `GATHER_OPTIMIZER_STATISTICS` | 启用插入数据的同时收集统计信息。它的反向操作是 `NO_GATHER_OPTIMIZER_STATISTICS`。 |
| `NO_GATHER_OPTIMIZER_STATISTICS` | 禁止插入数据的同时收集统计信息。它的反向操作是 `GATHER_OPTIMIZER_STATISTICS`。 |

## `GATHER_OPTIMIZER_STATISTICS` Hint

`GATHER_OPTIMIZER_STATISTICS` Hint 指定执行 `INSERT INTO...SELECT` 时在线收集统计信息，更多信息，参见[在线统计信息收集](../../../../../../../../1000.performance-tuning-guide/500.sql-optimization/400.sql-optimization/400.optimizer-statistics/200.statistics-collection-methods/500.online-statistics-collection.md)。它的反向操作是 `NO_GATHER_OPTIMIZER_STATISTICS`。

### 语法

```sql
/*+ GATHER_OPTIMIZER_STATISTICS */
```

### 示例

```sql
--用于指示数据库优化器，在将 t2 表的数据插入到 t1 表后，收集优化器所需的统计信息
INSERT /*+ GATHER_OPTIMIZER_STATISTICS */ INTO t1 SELECT * FROM t2;
```

## `NO_GATHER_OPTIMIZER_STATISTICS` Hint

`NO_GATHER_OPTIMIZER_STATISTICS` Hint 指定禁止在线收集统计信息，与 `GATHER_OPTIMIZER_STATISTICS` Hint 为作用相反的 Hint，更多信息，参见[在线统计信息收集](../../../../../../../../1000.performance-tuning-guide/500.sql-optimization/400.sql-optimization/400.optimizer-statistics/200.statistics-collection-methods/500.online-statistics-collection.md)。它的反向操作是 `GATHER_OPTIMIZER_STATISTICS`。

### 语法

```sql
/*+ NO_GATHER_OPTIMIZER_STATISTICS */
```

### 示例

```sql
-- 用于指示数据库优化器，在将 t2 表的数据插入到 t1 表后，不要收集优化器统计信息
INSERT /*+ NO_GATHER_OPTIMIZER_STATISTICS */ INTO t1 SELECT * FROM t2;
```