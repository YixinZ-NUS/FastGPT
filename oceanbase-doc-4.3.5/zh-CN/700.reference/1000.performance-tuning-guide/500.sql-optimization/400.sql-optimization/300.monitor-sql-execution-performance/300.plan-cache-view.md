# 计划缓存视图

计划缓存（Plan Cache）是 OceanBase 数据库优化 SQL 执行效率的重要机制。通过缓存 SQL 的执行计划，避免重复编译和优化的开销，显著提升查询性能。

本文将介绍 OceanBase 数据库提供的计划缓存视图，帮助您全面掌握如何监控和分析计划缓存状态。

## 计划缓存视图介绍

OceanBase 提供了以下系统视图，用于查看计划缓存的运行状态和执行计划信息：

| 视图名 | 功能描述 |
|--------|---------|
| (G)V$OB_PLAN_CACHE_STAT         | 展示当前租户在当前（所有）OBServer 节点的计划缓存整体的状态。详细信息参见：<ul><li>[V$OB_PLAN_CACHE_STAT（MySQL 模式）](../../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/32800.v-ob_plan_cache_stat-of-mysql-mode.md) </li><li>[V$OB_PLAN_CACHE_STAT（Oracle 模式）](../../../../700.system-views/500.system-view-of-oracle-mode/300.performance-view-of-oracle-mode/34600.v-ob_plan_cache_stat-of-oracle-mode.md) </li><li>[GV$OB_PLAN_CACHE_STAT（MySQL 模式）](../../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/2400.gv-ob_plan_cache_stat-of-mysql-mode.md) </li><li>[GV$OB_PLAN_CACHE_STAT（Oracle 模式）](../../../../700.system-views/500.system-view-of-oracle-mode/300.performance-view-of-oracle-mode/2400.gv-ob_plan_cache_stat-of-oracle-mode.md) </li></ul>|
| (G)V$OB_PLAN_CACHE_PLAN_STAT    | 展示当前租户在当前（所有）OBServer 节点上的计划缓存中缓存的每一个缓存对象的状态。详细信息参见：<ul><li>[V$OB_PLAN_CACHE_PLAN_STAT（MySQL 模式）](../../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/32700.v-ob_plan_cache_plan_stat-of-mysql-mode.md) </li><li>[V$OB_PLAN_CACHE_PLAN_STAT（Oracle 模式）](../../../../700.system-views/500.system-view-of-oracle-mode/300.performance-view-of-oracle-mode/34500.v-ob_plan_cache_plan_stat-of-oracle-mode.md) </li><li>[GV$OB_PLAN_CACHE_PLAN_STAT（MySQL 模式）](../../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/2300.gv-ob_plan_cache_plan_stat-of-mysql-mode.md) </li><li>[GV$OB_PLAN_CACHE_PLAN_STAT（Oracle 模式）](../../../../700.system-views/500.system-view-of-oracle-mode/300.performance-view-of-oracle-mode/2300.gv-ob_plan_cache_plan_stat-of-oracle-mode.md) </li></ul>|
| (G)V$OB_PLAN_CACHE_PLAN_EXPLAIN | 展示缓存在当前（全部）OBServer 节点中的计划缓存中的物理执行计划。详细信息参见：<ul><li>[V$OB_PLAN_CACHE_PLAN_EXPLAIN（MySQL 模式）](../../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/32600.v-ob_plan_cache_plan_explain-of-mysql-mode.md) </li><li>[V$OB_PLAN_CACHE_PLAN_EXPLAIN（Oracle 模式）](../../../../700.system-views/500.system-view-of-oracle-mode/300.performance-view-of-oracle-mode/34400.v-ob_plan_cache_plan_explain-of-oracle-mode.md) </li><li>[GV$OB_PLAN_CACHE_PLAN_EXPLAIN（MySQL 模式）](../../../../700.system-views/400.system-view-of-mysql-mode/300.performance-view-of-mysql-mode/2200.gv-ob_plan_cache_plan_explain-of-mysql-mode.md) </li><li>[GV$OB_PLAN_CACHE_PLAN_EXPLAIN（Oracle 模式）](../../../../700.system-views/500.system-view-of-oracle-mode/300.performance-view-of-oracle-mode/2200.gv-ob_plan_cache_plan_explain-of-oracle-mode.md) </li></ul>|

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p><ul><li><code>GV$*</code>：用于显示整个集群的运行状态和性能指标信息，这类视图可以在整个集群中访问，提供全局状态信息。根据访问权限的不同有以下区分：<ul><li>在 sys 租户下访问，显示的是所有租户的信息。</li><li>在普通租户下访问，显示的是本租户的信息。</li></ul>
  </li><li><code>V$*</code>：用于显示客户端连接到的节点的运行状态和性能指标信息，这类视图只能用于提供客户端连接到的节点的状态信息，如果需要访问其他节点的状态信息，请使用 <code>GV$*</code> 视图。</li></ul></p>
</main>

## 相关文档

[实时执行计划展示](../../200.sql-execution-plan/500.real-time-execution-plan-display.md)
