# 查询 SQL 流量分布情况及 QPS

某些场景下可能会发生节点间负载不均衡而产生性能瓶颈，可以运行如下语句可以查询 SQL 流量在各 OBServer 节点间的分布情况及 QPS：

```shell
obclient> SELECT /*+ PARALLEL(15)*/
    t2.zone,
    t1.svr_ip,
    COUNT(*) AS RPC_COUNT,
    AVG(t1.elapsed_time),
    AVG(t1.queue_time)
FROM oceanbase.GV$OB_SQL_AUDIT t1,
     oceanbase.DBA_OB_SERVERS t2
WHERE t1.svr_ip = t2.svr_ip
AND t1.tenant_id = 1001
AND t1.sql_id = 'BF7AA13A28DF50BA5C33FF19F1DBD8A9'
AND t1.is_executor_rpc = 0
AND t1.request_time > (time_to_usec(now()) - 1000000)
AND t1.request_time < time_to_usec(now())
GROUP BY t1.svr_ip;
```
