|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# package_state_sync_max_size

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该配置项从 V4.3.5 BP1 版本引入。</p>
</main>

## 功能描述

`package_state_sync_max_size` 配置项用于控制单个 package state (包状态管理) 能序列化的长度。

## 权限要求

* 查询配置项

  `sys` 租户和所有用户租户均可以使用 `SHOW PARAMETERS` 语句或视图 `GV$OB_PARAMETERS` 查询该配置项。

* 修改配置项

  `sys` 租户和用户租户均可修改该配置项。

## 属性说明

| **属性**  |    **描述**  |
|-----------|---------------|
| 参数类型    |    Int              |
| 默认值      |  8192  |
| 取值范围    |      [0, 16777216]          |
| 是否可修改 | 是，支持通过 `ALTER SYSTEM SET` 语句修改。|
| 是否重启 OBServer 节点生效 | 否，设置后立即生效。 |

## 使用说明

* 该配置项是控制单个 package state 同步包变量的最大序列化长度，ODP 部署场景下，OBServer 侧发现包变量同步所需序列化长度超过设定值时，会通过同步特殊值来使得 ODP 将后续语句继续路由给原节点执行。

* 在分布式计划场景中，当远端节点构造 package state 时，如果收到特定值会报错。这种报错场景发生在 SQL 语句包含 UDF（用户定义函数）或触发器，并且显式标记了 `parallel_enable` 子句的情况下。遇到这种场景时，可以去掉 `parallel_enable` 子句，或者调大 `package_state_sync_max_size` 配置项的值。

## 配置示例

设置单个 package state (包状态管理) 能序列化的长度为 8193。

```shell
obclient> ALTER SYSTEM SET package_state_sync_max_size=8193;
```