|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# shared_log_retention

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该配置项从 V4.3.4 版本开始引入。</p>
</main>

## 功能描述

`shared_log_retention` 用于设置共享存储模式下共享日志文件的保留时间。

<main id="notice">
  <h4>功能适用性</h4>
  <p>该配置项仅适用于 OceanBase 数据库共享存储（Shared-Storage，SS）模式。</p>
</main>

## 权限要求

* 查询配置项

  `sys` 租户和所有用户租户均可以使用 `SHOW PARAMETERS` 语句或视图 `GV$OB_PARAMETERS` 查询该配置项。

* 修改配置项

  `sys` 租户和用户租户均可修改该配置项。

## 属性说明

| **属性**  |    **描述**  |
|-----------|---------------|
| 参数类型    |  Time                |
| 默认值      | 1d   |
| 取值范围    | [0s,7d]               |
| 是否可修改 | 是，支持通过 `ALTER SYSTEM SET` 语句修改。|
| 是否重启 OBServer 节点生效 | 否，设置后立即生效。 |

## 使用说明

**当租户已经被删除时，该租户共享存储上的事务日志文件会立即删除。**

## 配置示例

* SS 模式下，设置所有租户的共享存储日志文件的保留时间为 7d。

  ```shell
  obclient> ALTER SYSTEM SET shared_log_retention= '7d' TENANT='ALL';
  ```

* SS 模式下，设置用户租户 MySQL 的共享存储日志文件的保留时间为 24h。

  ```shell
  obclient> ALTER SYSTEM SET shared_log_retention= '24h' TENANT='MySQL';
  ```