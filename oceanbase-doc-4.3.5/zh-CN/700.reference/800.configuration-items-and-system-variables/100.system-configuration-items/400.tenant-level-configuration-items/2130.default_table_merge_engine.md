|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# default_table_merge_engine

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>对于 V4.3.5 版本，该配置项从 V4.3.5 BP3 版本开始引入。</p>
</main>

## 功能描述

`default_table_merge_engine` 配置项用于指定用户租户默认创建表的 `merge_engine`。

## 权限要求

* 查询配置项

  `sys` 租户和所有用户租户均可以使用 `SHOW PARAMETERS` 语句或视图 `GV$OB_PARAMETERS` 查询该配置项。

* 修改配置项

  `sys` 租户和用户租户均可修改该配置项。

## 属性说明

| **属性** | **描述** |
|----------|----------|
| 参数类型  | String |
| 默认值    | `partial_update` |
| 取值范围   | <ul><li>`partial_update`：表示租户创建表默认为 `merge_engine = partial_update`。</li><li>`delete_insert`：表示租户创建表默认为 `merge_engine = delete_insert`。。</li></ul>|
| 是否可修改 | 否 |
| 是否重启 OBServer 节点生效 | 否，设置后立即生效。 |

## 使用说明

配置项 `default_table_merge_engine` 只会影响用户租户创建主表的默认格式，`meta` 租户和 `sys` 租户不影响。并且只在建表语句中没有显示指定 `merge_engine` 的情况下生效，若用户显式指定了表的 `merge_engine`，最终表的 `merge_engine` 按用户指定格式进行解析。

该配置项可以设置为以下两个值：

* `default_table_merge_engine = partial_update`：若建表语句中没有指定 `merge_engine`，用户租户建表的 `merge_engine = partial_update`。
* `default_table_merge_engine = delete_insert`：若建表语句中没有指定 `merge_engine`，用户租户建表的 `merge_engine = delete_insert`。

## 配置示例

* 用户租户创建表默认 `merge_engine = partial_update`，在建表语句中自动添加 `merge_engine = partial_update`。

  ```sql
  obclient> ALTER SYSTEM SET default_table_merge_engine = 'partial_update';
  ```

* 用户租户创建表默认 `merge_engine = delete_insert`，在建表语句中自动添加 `merge_engine = delete_insert`。

  ```sql
  obclient> ALTER SYSTEM SET default_table_merge_engine = 'delete_insert';
  ```

## 相关文档

* [创建表](../../../300.database-object-management/100.manage-object-of-mysql-mode/200.manage-tables-of-mysql-mode/200.create-a-table-for-mysql-tenant-of-mysql-mode.md)
* [配置最佳实践](../../../../400.deploy/700.best-practices.md)