# 设置节点密码

在部署 OBProxy 服务前，需要先设置 obshell 节点密码，本文介绍设置 obshell 节点密码的 API。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>自 obshell V4.2.6 起支持该 API。</p>
</main>

## 调用说明

### 接口约束

当节点已经设置过 obshell 节点密码时，该 API 将根据原有节点密码进行安全校验。当节点未设置过密码时，若当前 obshell 节点有管理的 OceanBase 集群，该 API 将使用 root@sys 密码进行安全校验。

### 请求路径

POST /api/v1/agent/password

### 请求参数

|   参数   |  类型  | 必选 | 示例值 |   描述   |
| -------- | ------ | ---- | ------ | -------- |
| password | string | 是   | "****" | 节点密码 |

### 返回结果

| 参数 | 类型 | 说明  |
|-------|------|------|
| successful | bool | 请求是否成功。  |
| timestamp | time.Time | 服务端完成请求的时间戳。  |
| duration | int | 服务端处理请求的时间（毫秒）。  |
| status | int | 符合 HTTP Status 规范的编码。  |
| traceId | string | 请求的 Trace ID。  |
| error | ApiError | 请求产生的 Error，包含如下信息：<ul><li>`code`：错误码。</li><li>`message`：错误详细信息。</li><li>`subErrors`：子错误信息。</li></ul> |

## 示例

### 请求示例

POST 10.10.10.1:2886/api/v1/agent/password

```json
{
  "password": "*****"
}
```

### 返回示例

```json
{
    "successful": true,
    "timestamp": "2025-03-24T16:58:38.543027516+08:00",
    "duration": 1,
    "status": 200,
    "traceId": "a50243705b1f1997"
}
```

## 相关文档

除通过命令行调用 API 接口外，还可以通过 SDK 方法调用 API。通过 obshell-sdk-python 请求 API 方法的介绍可参见 [设置节点密码](../../500.obshell-sdk-reference/100.python/110.obshell-management/1500.set-node-password-of-python.md)。
