# 搜索 RPM 包

本文介绍如何通过 obshell-sdk-go 搜索所需的 RPM 包。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>建议先查看 <a href='../100.quickstart-of-go.md'>obshell-sdk-go 快速上手</a> 内容，了解如何使用 obshell-sdk-go。</p>
</main>

## 示例代码

:::tab

tab 搜索与本机同架构的 RPM 包

* 搜索最新版本的 RPM 包

  ```go
  package main

  import (
    "fmt"
  
    "github.com/oceanbase/obshell-sdk-go/util"
  )
  
  func SearchSameArch() {
    // 下载与执行机器同架构的最新的 obshell 包
    entry := util.PackageEntry{
        Name: "obshell",
    }
  
    pkgs, err := util.SearchPackage(entry)
    if err != nil {
        panic(err)
    }
  
    for _, pkg := range pkgs {
        fmt.Println(pkg)
    }
  }
  ```

* 搜索指定版本的 RPM 包
  
  ```go
  package main

  import (
    "fmt"
  
    "github.com/oceanbase/obshell-sdk-go/util"
  )
  
  // 搜索与执行机器同架构的指定版本的社区版 OceanBase 数据库包
  func SearchSameArchVersion() {
    entry := util.PackageEntry{
        Name:    "oceanbase-ce",
        Version: "4.3.5.0",
    }
  
    pkgs, err := util.SearchPackage(entry)
    if err != nil {
        panic(err)
    }
  
    for _, pkg := range pkgs {
        fmt.Println(pkg)
    }
  }
  ```

tab 搜索指定架构或系统的 RPM 包

* 搜索最新版本的 RPM 包
  
  ```go
  package main

  import (
    "fmt"
  
    "github.com/oceanbase/obshell-sdk-go/util"
  )
  
  func SearchDiffArch() {
    // 搜索指定架构的最新的 obshell 包
    entry := util.PackageEntry{
        Name: "obshell",
    }
  
    // 指定架构和系统分别为 aarch64，el8
    mirror := util.OB_COMMUNITY_STABLE_BASE.GetMirror(util.AARCH64, util.EL8)
    pkgs, err := mirror.Search(entry)
    if err != nil {
        panic(err)
    }
  
    for _, pkg := range pkgs {
        fmt.Println(pkg)
    }
  }
  ```

* 搜索指定版本的 RPM 包

  ```go
  package main

  import (
    "fmt"
  
    "github.com/oceanbase/obshell-sdk-go/util"
  )
  
  // 搜索指定架构的指定版本的 obshell 包
  func SearchDiffArchVersion() {
    entry := util.PackageEntry{
        Name:    "obshell",
        Version: "4.2.4.0",
    }
  
    // 指定架构和系统分别为 aarch64，el8
    mirror := util.OB_COMMUNITY_STABLE_BASE.GetMirror(util.AARCH64, util.EL8)
    pkgs, err := mirror.Search(entry)
    if err != nil {
        panic(err)
    }
  
    for _, pkg := range pkgs {
        fmt.Println(pkg)
    }
  }
  ```

:::

## 相关文档

通过 obshell-sdk-python 请求 API 方法的介绍可参见 [搜索 RPM 包](../../100.python/1500.other-api/300.search-rpm-package-of-python.md)。
