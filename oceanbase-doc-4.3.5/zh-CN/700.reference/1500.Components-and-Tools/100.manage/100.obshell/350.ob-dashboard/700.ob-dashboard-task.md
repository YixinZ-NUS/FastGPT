# 任务管理

通过 obshell Dashboard 界面发起的运维和管理 OceanBase 集群、租户以及主机的任务和管理 obshell Dashboard 系统的任务，obshell Dashboard 提供对这些任务的管理和查看。

## 查看任务详情

当 obshell Dashboard 中存在 **运行中** 或 **失败** 的任务时，obshell Dashboard 系统页面右上方的 **任务** 上将展示具体的任务数量。您可通过如下两种入口查看任务详情：

* 入口一：登录 obshell Dashboard 控制台后，单击页面右上角 **任务** 字段即可进入 **任务中心**。

* 入口二：登录 obshell Dashboard 控制台后，在左侧导航栏单击 **系统管理** > **任务中心** 进入 **任务中心** 页面。

您可通过任务状态筛选任务，或通过搜索框查看指定任务，单击对应任务名即可查看任务详情。

![任务中心](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.2.5/zh-CN/700.reference/1500.Components-and-Tools/100.obshell/700.ob-dashboard-task-01.png)

其中，任务类型分为 **本地任务** 和 **集群任务** 两种，具体介绍如下：

* 对于 **本地任务** 而言，存在三种运维类型：**非运维**、**全局运维** 和 **OBProxy 运维**。全局运维任务之间互斥，OBProxy 运维任务之间互斥，但全局运维任务和 OBProxy 运维任务可共存。

* 对于 **集群任务** 而言，存在三种运维类型：**非运维**、**全局运维** 和 **租户运维**。全局运维任务之间互斥，全局运维任务和租户运维任务之间也互斥，但不同租户的租户运维任务可以共存。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>上述中提到的 <b>共存</b> 和 <b>互斥</b> 的概念都是针对未完成的任务，以本地任务类型中的全局运维任务为例，当存在未完成的全局运维任务时，无法发起另一个全局运维任务，但可以发起另一个 OBProxy 运维任务。</p>
</main>

如任务执行失败，可根据任务详情页面右侧展示的日志信息进行排查，或右侧日志信息页面右上角的 **下载日志**，下载当前环节日志去官网 [问答区](https://open.oceanbase.com/) 发帖，会有专业人员帮助排查处理。

![日志详情](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.5/700.reference/1500.Components-and-Tools/100.obshell/700.ob-dashboard-task-02.png)


## 管理失败任务

当任务 **失败** 时，支持对任务进行重试、回滚、跳过操作。

管理失败任务包括如下两种方式：

* 方式一：登录 obshell Dashboard，单击页面右上角 **任务** 字段进入 **任务中心**，在任务列表中单击需要操作的失败任务名，进入任务详情页。

* 方式二：登录 obshell Dashboard，在左侧导航栏单击 **系统管理** > **任务中心** 进入 **任务中心** 页面，在任务列表中单击需要操作的失败任务名，进入任务详情页。

以下操作步骤以 方式一 为例：

1. 登录 obshell Dashboard。

2. 单击页面右上角 **任务** 字段进入 **任务中心**。

3. 在任务列表中单击需要操作的失败任务名，进入任务详情页。

4. 单击右上角 **重试** 按钮，即可重新执行失败步骤，如果执行成功则继续执行后续步骤。

5. 单击右上角 **回滚** 按钮，即可从该任务中失败处开始回滚所有已执行过的步骤，如果执行成功则继续执行后续步骤。

6. 单击右上角 **跳过任务** 按钮，将直接跳过整个任务，该任务状态将由 **失败** 变为 **已完成**，对任务相关的集群和租户的运维状态不产生任何影响。

   <main id="notice" type='explain'>
     <h4>说明</h4>
     <p>在任务执行过程中，单击 <b>定位当前进度</b>，可快速跳转至正在执行的子任务，方便您关注任务执行状态及相关日志信息；对于 <b>失败</b> 的任务，单击 <b>定位当前进度</b>，可快速定位执行失败的子任务及任务执行异常信息。</p>
   </main>

   ![管理失败任务](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.4.1/obshell/V4.3.2/700.ob-dashboard-task-02.png)
