|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# DBA_OB_TABLET_REPLICAS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示本租户的所有 Tablet 副本信息，每个 Tablet 副本由联合键唯一确定：`<TABLET_ID, SVR_IP, SVR_PORT, LS_ID>`。

## 字段说明

|     字段名称      |      类型      | 是否可以为 NULL |                             描述                             |
|---------------|--------------|------------|------------------------------------------------------------|
| CREATE_TIME     | TIMESTAMP(6) WITH LOCAL TIME ZONE       | NO         | 创建时间                                                  |
| MODIFY_TIME     | TIMESTAMP(6) WITH LOCAL TIME ZONE       | NO         | 修改时间                                                  |
| TABLET_ID     | NUMBER       | NO         | TABLET ID                                                  |
| SVR_IP        | VARCHAR2(46) | NO         | 服务器 IP 地址                                                  |
| SVR_PORT      | NUMBER       | NO         | 服务器端口号                                                     |
| LS_ID         | NUMBER       | NO         | TABLET 所属的日志流 ID                                           |
| COMPACTION_SCN  | NUMBER       | NO         | 数据快照版本号                                                      |
| DATA_SIZE     | NUMBER       | NO         | 数据实际大小，单位为字节                                                     |
| REQUIRED_SIZE | NUMBER       | NO         | 数据分配空间大小，单位为字节。数据存储以宏块（2MB）为最小单位，所以 `REQUIRED_SIZE >= DATA_SIZE` |

## 查询示例

查看当前租户的 Tablet 副本信息，展示前 10 条记录。

```shell
obclient [SYS]> SELECT * FROM SYS.DBA_OB_TABLET_REPLICAS WHERE ROWNUM <=10;
```

查询结果如下：

```shell
+------------------------------+------------------------------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
| CREATE_TIME                  | MODIFY_TIME                  | TABLET_ID | SVR_IP         | SVR_PORT | LS_ID | COMPACTION_SCN      | DATA_SIZE | REQUIRED_SIZE |
+------------------------------+------------------------------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
| 31-DEC-24 03.00.32.981373 PM | 02-JAN-25 03.00.16.862799 AM |         1 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |     25013 |       2097152 |
| 31-DEC-24 03.00.32.981787 PM | 02-JAN-25 03.00.16.862799 AM |         3 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |    623366 |       2097152 |
| 31-DEC-24 03.00.32.990988 PM | 02-JAN-25 03.00.16.862799 AM |         4 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |    370809 |       2097152 |
| 31-DEC-24 03.00.32.990988 PM | 02-JAN-25 03.00.16.862799 AM |         5 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |     40740 |       2097152 |
| 31-DEC-24 03.00.32.990988 PM | 02-JAN-25 03.00.16.862799 AM |       102 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |      2403 |       2097152 |
| 31-DEC-24 03.00.32.990988 PM | 02-JAN-25 03.00.16.850209 AM |       103 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |      2550 |       2097152 |
| 31-DEC-24 03.00.32.990988 PM | 02-JAN-25 03.00.16.862799 AM |       104 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |       894 |       2097152 |
| 31-DEC-24 03.00.32.990988 PM | 02-JAN-25 03.00.16.862799 AM |       105 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |      1002 |       2097152 |
| 31-DEC-24 03.00.32.988666 PM | 02-JAN-25 03.00.16.862799 AM |       106 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |      1178 |       2097152 |
| 31-DEC-24 03.00.32.991941 PM | 02-JAN-25 03.00.16.862799 AM |       107 | 172.xx.xxx.xxx |     2882 |     1 | 1735754404488391000 |      1232 |       2097152 |
+------------------------------+------------------------------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
10 rows in set
```