|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# DBA_OBJ_AUDIT_OPTS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V2.2.30 版本开始引入。</p>
</main>

## 功能描述

记录对象级别审计详细配置。

  <main id="notice" >
    <h4>功能适用性</h4>
    <p>该视图仅适用于 OceanBase 数据库 Oracle 模式。</p>
  </main>

## 字段说明

|  **字段名称**   |    **类型**     | **是否可以为 NULL** |                             **描述**                              |
|-------------|---------------|----------------|-----------------------------------------------------------------|
| OWNER       | VARCHAR2(128) | NO             | 对象的 owner 名称                                                    |
| OBJECT_NAME | VARCHAR2(128) | NO             | 对象的名称                                                           |
| OBJECT_TYPE | VARCHAR2(23)  | NO             | 对象的类型                                                           |
| ALT         | VARCHAR2(3)   | NO             | alter 操作                                                        |
| AUD         | VARCHAR2(3)   | NO             | audit 操作                                                        |
| COM         | VARCHAR2(3)   | NO             | comment 操作                                                      |
| DEL         | VARCHAR2(3)   | NO             | delete 操作                                                       |
| GRA         | VARCHAR2(3)   | NO             | grant 操作                                                        |
| IND         | VARCHAR2(3)   | NO             | index 操作                                                        |
| INS         | VARCHAR2(3)   | NO             | insert 操作                                                       |
| LOC         | VARCHAR2(3)   | NO             | lock 操作                                                         |
| REN         | VARCHAR2(3)   | NO             | rename 操作                                                       |
| SEL         | VARCHAR2(3)   | NO             | select 操作                                                       |
| UPD         | VARCHAR2(3)   | NO             | update 操作                                                       |
| REF         | VARCHAR2(3)   | NO             | references 操作  <br>**说明**<br>  该字段已不再使用。 |
| EXE         | VARCHAR2(3)   | NO             | execute 操作                                                      |
| WRI         | VARCHAR2(3)   | NO             | write 操作                                                        |
| REA         | VARCHAR2(3)   | NO             | read 操作                                                         |
| FBK         | VARCHAR2(3)   | NO             | flashback 操作                                                    |

## 查询示例

查看对象级别审计的详细配置。

```shell
obclient [SYS]> SELECT * FROM SYS.DBA_OBJ_AUDIT_OPTS;
```

查询结果如下：

```shell
+-------+-------------+-------------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+
| OWNER | OBJECT_NAME | OBJECT_TYPE | ALT  | AUD  | COM  | DEL  | GRA  | IND  | INS  | LOC  | REN  | SEL  | UPD  | REF  | EXE  | CRE  | REA  | WRI  | FBK  |
+-------+-------------+-------------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+
| SYS   | T_SUBPART   | TABLE       | -/-  | -/-  | -/-  | A/A  | -/-  | -/-  | A/A  | -/-  | -/-  | -/-  | A/A  | -/-  | -/-  | -/-  | -/-  | -/-  | -/-  |
+-------+-------------+-------------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+
1 row in set
```

查询结果中：

* `-/-`：默认不审计

* `A/-`: 只在语句执行成功时审计

* `-/A`: 只在语句执行失败时审计

* `A/A`: 语句执行无论成功还是失败时都审计

## 相关视图或文档

* 查看所有对象默认被审计的审计规则：[ALL_DEF_AUDIT_OPTS](1000.all_def_audit_opts-of-oracle-mode.md)

* 查看语句级别审计的详细配置：[DBA_STMT_AUDIT_OPTS](20000.dba_stmt_audit_opts-of-oracle-mode.md)

* 有关如何开启审计并设置审计规则的详细介绍，参见以下文档：

  * [开启安全审计](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/200.audit-open-of-oracle-mode.md)
  * [设置和查看审计规则](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/300.set-up-and-view-audit-rules-of-oracle-mode.md)