|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# USER_SEGMENTS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V2.2.30 版本开始引入。</p>
</main>

## 功能描述

展示当前用户拥有的段的物理存储分配情况。

  <main id="notice" >
    <h4>功能适用性</h4>
    <p>该视图仅适用于 OceanBase 数据库 Oracle 模式。s</p>
  </main>

## 字段说明

|     **字段名称**     |    **类型**     | **是否可以为 NULL** |                    **描述**                     |
|------------------|---------------|----------------|-----------------------------------------------|
| SEGMENT_NAME     | VARCHAR2(128) | NO             | 段名字（如果有）                                      |
| PARTITION_NAME   | VARCHAR2(128) | NO             | 分区名字，如果是非分区对象，则为空值 NULL                       |
| SEGMENT_TYPE     | VARCHAR2(18)  | NO             | 段类型                                           |
| SEGMENT_SUBTYPE  | VARCHAR2(10)  | NO             | 目前暂不支持该字段，当前该字段默认为 NULL         |
| TABLESPACE_NAME  | VARCHAR2(30)  | NO             | 目前暂不支持该字段，当前该字段默认为 NULL              |
| BYTES            | NUMBER(38)    | NO             | 段大小，单位：bytes                                  |
| BLOCKS           | NUMBER(38)    | NO             | 段块大小                                          |
| EXTENTS          | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL                |
| INITIAL_EXTENT   | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL |
| NEXT_EXTENT      | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL   |
| MIN_EXTENTS      | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL           |
| MAX_EXTENTS      | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL           |
| MAX_SIZE         | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL           |
| RETENTION        | VARCHAR2(7)   | NO             | 目前暂不支持该字段，当前该字段默认为 NULL      |
| MINRETENTION     | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL    |
| PCT_INCREASE     | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL    |
| FREELISTS        | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL            |
| FREELIST_GROUPS  | NUMBER        | NO             | 目前暂不支持该字段，当前该字段默认为 NULL             |
| BUFFER_POOL      | VARCHAR2(7)   | NO             | 用于段块的缓冲池                                      |
| FLASH_CACHE      | VARCHAR2(7)   | NO             | 用于段块的数据库智能闪存缓存提示                              |
| CELL_FLASH_CACHE | VARCHAR2(7)   | NO             | 用于段块的单元闪存缓存提示                                 |
| INMEMORY              | varchar(8)      | NO          | 目前暂不支持该字段，当前该字段默认为 NULL                   |
| INMEMORY_PRIORITY     | varchar(8)      | NO          | 目前暂不支持该字段，当前该字段默认为 NULL                     |
| INMEMORY_DISTRIBUTE   | varchar(15)     | NO          | 目前暂不支持该字段，当前该字段默认为 NULL                        |
| INMEMORY_DUPLICATE    | varchar(13)     | NO          | 目前暂不支持该字段，当前该字段默认为 NULL         |
| INMEMORY_COMPRESSION  | varchar(17)     | NO          | 目前暂不支持该字段，当前该字段默认为 NULL        |
| CELLMEMORY            | varchar(24)     | NO          | 目前暂不支持该字段，当前该字段默认为 NULL                         |

## 查询示例

查看当前用户拥有的表中，表 `T_SUBPART` 的物理存储分配情况。

```shell
obclient [SYS]> SELECT SEGMENT_NAME, PARTITION_NAME, SEGMENT_TYPE, BYTES, BLOCKS FROM SYS.DBA_SEGMENTS WHERE SEGMENT_NAME='T_SUBPART';
```

查询结果如下：

```shell
+--------------+----------------+--------------------+---------+--------+
| SEGMENT_NAME | PARTITION_NAME | SEGMENT_TYPE       | BYTES   | BLOCKS |
+--------------+----------------+--------------------+---------+--------+
| T_SUBPART    | P1SP0          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P1SP1          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P1SP2          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P1SP3          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P2SP0          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P2SP1          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P2SP2          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P2SP3          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P3SP0          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P3SP1          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P3SP2          | TABLE SUBPARTITION | 2097152 |  16384 |
| T_SUBPART    | P3SP3          | TABLE SUBPARTITION | 2097152 |  16384 |
+--------------+----------------+--------------------+---------+--------+
12 rows in set
```

## 相关视图或文档

查看当前租户的所有段的物理存储分配情况，查询 [DBA_SEGMENTS](19500.dba_segments-of-oracle-mode.md)。