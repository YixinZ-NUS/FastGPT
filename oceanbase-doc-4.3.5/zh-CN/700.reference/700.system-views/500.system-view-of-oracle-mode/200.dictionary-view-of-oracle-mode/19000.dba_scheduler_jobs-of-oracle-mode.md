|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# DBA_SCHEDULER_JOBS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V3.2.3 版本开始引入。</p>
</main>

## 功能描述

展示当前用户可访问的调度程序作业信息。

## 字段说明

|      字段名称 |    类型       | 是否可以为 NULL|    描述    |
|--------------|---------------|---------------|------------|
| OWNER | VARCHAR2(128) | NO | 调度程序作业的所有者 |
| JOB_NAME | VARCHAR2(128) | NO | 调度程序作业的名称 |
| JOB_SUBNAME | VARCHAR2(128) | NO | 调度程序作业的子名称 |
| JOB_STYLE | VARCHAR2(17) | YES | 默认值为 NULL |
| JOB_CREATOR | VARCHAR2(128) | NO | 调度程序作业创建者 |
| CLIENT_ID | VARCHAR2(65) | NO | 创建作业的用户的客户端标识符 |
| GLOBAL_UID | VARCHAR2(33) | NO | 创建作业的用户的全局用户标识符 |
| PROGRAM_OWNER | VARCHAR2(4000) | NO | 与作业相关的程序的所有者 |
| PROGRAM_NAME | VARCHAR2(4000) | YES | 与作业相关的程序名称 |
| JOB_TYPE | VARCHAR2(16) | YES |  作业操作类型：<ul><li>PLSQL_BLOCK  </li><li>STORED_PROCEDURE </li><li>EXECUTABLE </li><li>CHAIN </li></ul> |
| JOB_ACTION | VARCHAR2(4000) | YES | 内联作业操作 |
| NUMBER_OF_ARGUMENTS | NUMBER | YES | 作业参数的内联数量 |
| SCHEDULE_OWNER | VARCHAR2(4000) | NO | 作业使用的计划的所有者 |
| SCHEDULE_NAME | VARCHAR2(4000) | NO | 作业使用的计划名称 |
| SCHEDULE_TYPE | VARCHAR2(12) | NO | 默认值为 NULL |
| START_DATE | TIMESTAMP(6) WITH TIME ZONE | YES | 作业的原始计划开始日期 |
| REPEAT_INTERVAL | VARCHAR2(4000) | YES | 内联计划 PL/SQL 表达式或日历字符串 |
| EVENT_QUEUE_OWNER | VARCHAR2(128) | NO | 将向其中引发事件的源队列的所有者 |
| EVENT_QUEUE_NAME | VARCHAR2(128) | NO | 将向其中引发事件的源队列的名称 |
| EVENT_QUEUE_AGENT | VARCHAR2(523) | NO | 用户在事件源队列上使用的 AQ 代理的名称 |
| EVENT_CONDITION | VARCHAR2(4000) | NO | 源队列上事件的订阅规则 |
| EVENT_RULE | VARCHAR2(261) | NO | 协调器用来触发基于事件的作业的规则名称 |
| FILE_WATCHER_OWNER | VARCHAR2(261) | NO | 该作业所基于的文件观察器的所有者 |
| FILE_WATCHER_NAME | VARCHAR2(261) | NO | 该作业所基于的文件观察器的名称 |
| END_DATE | TIMESTAMP(6) WITH TIME ZONE | YES | 作业将不再运行的日期 |
| JOB_CLASS | VARCHAR2(128) | YES | 与作业关联的作业类别的名称 |
| ENABLED | VARCHAR2(5) | YES | 指示作业是否启用：<ul><li>TRUE  </li><li>FALSE </li></ul> |
| AUTO_DROP | VARCHAR2(5) | YES | 指示作业完成后是否被删除：<ul><li>TRUE  </li><li>FALSE </li></ul>  |
| RESTART_ON_RECOVERY | VARCHAR2(5) | NO | 默认值为 NULL |
| RESTART_ON_FAILURE | VARCHAR2(5) | NO | 默认值为 NULL |
| STATE | VARCHAR2(15) | YES | 工作现状：<li>DISABLED<li>RETRY SCHEDULED<li>SCHEDULED<li>BLOCKED<li>RUNNING<li>COMPLETED<li>BROKEN<li>FAILED<li>REMOTE<li>RESOURCE_UNAVAILABLE<li>SUCCEEDED<li>CHAIN_STALLED |
| JOB_PRIORITY | NUMBER | NO | 该工作相对于同类其他工作的优先级 |
| RUN_COUNT | NUMBER | YES | 作业已运行的次数 |
| MAX_RUNS | NUMBER | NO | 作业计划运行的最大次数 |
| FAILURE_COUNT | NUMBER | YES | 作业运行失败的次数 |
| MAX_FAILURES | NUMBER | NO | 在被标记为损坏之前允许作业失败的次数 |
| RETRY_COUNT | NUMBER | YES | 作业重试的次数 |
| LAST_START_DATE | TIMESTAMP(6) WITH TIME ZONE | YES | 作业开始运行的最后日期 |
| LAST_RUN_DURATION | INTERVAL DAY (9) TO SECOND (6) | NO | 上次运行期间完成作业所花费的时间 |
| NEXT_RUN_DATE | TIMESTAMP(6) WITH TIME ZONE | NO | 作业计划运行的下一个日期 |
| SCHEDULE_LIMIT | INTERVAL DAY (3) TO SECOND (0) | NO | 尚未运行的作业将被重新安排的时间 |
| MAX_RUN_DURATION | INTERVAL DAY (3) TO SECOND (0) | NO | 允许作业运行的最长时间 |
| LOGGING_LEVEL | VARCHAR2(11) | NO | 默认值为 NULL |
| STORE_OUTPUT | VARCHAR2(5) | NO | 默认值为 NULL |
| STOP_ON_WINDOW_CLOSE | VARCHAR2(5) | NO | 默认值为 NULL |
| INSTANCE_STICKINESS | VARCHAR2(5) | NO | 默认值为 NULL|
| RAISE_EVENTS | VARCHAR2(4000) | NO | 默认值为 NULL |
| SYSTEM | VARCHAR2(5) | NO | 默认值为 NULL |
| JOB_WEIGHT | NUMBER | NO | 作业的权重，用于指定作业在调度时的优先级。 |
| NLS_ENV | VARCHAR2(4000) | YES | 作业的国家语言环境设置。 |
| SOURCE | VARCHAR2(128) | NO | 作业的源代码或脚本。 |
| NUMBER_OF_DESTINATIONS | NUMBER | NO | 作业的目标数量。 |
| DESTINATION_OWNER | VARCHAR2(261) | NO | 作业目标的所有者。 |
| DESTINATION | VARCHAR2(261) | NO | 作业的目标，即作业要执行的对象或位置。 |
| CREDENTIAL_OWNER | VARCHAR2(128) | NO | 凭证的所有者。 |
| CREDENTIAL_NAME | VARCHAR2(128) | NO | 凭证的名称。 |
| INSTANCE_ID | NUMBER | YES | 用户请求作业在其上运行的实例 |
| DEFERRED_DROP | VARCHAR2(5) | NO | 作业是否延迟删除。 |
| ALLOW_RUNS_IN_RESTRICTED_MODE | VARCHAR2(5) | NO | 作业是否允许在受限模式下运行。 |
| COMMENTS | VARCHAR2(4000) | YES | 作业的注释或描述信息。 |
| FLAGS | NUMBER | NO | 作业的标志位。 |
| RESTARTABLE | VARCHAR2(5) | NO | 作业是否可重启。 |
| CONNECT_CREDENTIAL_OWNER | VARCHAR2(128) | NO | 连接凭证的所有者。 |
| CONNECT_CREDENTIAL_NAME | VARCHAR2(128) | NO | 连接凭证的名称。 |

## 查询示例

查看本租户所有调度程序作业的运行情况。

```shell
obclient [SYS]> SELECT JOB_NAME, ENABLED, NEXT_RUN_DATE, STATE, LAST_START_DATE FROM SYS.DBA_SCHEDULER_JOBS;
```

查询结果如下：

```shell
+-------------------------------------+---------+-------------------------------------+-----------+-------------------------------------+
| JOB_NAME                            | ENABLED | NEXT_RUN_DATE                       | STATE     | LAST_START_DATE                     |
+-------------------------------------+---------+-------------------------------------+-----------+-------------------------------------+
| ASYNC_GATHER_STATS_JOB_PROC         | 1       | 21-MAR-25 04.08.43.845933 PM +08:00 | SCHEDULED | 21-MAR-25 03.53.43.847413 PM +08:00 |
| FRIDAY_WINDOW                       | 1       | 21-MAR-25 10.00.00.000000 PM +08:00 | NULL      | NULL                                |
| JOB$_1125899907365728               | 1       | 21-MAR-25 03.59.49.000000 PM +08:00 | SCHEDULED | 21-MAR-25 03.59.41.001649 PM +08:00 |
| MONDAY_WINDOW                       | 1       | 24-MAR-25 10.00.00.000000 PM +08:00 | NULL      | NULL                                |
| OPT_STATS_HISTORY_MANAGER           | 1       | 22-MAR-25 01.53.43.845874 PM +08:00 | SCHEDULED | 21-MAR-25 01.53.43.847613 PM +08:00 |
| SATURDAY_WINDOW                     | 1       | 22-MAR-25 10.00.00.000000 PM +08:00 | NULL      | NULL                                |
| SCHEDULED_TRIGGER_DUMP_DATA_DICT    | 1       | 21-MAR-25 05.54.00.000000 PM +08:00 | SCHEDULED | 21-MAR-25 03.54.00.001459 PM +08:00 |
| SCHEDULED_TRIGGER_PARTITION_BALANCE | 1       | 22-MAR-25 12.00.00.000000 AM +08:00 | SCHEDULED | 21-MAR-25 12.00.00.001495 AM +08:00 |
| SPM_STATS_MANAGER                   | 1       | 22-MAR-25 01.00.00.000000 AM +08:00 | SCHEDULED | 21-MAR-25 01.00.00.002031 AM +08:00 |
| SUNDAY_WINDOW                       | 1       | 23-MAR-25 10.00.00.000000 PM +08:00 | NULL      | NULL                                |
| THURSDAY_WINDOW                     | 1       | 27-MAR-25 10.00.00.000000 PM +08:00 | SCHEDULED | 20-MAR-25 10.00.00.001965 PM +08:00 |
| TUESDAY_WINDOW                      | 1       | 25-MAR-25 10.00.00.000000 PM +08:00 | NULL      | NULL                                |
| WEDNESDAY_WINDOW                    | 1       | 26-MAR-25 10.00.00.000000 PM +08:00 | SCHEDULED | 19-MAR-25 10.00.00.002020 PM +08:00 |
+-------------------------------------+---------+-------------------------------------+-----------+-------------------------------------+
13 rows in set
```