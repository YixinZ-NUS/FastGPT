|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# ALL_DEF_AUDIT_OPTS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V2.2.30 版本开始引入。</p>
</main>

## 功能描述

记录任何对象默认被审计的审计规则。每列的取值如下：

* `-/-`：默认不审计

* `A/-`: 只在语句执行成功时审计

* `-/A`: 只在语句执行失败时审计

* `A/A`: 语句执行无论成功还是失败时都审计

  <main id="notice" >
    <h4>功能适用性</h4>
    <p>该视图仅适用于 OceanBase 数据库 Oracle 模式。</p>
  </main>

## 字段说明

| **字段名称** |   **类型**    | **是否可以为 NULL** |              **描述**               |
|----------|-------------|----------------|-----------------------------------|
| ALT      | VARCHAR2(3) | NO             | ALTER 操作                          |
| AUD      | VARCHAR2(3) | NO             | AUDIT 操作                          |
| COM      | VARCHAR2(3) | NO             | COMMENT 操作                        |
| DEL      | VARCHAR2(3) | NO             | DELETE 操作                         |
| GRA      | VARCHAR2(3) | NO             | GRANT 操作                          |
| IND      | VARCHAR2(3) | NO             | INDEX 操作                          |
| INS      | VARCHAR2(3) | NO             | INSERT 操作                         |
| LOC      | VARCHAR2(3) | NO             | LOCK 操作                           |
| REN      | VARCHAR2(3) | NO             | RENAME 操作                         |
| SEL      | VARCHAR2(3) | NO             | SELECT 操作                         |
| UPD      | VARCHAR2(3) | NO             | UPDATE 操作                         |
| REF      | VARCHAR2(3) | NO             | REFERENCE 操作，目前仅定义了但不支持，默认值为 NULL |
| EXE      | VARCHAR2(3) | NO             | EXECUTE 操作                        |
| FBK      | VARCHAR2(3) | NO             | FLASHBACK 操作                      |
| REA      | VARCHAR2(3) | NO             | READ 操作                           |

## 查询示例

查看任何对象默认被审计的审计规则。

```shell
obclient [SYS]> SELECT * FROM SYS.ALL_DEF_AUDIT_OPTS;
```

查询结果如下：

```shell
+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+
| ALT  | AUD  | COM  | DEL  | GRA  | IND  | INS  | LOC  | REN  | SEL  | UPD  | REF  | EXE  | FBK  | REA  |
+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+
| -/-  | -/-  | -/-  | A/A  | -/-  | -/-  | A/A  | -/-  | -/-  | -/-  | A/A  | -/-  | -/-  | -/-  | -/-  |
+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+
1 row in set
```

## 相关视图或文档

* 查看对象级别审计的详细配置：[DBA_OBJ_AUDIT_OPTS](16900.dba_obj_audit_opts-of-oracle-mode.md)

* 查看语句级别审计的详细配置：[DBA_STMT_AUDIT_OPTS](20000.dba_stmt_audit_opts-of-oracle-mode.md)

* 有关如何开启审计并设置审计规则的详细介绍，参见以下文档：

  * [开启安全审计](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/200.audit-open-of-oracle-mode.md)
  * [设置和查看审计规则](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/300.set-up-and-view-audit-rules-of-oracle-mode.md)