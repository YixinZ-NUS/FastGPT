|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# DBA_STMT_AUDIT_OPTS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V2.2.30 版本开始引入。</p>
</main>

## 功能描述

记录语句级别审计的详细配置。

  <main id="notice" >
    <h4>功能适用性</h4>
    <p>该视图仅适用于 OceanBase 数据库 Oracle 模式。</p>
  </main>

## 字段说明

|   **字段名称**   |    **类型**     | **是否可以为 NULL** |             **描述**             |
|--------------|---------------|----------------|--------------------------------|
| USER_NAME    | VARCHAR2(128) | NO             | 被审计的用户名                        |
| PROXY_NAME   | VARCHAR2(128) | NO             | 被审计的 Proxy 用户名，当前该字段的值始终为 NULL |
| AUDIT_OPTION | VARCHAR2(128) | NO             | 语句级别审计的 Type ID                |
| SUCCESS      | VARCHAR2(10)  | NO             | 语句执行成功时的审计模式                   |
| FAILURE      | VARCHAR2(10)  | NO             | 语句执行失败时的审计模式                   |

## 查询示例

查看语句级别审计的详细配置。

```shell
obclient [SYS]> SELECT * FROM SYS.DBA_STMT_AUDIT_OPTS;
```

查询结果如下：

```shell
+-----------+------------+----------------+-----------+-----------+
| USER_NAME | PROXY_NAME | AUDIT_OPTION   | SUCCESS   | FAILURE   |
+-----------+------------+----------------+-----------+-----------+
| SYS       | NULL       | TABLE          | BY ACCESS | NOT SET   |
| SYS       | NULL       | ALL STATEMENTS | BY ACCESS | BY ACCESS |
| NULL      | NULL       | SESSION        | BY ACCESS | BY ACCESS |
+-----------+------------+----------------+-----------+-----------+
3 rows in set
```

## 相关视图或文档

* 查看语句级别审计的类型及对应的名称和优先级：[STMT_AUDIT_OPTION_MAP](24600.stmt_audit_option_map-of-oracle-mode.md)

* 查看对象级别审计的详细配置：[DBA_OBJ_AUDIT_OPTS](16900.dba_obj_audit_opts-of-oracle-mode.md)

* 查看所有对象默认被审计的审计规则：[ALL_DEF_AUDIT_OPTS](1000.all_def_audit_opts-of-oracle-mode.md)

* 有关如何开启审计并设置审计规则的详细介绍，参见以下文档：

  * [开启安全审计](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/200.audit-open-of-oracle-mode.md)
  * [设置和查看审计规则](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/300.set-up-and-view-audit-rules-of-oracle-mode.md)