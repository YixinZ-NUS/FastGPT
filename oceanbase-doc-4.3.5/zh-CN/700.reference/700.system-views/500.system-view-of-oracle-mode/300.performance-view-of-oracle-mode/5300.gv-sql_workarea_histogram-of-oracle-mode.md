|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# GV$SQL_WORKAREA_HISTOGRAM

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V2.2.77 版本开始引入。</p>
</main>

## 功能描述

展示本租户所有节点上之前所有 work area 执行的统计信息，例如在区间 1M～2M 之间全 in-memory 处理的次数、one-pass 次数等。

## **字段说明**

|        **字段名称**        |   **类型**   | **是否可以为 NULL** |                  **描述**                  |
|------------------------|------------|----------------|------------------------------------------|
| LOW_OPTIMAL_SIZE       | NUMBER | NO             | workarea 在 optimal 模式下最低内存量              |
| HIGH_OPTIMAL_SIZE      | NUMBER | NO             | workarea 在 optimal 模式下最高内存量              |
| OPTIMAL_EXECUTIONS     | NUMBER | NO             | workarea 在最低和最高区间的最优模式下执行的次数             |
| ONEPASS_EXECUTIONS     | NUMBER | NO             | workarea 在最低和最高区间的 one pass 模式下执行的次数     |
| MULTIPASSES_EXECUTIONS | NUMBER | NO             | workarea 在最低和最高区间的 multi passes 模式下执行的次数 |
| TOTAL_EXECUTIONS       | NUMBER | NO             | workarea 总共执行的次数                         |
| CON_ID                 | NUMBER | NO             | 租户 ID                                    |
| SVR_IP                 | VARCHAR2(46)   | NO             | 服务器 IP 地址   |
| SVR_PORT               | NUMBER   | NO             | 服务器端口号   |

## 查询示例

查看本租户所有节点上之前所有 Workarea 执行的统计信息，展示前 10 条记录。

```shell
obclient[SYS]> SELECT * FROM SYS.GV$SQL_WORKAREA_HISTOGRAM WHERE ROWNUM<= 10;
```

查询结果如下：

```shell
+------------------+-------------------+--------------------+--------------------+------------------------+------------------+--------+----------------+----------+
| LOW_OPTIMAL_SIZE | HIGH_OPTIMAL_SIZE | OPTIMAL_EXECUTIONS | ONEPASS_EXECUTIONS | MULTIPASSES_EXECUTIONS | TOTAL_EXECUTIONS | CON_ID | SVR_IP         | SVR_PORT |
+------------------+-------------------+--------------------+--------------------+------------------------+------------------+--------+----------------+----------+
|                0 |           1048576 |              11899 |                  0 |                      0 |            11899 |   1004 | 172.xx.xxx.xxx |     2882 |
|          1048576 |           2097152 |                  0 |                  0 |                      0 |                0 |   1004 | 172.xx.xxx.xxx |     2882 |
|          2097152 |           3145728 |                 29 |                  0 |                      0 |               29 |   1004 | 172.xx.xxx.xxx |     2882 |
|          3145728 |           4194304 |                  0 |                  0 |                      0 |                0 |   1004 | 172.xx.xxx.xxx |     2882 |
|          4194304 |           5242880 |                  0 |                  0 |                      0 |                0 |   1004 | 172.xx.xxx.xxx |     2882 |
|          5242880 |           6291456 |                  0 |                  0 |                      0 |                0 |   1004 | 172.xx.xxx.xxx |     2882 |
|          6291456 |           7340032 |                  0 |                  0 |                      0 |                0 |   1004 | 172.xx.xxx.xxx |     2882 |
|          7340032 |           8388608 |                  0 |                  0 |                      0 |                0 |   1004 | 172.xx.xxx.xxx |     2882 |
|          8388608 |           9437184 |                 29 |                  0 |                      0 |               29 |   1004 | 172.xx.xxx.xxx |     2882 |
|          9437184 |          10485760 |                  0 |                  0 |                      0 |                0 |   1004 | 172.xx.xxx.xxx |     2882 |
+------------------+-------------------+--------------------+--------------------+------------------------+------------------+--------+----------------+----------+
10 rows in set
```