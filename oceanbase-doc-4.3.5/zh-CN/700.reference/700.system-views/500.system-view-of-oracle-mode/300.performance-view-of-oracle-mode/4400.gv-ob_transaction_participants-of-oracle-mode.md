|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# GV$OB_TRANSACTION_PARTICIPANTS

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

视图 `GV$OB_TRANSACTION_PARTICIPANTS` 用于展示所有 OBServer 节点上活跃事务的参与者信息。

## 字段说明

|       字段名称       |                类型                 | 是否可以为 NULL |    描述     |
|------------------|-----------------------------------|------------|-----------|
| TENANT_ID        | NUMBER(38)                        | NO         | 租户 ID     |
| SVR_IP           | VARCHAR2(46)                      | NO         | 服务器 IP 地址 |
| SVR_PORT         | NUMBER(38)                        | NO         | 服务器端口号    |
| SESSION_ID       | NUMBER(38)                        | NO         | 对于 V4.3.x 版本：<ul><li> V4.3.5 BP2 之前版本：<br>在所有连接方式（直连模式/ODP 模式）下，该字段均表示 Server Session ID。</li><li> V4.3.5 BP2 及之后版本：<ul><li>在直连模式下：<br>该字段表示 Server Session ID。</li> <li>在 ODP 模式下：</li><ul><li>当 ODP 中的配置项 <code>client_session_id_version = 2</code> 时，该字段表示 Client Session ID。 </li> <li>当 <code>client_session_id_version = 1</code> 时，该字段表示 Server Session ID。</li></ul></ul></li></ul>      |
| SCHEDULER_ADDR   | VARCHAR2(64)                      | NO         | 调度者所属节点地址 |
| TX_TYPE          | VARCHAR2(11)                      | NO         | 事务类型      |
| TX_ID            | NUMBER(38)                        | NO         | 事务ID      |
| LS_ID            | NUMBER(38)                        | NO         | 所属日志流ID   |
| PARTICIPANTS     | VARCHAR2(1024)                    | NO         | 参与者列表     |
| CTX_CREATE_TIME  | TIMESTAMP(6) WITH LOCAL TIME ZONE | YES        | 上下文创建时间点  |
| TX_EXPIRED_TIME  | TIMESTAMP(6) WITH LOCAL TIME ZONE | YES        | 事务超时时间点   |
| STATE            | VARCHAR2(9)                       | NO         | 上下文提交状态   |
| ACTION           | VARCHAR2(10)                      | NO         | 上一个已执行动作  |
| PENDING_LOG_SIZE | NUMBER(38)                        | NO         | 待持久化数据大小  |
| FLUSHED_LOG_SIZE | NUMBER(38)                        | NO         | 已持久化数据大小  |
| IS_EXITING       | VARCHAR2(3)                       | NO         | 是否正在退出    |
| ROLE             | VARCHAR2(8)                       | NO         | 上下文角色     |
| COORD             | NUMBER(38)                        | NO   | 其对应的协调者 IS ID（仅当进入提交阶段后生效） |
| LAST_REQUEST_TIME | TIMESTAMP(6) WITH LOCAL TIME ZONE | YES  | 最后一次收到外部请求的时间点 |
| FORMATID          | NUMBER(38)                        | NO   | xid 格式类型  |
| GLOBALID          | VARCHAR2(256)                     | NO   | XA 事务全局标识符 |
| BRANCHID          | VARCHAR2(256)                     | NO   | XA 事务分支限定符 |

## 查询示例

查看所有 OBServer 节点上活跃事务的参与者信息。

```shell
obclient [SYS]> SELECT * FROM SYS.GV$OB_TRANSACTION_PARTICIPANTS \G
```