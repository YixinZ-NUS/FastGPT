|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# GV$OB_SSTABLES

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示当前租户在所有 OBServer 节点上的各分区下的 MemTable 和 SSTable 信息。

## 字段说明

|          字段名称           |      类型       | 是否可以为 NULL |                                                                                 描述                                                                                 |
|-------------------------|---------------|------------|------------------------------|
| SVR_IP                  | VARCHAR2(46)  | NO         | 服务器 IP 地址                                                                       |
| SVR_PORT                | NUMBER(38)    | NO         | 服务器端口号                                                                          |
| TABLE_TYPE              | VARCHAR2(20)  | NO         | 表类型                                                                                |
| LS_ID                   | NUMBER(38)    | NO         | 日志流 ID                                                                          |
| TABLET_ID               | NUMBER(38)    | NO         | 数据分片 ID                                                                         |
| START_LOG_SCN            | NUMBER(38)    | NO         | 该表中数据的日志时间戳范围的左边界                                                               |
| END_LOG_SCN              | NUMBER(38)    | NO         | 该表中数据的日志时间戳范围的右边界                                                               |
| SIZE                    | NUMBER(38)    | NO         | 磁盘占用空间，单位为字节   |
| REF                     | NUMBER(38)    | NO         | 该表引用的计数，单位为个数  |
| UPPER_TRANS_VERSION     | NUMBER(38)    | NO         | 已提交事务的最大事务版本号                         |
| IS_ACTIVE               | VARCHAR2(3)   | NO         | 是否为活跃的 MemTable |
| CONTAIN_UNCOMMITTED_ROW | VARCHAR2(3)   | NO         | 该表是否包含未提交的事务行： <li> `NO`：表示该表不包含未提交的事务行   <li> `YES`：表示该表包含未提交的事务行    |

## 查询示例

用户租户下，查看本租户的 1001 号日志流在所有 OBServer 节点上各分区的 MemTable 和 SSTable 信息。

```shell
obclient [SYS]> SELECT * FROM SYS.GV$OB_SSTABLES WHERE LS_ID=1001;
```

查询结果如下：

```shell
+----------------+----------+------------------+-------+-----------+---------------------+---------------------+----------+------+---------------------+-----------+-------------------------+
| SVR_IP         | SVR_PORT | TABLE_TYPE       | LS_ID | TABLET_ID | START_LOG_SCN       | END_LOG_SCN         | SIZE     | REF  | UPPER_TRANS_VERSION | IS_ACTIVE | CONTAIN_UNCOMMITTED_ROW |
+----------------+----------+------------------+-------+-----------+---------------------+---------------------+----------+------+---------------------+-----------+-------------------------+
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |     49402 |                   0 |                   1 |        0 |    0 |                   1 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MINOR            |  1001 |     49402 |                   1 | 1743391602135333001 |     4007 |    0 |                4096 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | TX_DATA_MEMTABLE |  1001 |     49402 | 1743391602135333001 | 4611686018427387903 |  1048576 |    3 |                   0 | YES       | YES                     |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200008 |                   0 | 1743357601723336000 |      634 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200017 |                   0 | 1743357601723336000 |        0 |    0 | 1743357601723336000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200059 |                   0 | 1743357601723336000 |        0 |    0 | 1743357601723336000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200015 |                   0 | 1743357601723336000 |        0 |    0 | 1743357601723336000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200007 |                   0 | 1743357601723336000 |      710 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200024 |                   0 | 1743357601723336000 |      383 |    0 | 1743153227043218000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200016 |                   0 | 1743357601723336000 |        0 |    0 | 1743357601723336000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200005 |                   0 | 1743357601723336000 |      720 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200060 |                   0 | 1743357601723336000 |        0 |    0 | 1743357601723336000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MEMTABLE         |  1001 |    200060 |                   1 | 4611686018427387903 | 62914560 |    2 | 9223372036854775807 | YES       | YES                     |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200012 |                   0 | 1743357601723336000 |      624 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200018 |                   0 | 1743357601723336000 |        0 |    0 | 1743357601723336000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200013 |                   0 | 1743357601723336000 |      623 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |     49401 |                   0 |                   1 |        0 |    0 |                   1 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | TX_CTX_MEMTABLE  |  1001 |     49401 |                   1 |                   2 |        0 |    2 |                   0 | YES       | YES                     |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200004 |                   0 | 1743357601723336000 |      720 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |     49403 |                   0 |                   1 |        0 |    0 |                   1 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MINI             |  1001 |     49403 |                   1 | 1743045514426661000 |        0 |    0 | 1743045514426661000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | LOCK_MEMTABLE    |  1001 |     49403 |                   1 | 1743045514426661000 |        0 |    3 |                   0 | YES       | YES                     |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200002 |                   0 | 1743357601723336000 |      874 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200003 |                   0 | 1743357601723336000 |      838 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200006 |                   0 | 1743357601723336000 |      725 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200010 |                   0 | 1743357601723336000 |      653 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200009 |                   0 | 1743357601723336000 |      638 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200011 |                   0 | 1743357601723336000 |      633 |    0 | 1742884853812859000 | NO        | NO                      |
| 11.xxx.xxx.xxx |    28825 | MAJOR            |  1001 |    200001 |                   0 | 1743357601723336000 |        0 |    0 | 1743357601723336000 | NO        | NO                      |
+----------------+----------+------------------+-------+-----------+---------------------+---------------------+----------+------+---------------------+-----------+-------------------------+
29 rows in set
```