|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# GV$SYSTEM_EVENT

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V1.4 版本开始引入。</p>
</main>

## 功能描述

展示当前租户在所有 OBServer 节点上的等待事件，统计每一类等待事件的发生次数、等待时间、超时次数等。

## 字段说明

| **字段名称** | **类型** | **是否可以为 NULL** | **描述** |
| --- | --- | --- | --- |
| CON_ID | NUMBER | NO | 租户 ID |
| SVR_IP | VARCHAR2(46) | NO | 信息所在 Server 的 IP |
| SVR_PORT | NUMBER(38) | NO | 信息所在 Server 的端口号 |
| EVENT_ID | NUMBER | NO | 等待事件的 ID |
| EVENT | VARCHAR2(64) | NO | 等待事件的描述 |
| WAIT_CLASS_ID | NUMBER | NO | 等待事件的所属 Class ID |
| WAIT_CLASS# | NUMBER | NO | 等待事件的所属的 Class下标 |
| WAIT_CLASS | VARCHAR2(64) | NO | 等待事件所属的 Class |
| TOTAL_WAITS | NUMBER | NO | 该等待事件的总等待次数 |
| TOTAL_TIMEOUTS | NUMBER | NO | 该等待事件的总超时次数 |
| TIME_WAITED | NUMBER | NO | 该等待事件的总等待时间，单位为 10 ms |
| AVERAGE_WAIT | NUMBER | NO | 该等待事件的平均等待时间，单位为 10 ms |
| TIME_WAITED_MICRO | NUMBER | NO | 该等待事件的总等待时间，单位为微秒 |

## 查询示例

用户租户下，查看本租户在所有节点的所有等待事件，展示前 10 条记录。

```shell
obclient [SYS]> SELECT * FROM SYS.GV$SYSTEM_EVENT WHERE ROWNUM <= 10;
```

查询结果如下：

```shell
+--------+----------------+----------+----------+--------------------------------+---------------+-------------+---------------+-------------+----------------+--------------------+----------------------+-------------------+
| CON_ID | SVR_IP         | SVR_PORT | EVENT_ID | EVENT                          | WAIT_CLASS_ID | WAIT_CLASS# | WAIT_CLASS    | TOTAL_WAITS | TOTAL_TIMEOUTS | TIME_WAITED        | AVERAGE_WAIT         | TIME_WAITED_MICRO |
+--------+----------------+----------+----------+--------------------------------+---------------+-------------+---------------+-------------+----------------+--------------------+----------------------+-------------------+
|   1004 | 172.xx.xxx.xxx |     2882 |    10001 | db file data read              |           108 |           8 | USER_IO       |        1520 |              0 | 144.47649999999999 |  .095050328947368423 |           1444765 |
|   1004 | 172.xx.xxx.xxx |     2882 |    11001 | db file compact read           |           109 |           9 | SYSTEM_IO     |       43104 |              0 | 756.66210000000001 |  .017554336024498886 |           7566621 |
|   1004 | 172.xx.xxx.xxx |     2882 |    11002 | db file compact write          |           109 |           9 | SYSTEM_IO     |       17870 |              0 | 445.57010000000002 |  .024933973139339677 |           4455701 |
|   1004 | 172.xx.xxx.xxx |     2882 |    11016 | palf read                      |           109 |           9 | SYSTEM_IO     |        1249 |              0 | 20.028500000000001 |  .016035628502802244 |            200285 |
|   1004 | 172.xx.xxx.xxx |     2882 |    11017 | palf write                     |           109 |           9 | SYSTEM_IO     |      126898 |              0 | 2816.1750000000002 |  .022192430140742958 |          28161750 |
|   1004 | 172.xx.xxx.xxx |     2882 |    13000 | sync rpc                       |           107 |           7 | NETWORK       |          38 |              0 | 23.654499999999999 |   .62248684210526317 |            236545 |
|   1004 | 172.xx.xxx.xxx |     2882 |    13004 | wait in request queue          |           102 |           2 | CONFIGURATION |       63977 |              0 |           164.7398 | .0025749847601481781 |           1647398 |
|   1004 | 172.xx.xxx.xxx |     2882 |    15101 | default condition wait         |           104 |           4 | CONCURRENCY   |       32595 |              0 | 1078.4912999999999 |   .03308763000460193 |          10784913 |
|   1004 | 172.xx.xxx.xxx |     2882 |    15102 | sleep wait                     |           106 |           6 | IDLE          |          68 |              0 | 1177.9970000000001 |   17.323485294117649 |          11779970 |
|   1004 | 172.xx.xxx.xxx |     2882 |    15111 | async rpc proxy condition wait |           107 |           7 | NETWORK       |       18557 |              0 |           413.0992 |  .022261098237861723 |           4130992 |
+--------+----------------+----------+----------+--------------------------------+---------------+-------------+---------------+-------------+----------------+--------------------+----------------------+-------------------+
10 rows in set
```

## 相关视图或文档

* 查看所有 Session 的当前或上一次等待事件：

  * [GV$SESSION_WAIT](4700.gv-session_wait-of-oracle-mode.md)
  * [V$SESSION_WAIT](35000.v-session_wait-of-oracle-mode.md)

* 查看租户所有等待事件的定义：[V$EVENT_NAME](30500.v-event_name-of-oracle-mode.md)

* 有关等待事件的详细说明，参见 [常见等待事件说明](../../520.wait-event-description.md)。