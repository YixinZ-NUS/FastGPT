|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# oceanbase.DBA_TAB_SUBPARTITIONS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示当前租户的分区表的二级分区信息，包含二级分区名称、表和所属分区的名称、其存储属性以及 `DBMS_STATS` 包生成的统计信息。

## 字段说明

|         字段名称          |       类型        | 是否可以为 NULL |           描述            |
|-----------------------|-----------------|------------|-------------------------|
| TABLE_OWNER           | varchar(128)    | NO         | 表的所有者                   |
| TABLE_NAME            | varchar(128)    | NO         | 表名                      |
| PARTITION_NAME        | varchar(128)    | NO         | 分区名称                    |
| SUBPARTITION_NAME     | varchar(128)    | NO         | 子分区名称                   |
| HIGH_VALUE            | mediumtext      | NO         | 子分区表达式                  |
| HIGH_VALUE_LENGTH     | bigint(20)      | NO         | 子分区表达式的长度               |
| PARTITION_POSITION    | bigint(20)      | NO         | 分区的位置                   |
| SUBPARTITION_POSITION | bigint(20)      | NO         | 子分区在分区中的位置              |
| TABLESPACE_NAME       | varchar(30)     | NO         | 包含子分区的表空间的名称            |
| PCT_FREE              | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| PCT_USED              | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| INI_TRANS             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| MAX_TRANS             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| INITIAL_EXTENT        | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| NEXT_EXTENT           | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| MIN_EXTENT            | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| MAX_EXTENT            | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| MAX_SIZE              | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| PCT_INCREASE          | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| FREELISTS             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| FREELIST_GROUPS       | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| LOGGING               | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| COMPRESSION           | varchar(8)      | NO         | 子分区是否压缩                 |
| COMPRESS_FOR          | varchar(30)     | NO         | 压缩方法                    |
| NUM_ROWS              | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| BLOCKS                | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| EMPTY_BLOCKS          | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| AVG_SPACE             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| CHAIN_CNT             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| AVG_ROW_LEN           | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| SAMPLE_SIZE           | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| LAST_ANALYZED         | date            | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| BUFFER_POOL           | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| FLASH_CACHE           | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| CELL_FLASH_CACHE      | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| GLOBAL_STATS          | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| USER_STATS            | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| INTERVAL              | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 `NO` |
| SEGMENT_CREATED       | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| INDEXING              | varchar(3)      | NO         | 当前该字段默认为 NULL        |
| READ_ONLY             | varchar(3)      | NO         | 当前该字段默认为 NULL                |
| INMEMORY              | varchar(8)      | NO         | 当前该字段默认为 NULL                |
| INMEMORY_PRIORITY     | varchar(8)      | NO         | 当前该字段默认为 NULL                 |
| INMEMORY_DISTRIBUTE   | varchar(15)     | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                       |
| INMEMORY_COMPRESSION  | varchar(17)     | NO         | 当前该字段默认为 NULL         |
| INMEMORY_DUPLICATE    | varchar(13)     | NO         | 当前该字段默认为 NULL                 |
| INMEMORY_SERVICE      | varchar(12)     | NO         | 当前该字段默认为 NULL          |
| INMEMORY_SERVICE_NAME | varchar(1000)   | NO         | 指当前该字段默认为 NULL    |
| CELLMEMORY            | varchar(24)     | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                         |
| MEMOPTIMIZE_READ      | varchar(8)      | NO         | 当前该字段默认为 NULL                 |
| MEMOPTIMIZE_WRITE     | varchar(8)      | NO         | 当前该字段默认为 NULL                   |

## 查询示例

系统租户查询本租户的分区表 `t_m_rclc` 的二级分区信息。

```shell
obclient [oceanbase]> SELECT TABLE_OWNER, TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, HIGH_VALUE, HIGH_VALUE_LENGTH, PARTITION_POSITION, SUBPARTITION_POSITION FROM oceanbase.DBA_TAB_SUBPARTITIONS WHERE TABLE_NAME='t_m_rclc';
```

查询结果如下：

```shell
+-------------+------------+----------------+-------------------+------------+-------------------+--------------------+-----------------------+
| TABLE_OWNER | TABLE_NAME | PARTITION_NAME | SUBPARTITION_NAME | HIGH_VALUE | HIGH_VALUE_LENGTH | PARTITION_POSITION | SUBPARTITION_POSITION |
+-------------+------------+----------------+-------------------+------------+-------------------+--------------------+-----------------------+
| test        | t_m_rclc   | p0             | p0smp0            | 1,3        |                 3 |                  1 |                     1 |
| test        | t_m_rclc   | p0             | p0smp1            | 4,6        |                 3 |                  1 |                     2 |
| test        | t_m_rclc   | p0             | p0smp2            | 7          |                 1 |                  1 |                     3 |
| test        | t_m_rclc   | p1             | p1smp0            | 1,3        |                 3 |                  2 |                     1 |
| test        | t_m_rclc   | p1             | p1smp1            | 4,6        |                 3 |                  2 |                     2 |
| test        | t_m_rclc   | p1             | p1smp2            | 7          |                 1 |                  2 |                     3 |
| test        | t_m_rclc   | p2             | p2smp0            | 1,3        |                 3 |                  3 |                     1 |
| test        | t_m_rclc   | p2             | p2smp1            | 4,6        |                 3 |                  3 |                     2 |
| test        | t_m_rclc   | p2             | p2smp2            | 7          |                 1 |                  3 |                     3 |
+-------------+------------+----------------+-------------------+------------+-------------------+--------------------+-----------------------+
9 rows in set
```

## 相关视图或文档

* 查看所有租户的分区表的二级分区信息：[CDB_TAB_SUBPARTITIONS](../../300.system-view-of-sys-tenant/200.dictionary-view-of-sys-tenant/13100.o-cdb_tab_subpartitions-of-sys-tenant.md)

* 查看本租户的分区表的一级分区详细信息：[DBA_TAB_PARTITIONS](15300.o-dba_tab_partitions-of-mysql-mode.md)