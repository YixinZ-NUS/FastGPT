|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# oceanbase.DBA_IND_PARTITIONS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示当前租户下所有索引的一级/二级分区信息。

## 字段说明

|          字段名称           |       类型        | 是否可以为 NULL |                                                                        描述                                                                         |
|-------------------------|-----------------|------------|---------|
| INDEX_OWNER             | varchar(128)    | NO         | 索引所属的拥有者|
| INDEX_NAME              | varchar(128)    | NO         | 索引名字  |
| TABLE_NAME              | varchar(128)    | NO         | 索引所属的表名|
| COMPOSITE               | varchar(3)      | NO         | 指示分区是否属于 composited-partition 表的本地索引：<li>YES<li>NO        |
| PARTITION_NAME          | varchar(128)    | NO         | 分区名称   |
| SUBPARTITION_COUNT      | bigint(20)      | NO         | 子分区个数   |
| HIGH_VALUE              | mediumtext      | NO         | 分区绑定 Value 的表达式   |
| HIGH_VALUE_LENGTH       | bigint(20)      | NO         | 分区绑定 Value 表达式的长度      |
| PARTITION_POSITION      | bigint(20)      | NO         | 分区在索引中的位置             |
| STATUS                  | varchar(8)      | NO         | 指示索引分区是否可用              |
| TABLESPACE_NAME         | varchar(30)     | NO         | 包含分区的表空间的名称                 |
| PCT_FREE                | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL               |
| INI_TRANS               | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL             |
| MAX_TRANS               | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                     |
| INITIAL_EXTENT          | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL      |
| NEXT_EXTENT             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL      |
| MIN_EXTENT              | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL    |
| MAX_EXTENT              | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL           |
| MAX_SIZE                | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                  |
| PCT_INCREASE            | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                 |
| FREELISTS               | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL             |
| FREELIST_GROUPS         | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL            |
| LOGGING                 | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL               |
| COMPRESSION             | varchar(13)     | NO         | 表示分区索引是否开启压缩： <li> 开启（ENABLE）   <li> 未开启（DISABLE）    |
| BLEVEL                  | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| LEAF_BLOCKS             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                  |
| DISTINCT_KEYS           | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                |
| AVG_LEAF_BLOCKS_PER_KEY | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                      |
| AVG_DATA_BLOCKS_PER_KEY | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为  NULL                      |
| CLUSTERING_FACTOR       | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL             |
| NUM_ROWS                | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL            |
| SAMPLE_SIZE             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL               |
| LAST_ANALYZED           | date            | NO         | 目前暂不支持该字段，当前该字段默认为 NULL              |
| BUFFER_POOL             | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                   |
| FLASH_CACHE             | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL          |
| CELL_FLASH_CACHE        | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL              |
| USER_STATS              | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL            |
| PCT_DIRECT_ACCESS       | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为  NULL       |
| GLOBAL_STATS            | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为  NULL |
| DOMIDX_OPSTATUS         | varchar(6)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                  |
| PARAMETERS              | text            | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                |
| INTERVAL                | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 `NO`          |
| SEGMENT_CREATED         | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                       |
| ORPHANED_ENTRIES        | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL  |

## 查询示例

用户租户查看本租户的索引表 `tbl2_f_rl` 中索引的一级分区信息。

```shell
obclient [infotest]> SELECT * FROM oceanbase.DBA_IND_PARTITIONS WHERE TABLE_NAME='tbl2_f_rl'\G
```

查询结果如下：

```shell
*************************** 1. row ***************************
            INDEX_OWNER: infotest
             INDEX_NAME: tbl2_f_rl_idx1
             TABLE_NAME: tbl2_f_rl
              COMPOSITE: YES
         PARTITION_NAME: p0
     SUBPARTITION_COUNT: 3
             HIGH_VALUE: 100
      HIGH_VALUE_LENGTH: 3
     PARTITION_POSITION: 1
                 STATUS: NULL
        TABLESPACE_NAME: NULL
               PCT_FREE: NULL
              INI_TRANS: NULL
              MAX_TRANS: NULL
         INITIAL_EXTENT: NULL
            NEXT_EXTENT: NULL
             MIN_EXTENT: NULL
             MAX_EXTENT: NULL
               MAX_SIZE: NULL
           PCT_INCREASE: NULL
              FREELISTS: NULL
        FREELIST_GROUPS: NULL
                LOGGING: NULL
            COMPRESSION: DISABLED
                 BLEVEL: NULL
            LEAF_BLOCKS: NULL
          DISTINCT_KEYS: NULL
AVG_LEAF_BLOCKS_PER_KEY: NULL
AVG_DATA_BLOCKS_PER_KEY: NULL
      CLUSTERING_FACTOR: NULL
               NUM_ROWS: NULL
            SAMPLE_SIZE: NULL
          LAST_ANALYZED: NULL
            BUFFER_POOL: NULL
            FLASH_CACHE: NULL
       CELL_FLASH_CACHE: NULL
             USER_STATS: NULL
      PCT_DIRECT_ACCESS: NULL
           GLOBAL_STATS: NULL
        DOMIDX_OPSTATUS: NULL
             PARAMETERS: NULL
               INTERVAL: NO
        SEGMENT_CREATED: NULL
       ORPHANED_ENTRIES: NULL
*************************** 2. row ***************************
            INDEX_OWNER: infotest
             INDEX_NAME: tbl2_f_rl_idx1
             TABLE_NAME: tbl2_f_rl
              COMPOSITE: YES
         PARTITION_NAME: p1
     SUBPARTITION_COUNT: 3
             HIGH_VALUE: 200
      HIGH_VALUE_LENGTH: 3
     PARTITION_POSITION: 2
                 STATUS: NULL
        TABLESPACE_NAME: NULL
               PCT_FREE: NULL
              INI_TRANS: NULL
              MAX_TRANS: NULL
         INITIAL_EXTENT: NULL
            NEXT_EXTENT: NULL
             MIN_EXTENT: NULL
             MAX_EXTENT: NULL
               MAX_SIZE: NULL
           PCT_INCREASE: NULL
              FREELISTS: NULL
        FREELIST_GROUPS: NULL
                LOGGING: NULL
            COMPRESSION: DISABLED
                 BLEVEL: NULL
            LEAF_BLOCKS: NULL
          DISTINCT_KEYS: NULL
AVG_LEAF_BLOCKS_PER_KEY: NULL
AVG_DATA_BLOCKS_PER_KEY: NULL
      CLUSTERING_FACTOR: NULL
               NUM_ROWS: NULL
            SAMPLE_SIZE: NULL
          LAST_ANALYZED: NULL
            BUFFER_POOL: NULL
            FLASH_CACHE: NULL
       CELL_FLASH_CACHE: NULL
             USER_STATS: NULL
      PCT_DIRECT_ACCESS: NULL
           GLOBAL_STATS: NULL
        DOMIDX_OPSTATUS: NULL
             PARAMETERS: NULL
               INTERVAL: NO
        SEGMENT_CREATED: NULL
       ORPHANED_ENTRIES: NULL
2 rows in set
```