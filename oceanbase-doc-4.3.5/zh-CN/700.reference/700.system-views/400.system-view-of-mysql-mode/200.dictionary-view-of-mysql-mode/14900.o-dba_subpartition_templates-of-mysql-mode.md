|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# oceanbase.DBA_SUBPARTITION_TEMPLATES

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示本租户的分区表的模板化二级分区信息。

## 字段说明

|         字段名称          |       类型        | 是否可以为 NULL |    描述     |
|-----------------------|-----------------|------------|-----------|
| USER_NAME             | varchar(128)    | NO         | 分区表的所有者   |
| TABLE_NAME            | varchar(128)    | NO         | 分区表名      |
| SUBPARTITION_NAME     | varchar(132)    | NO         | 子分区名      |
| SUBPARTITION_POSITION | bigint(21)      | NO         | 子分区位置     |
| TABLESPACE_NAME       | varchar(30)     | NO         | 分区所属的表空间名 |
| HIGH_BOUND            | mediumtext | NO         | 分区模板表达式   |
| COMPRESSION           | varchar(4)      | NO         | 默认值为 NULL。指示子分区模板中的每个新添加的复合分区，其子分区数据是否以压缩格式存储：<li>YES<li>NO <br>该值可以在子分区模板中指定        |
| INDEXING              | varchar(4)      | NO         | 默认值为 NULL。指示子分区模板中的每个新添加的复合分区，其子分区数据是否被视为部分索引：<li>ON<li>OFF<br>该值可以在子分区模板中指定          |
| READ_ONLY             | varchar(4)      | NO         | 默认值为 NULL。指示子分区模板中的每个新添加的复合分区，其子分区数据是否为只读：<li>YES<li>NO<br>该值可以在子分区模板中指定          |

## 查询示例

用户租户查询本租户的分区表的模板化二级分区信息。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_SUBPARTITION_TEMPLATES;
```

查询结果如下：

```shell
+-----------+------------+-------------------+-----------------------+-----------------+------------+-------------+----------+-----------+
| USER_NAME | TABLE_NAME | SUBPARTITION_NAME | SUBPARTITION_POSITION | TABLESPACE_NAME | HIGH_BOUND | COMPRESSION | INDEXING | READ_ONLY |
+-----------+------------+-------------------+-----------------------+-----------------+------------+-------------+----------+-----------+
| infotest  | t2_m_rch   | p0                |                     1 | NULL            | NULL       | NULL        | NULL     | NULL      |
| infotest  | t2_m_rch   | p1                |                     2 | NULL            | NULL       | NULL        | NULL     | NULL      |
| infotest  | t2_m_rch   | p2                |                     3 | NULL            | NULL       | NULL        | NULL     | NULL      |
| infotest  | t2_m_rch   | p3                |                     4 | NULL            | NULL       | NULL        | NULL     | NULL      |
| infotest  | t2_m_rch   | p4                |                     5 | NULL            | NULL       | NULL        | NULL     | NULL      |
+-----------+------------+-------------------+-----------------------+-----------------+------------+-------------+----------+-----------+
5 rows in set
```

## 相关视图或文档

* 查看所有租户下的分区表：[CDB_SUBPARTITION_TEMPLATES](../../300.system-view-of-sys-tenant/200.dictionary-view-of-sys-tenant/12600.o-cdb_subpartition_templates-of-sys-tenant.md)

* 有关如何创建模板化分区表，参见 [创建分区表](../../../300.database-object-management/100.manage-object-of-mysql-mode/300.manage-partitions-of-mysql-mode/200.create-a-partition-table-of-mysql-mode.md)。