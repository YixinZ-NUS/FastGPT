|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# GV$OB_SERVER_SCHEMA_INFO

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示所有 OBServer 节点上的 Schema 信息。

## 字段说明

|          **字段名称**          |   **类型**    | **是否可以为 NULL** |              **描述**              |
|----------------------------|-------------|----------------|----------------------------------|
| SVR_IP                     | varchar(46) | NO             | 服务器 IP 地址                        |
| SVR_PORT                   | bigint(20)  | NO             | 服务器端口号                           |
| TENANT_ID                  | bigint(20)  | NO             | 租户 ID                            |
| REFRESHED_SCHEMA_VERSION   | bigint(20)  | NO             | 租户已刷新的 Schema 版本                 |
| RECEIVED_SCHEMA_VERSION    | bigint(20)  | NO             | 租户应该要刷新的 Schema 版本               |
| SCHEMA_COUNT               | bigint(20)  | NO             | 对应 Schema 版本下，各 Schema 对象数目的总和                    |
| SCHEMA_SIZE                | bigint(20)  | NO             | 对应 Schema 版本下，各 Schema 对象所占的内存总大小，单位为字节                   |
| MIN_SSTABLE_SCHEMA_VERSION | bigint(20)  | NO             | 租户 SSTable 上记录的最小 schema_version |

## 查询示例

用户租户查询本租户在所有 OBServer 节点上的 Schema 信息。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_SERVER_SCHEMA_INFO;
```

查询结果如下：

```shell
+----------------+----------+-----------+--------------------------+-------------------------+--------------+-------------+----------------------------+
| SVR_IP         | SVR_PORT | TENANT_ID | REFRESHED_SCHEMA_VERSION | RECEIVED_SCHEMA_VERSION | SCHEMA_COUNT | SCHEMA_SIZE | MIN_SSTABLE_SCHEMA_VERSION |
+----------------+----------+-----------+--------------------------+-------------------------+--------------+-------------+----------------------------+
| 172.xx.xxx.xxx |     2882 |      1002 |         1735785545009528 |        1735785545009528 |         1774 |     1725881 |                         -1 |
| 172.xx.xxx.xxx |     2882 |      1002 |         1735785545009528 |        1735785545009528 |         1774 |     1725881 |                         -1 |
| 172.xx.xxx.xxx |     2882 |      1002 |         1735785545009528 |        1735785545009528 |         1774 |     1725881 |                         -1 |
+----------------+----------+-----------+--------------------------+-------------------------+--------------+-------------+----------------------------+
3 rows in set
```