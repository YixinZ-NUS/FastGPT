|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# V$ENCRYPTED_TABLESPACES

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V2.2.77 版本开始引入。</p>
</main>

## 功能描述

展示当前租户下开启加密功能的表空间的加密状态。

## 字段说明

|     **字段名称**     |       **类型**        | **是否可以为空** |                       **描述**                       |
|------------------|---------------------|------------|------------------------------------------------------------------------------------|
| TABLESPACE_ID    | bigint(20)          | NO         | 表空间 ID                                             |
| ENCRYPTIONALG    | varchar(30)         | NO         | 加密算法名： <li> AES-128   <li> AES-192   <li> AES-256   <li> SM4    |
| ENCRYPTED        | varchar(3)          | NO         | 是否完成加密： <li> YES   <li> NO               |
| ENCRYPTEDKEY     | varchar(33)         | NO         | 经过主密钥加密后的加密密钥                                      |
| MASTERKEYID      | bigint(20) unsigned | NO         | 主密钥版本                                              |
| BLOCKS_ENCRYPTED | decimal(20,0)       | NO         | 加密宏块的数量                                            |
| BLOCKS_DECRYPTED | decimal(21,0)       | NO         | 未加密宏块的数量                                           |
| STATUS           | varchar(10)         | NO         | 加密状态： <li> NORMAL：正常状态   <li> ENCRYPTING：加密中   <li> DECRYPTING：解密中                            |
| CON_ID           | bigint(20)          | NO         | 租户 ID                                              |

## 查询示例

查看当前租户下开启了加密功能的表空间的加密状态。

```shell
obclient [oceanbase]> SELECT TABLESPACE_ID, ENCRYPTIONALG, ENCRYPTED, STATUS FROM oceanbase.V$ENCRYPTED_TABLESPACES;
```

查询结果如下：

```shell
+---------------+---------------+-----------+--------+
| TABLESPACE_ID | ENCRYPTIONALG | ENCRYPTED | STATUS |
+---------------+---------------+-----------+--------+
|        500061 | aes-256       | YES       | NORMAL |
+---------------+---------------+-----------+--------+
1 row in set
```

## 相关视图或文档

* 查看开启加密功能的表的加密状态：[V$OB_ENCRYPTED_TABLES](31000.v-ob_encrypted_tables-of-mysql-mode.md)

* 有关数据透明加密的详细介绍及操作，参见 [数据透明加密](../../../../600.manage/500.security-and-permissions/500.data-storage-encryption/100.datastore-encryption-overview.md) 章节。