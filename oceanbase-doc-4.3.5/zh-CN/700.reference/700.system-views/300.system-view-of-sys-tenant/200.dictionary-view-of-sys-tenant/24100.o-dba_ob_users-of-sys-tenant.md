|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.DBA_OB_USERS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示当前租户下的用户和角色信息。

## 字段说明

| 字段名称                   | 字段类型      | 是否可以为 NULL | 描述 |
|---------------------------|---------------|------|----|
| USER_NAME                 | varchar(128)  | NO   |  用户名或角色名   |
| HOST                      | varchar(128)  | NO   |  服务器名称   |
| PASSWD                    | varchar(128)  | NO   |  用户或角色密码   |
| INFO                      | varchar(4096) | NO   |  用户或角色信息   |
| PRIV_ALTER                | varchar(3)    | NO   |  是否有修改数据库或表的权限   |
| PRIV_CREATE               | varchar(3)    | NO   |  是否有创建数据库或表的权限   |
| PRIV_DELETE               | varchar(3)    | NO   |  是否有删除数据库或表记录的权限   |
| PRIV_DROP                 | varchar(3)    | NO   |  是否有删除数据库或表的权限   |
| PRIV_GRANT_OPTION         | varchar(3)    | NO   |  是否有转授权限   |
| PRIV_INSERT               | varchar(3)    | NO   |  是否有插入记录的权限   |
| PRIV_UPDATE               | varchar(3)    | NO   |  是否有更新记录的权限   |
| PRIV_SELECT               | varchar(3)    | NO   |  是否有查询记录的权限   |
| PRIV_INDEX                | varchar(3)    | NO   |  是否有设置索引的权限   |
| PRIV_CREATE_VIEW          | varchar(3)    | NO   |  是否有创建视图的权限   |
| PRIV_SHOW_VIEW            | varchar(3)    | NO   |  是否有查看视图的权限   |
| PRIV_SHOW_DB              | varchar(3)    | NO   |  是否有查看所有库的权限   |
| PRIV_CREATE_USER          | varchar(3)    | NO   |  是否有创建用户的权限   |
| PRIV_SUPER                | varchar(3)    | NO   |  是否有超级用户权限   |
| IS_LOCKED                 | varchar(3)    | NO   |  是否被锁定   |
| PRIV_PROCESS              | varchar(3)    | NO   |  是否有查看所有线程的权限   |
| PRIV_CREATE_SYNONYM       | varchar(3)    | NO   |  是否有创建同义词的权限   |
| SSL_TYPE                  | bigint(20)    | NO   |  支持 SSL 标准加密安全类型   |
| SSL_CIPHER                | varchar(1024) | NO   |  支持 SSL 标准加密安全密码   |
| X509_ISSUER               | varchar(1024) | NO   |  X.509 发布者名称   |
| X509_SUBJECT              | varchar(1024) | NO   |  X.509 证书主题名称   |
| TYPE                      | varchar(4)    | NO   |  类型：<ul><li>`USER`：用户</li> <li>`ROLE`：角色</li></ul>   |
| PROFILE_ID                | bigint(20)    | NO   |  Profile ID   |
| PASSWORD_LAST_CHANGED     | timestamp(6)  | YES  |  最后更改密码的时间   |
| PRIV_FILE                 | varchar(3)    | NO   |  是否有查看文件权限   |
| PRIV_ALTER_TENANT         | varchar(3)    | NO   |  是否有修改租户信息   |
| PRIV_ALTER_SYSTEM         | varchar(3)    | NO   |  是否有更改服务器配置参数   |
| PRIV_CREATE_RESOURCE_POOL | varchar(3)    | NO   |  是否有创建、修改和删除资源池的权限   |
| PRIV_CREATE_RESOURCE_UNIT | varchar(3)    | NO   |  是否有创建、修改和删除资源单元的权限   |
| MAX_CONNECTIONS           | bigint(20)    | NO   |  最大连接数   |
| MAX_USER_CONNECTIONS      | bigint(20)    | NO   |  最大租户连接数   |
| PRIV_REPL_SLAVE           | varchar(3)    | NO   |  从服务器管理。租户可以确定复制从服务器和主服务器的位置。   |
| PRIV_REPL_CLIENT          | varchar(3)    | NO   |  主服务器管理。租户可以读取⽤于维护复制数据库环境的⼆进制⽇志⽂件，此⽤户位于主系统中,有利于主机和客户机之间的通信。   |
| PRIV_DROP_DATABASE_LINK   | varchar(3)    | NO   | 是否有删除数据库链接的权限     |
| PRIV_CREATE_DATABASE_LINK | varchar(3)    | NO   | 是否有创建数据库链接的权限     |
| PRIV_EXECUTE              | varchar(3)    | NO   | 是否有执行 Procedure 和 Function 的权限    |
| PRIV_ALTER_ROUTINE        | varchar(3)    | NO   | 是否有修改和删除 Procedure 和 Function 的权限      |
| PRIV_CREATE_ROUTINE       | varchar(3)    | NO   | 是否有创建 Procedure 和 Function 的权限     |
| PRIV_CREATE_TABLESPACE    | varchar(3)    | NO   | 是否有创建、修改和删除表空间的权限     |
| PRIV_SHUTDOWN             | varchar(3)    | NO   | 是否有执行 mysqladmin shutdown 命令的权限     |
| PRIV_RELOAD               | varchar(3)    | NO   | 是否有执行 Flush 操作的权限     |
| PRIV_REFERENCES           | varchar(3)    | NO   | 是否有创建外键的权限     |
| PRIV_CREATE_ROLE          | varchar(3)    | NO   | 是否有创建角色的权限     |
| PRIV_DROP_ROLE            | varchar(3)    | NO   | 是否有删除角色的权限     |
| PRIV_TRIGGER              | varchar(3)    | NO   | 是否有激活触发器操作的权限     |
| PRIV_ENCRYPT              | varchar(3)    | NO   | 是否可以调用 ENHANCED_AES_ENCRYPT 函数     |
| PRIV_DECRYPT              | varchar(3)    | NO   | 是否可以调用 ENHANCED_AES_DECRYPT 函数     |

## 查询示例

系统租户下，查看本租户下的用户和角色信息。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_OB_USERS\G
```

查询结果如下：

```shell
*************************** 1. row ***************************
                USER_NAME: root
                     HOST: %
                   PASSWD: *****************************
                     INFO: system administrator
               PRIV_ALTER: YES
              PRIV_CREATE: YES
              PRIV_DELETE: YES
                PRIV_DROP: YES
        PRIV_GRANT_OPTION: YES
              PRIV_INSERT: YES
              PRIV_UPDATE: YES
              PRIV_SELECT: YES
               PRIV_INDEX: YES
         PRIV_CREATE_VIEW: YES
           PRIV_SHOW_VIEW: YES
             PRIV_SHOW_DB: YES
         PRIV_CREATE_USER: YES
               PRIV_SUPER: YES
                IS_LOCKED: NO
             PRIV_PROCESS: YES
      PRIV_CREATE_SYNONYM: YES
                 SSL_TYPE: 0
               SSL_CIPHER:
              X509_ISSUER:
             X509_SUBJECT:
                     TYPE: USER
               PROFILE_ID: -1
    PASSWORD_LAST_CHANGED: 2025-02-05 17:45:17.522389
                PRIV_FILE: YES
        PRIV_ALTER_TENANT: YES
        PRIV_ALTER_SYSTEM: YES
PRIV_CREATE_RESOURCE_POOL: YES
PRIV_CREATE_RESOURCE_UNIT: YES
          MAX_CONNECTIONS: 0
     MAX_USER_CONNECTIONS: 0
          PRIV_REPL_SLAVE: YES
         PRIV_REPL_CLIENT: YES
  PRIV_DROP_DATABASE_LINK: YES
PRIV_CREATE_DATABASE_LINK: YES
             PRIV_EXECUTE: YES
       PRIV_ALTER_ROUTINE: YES
      PRIV_CREATE_ROUTINE: YES
   PRIV_CREATE_TABLESPACE: YES
            PRIV_SHUTDOWN: YES
              PRIV_RELOAD: YES
          PRIV_REFERENCES: YES
         PRIV_CREATE_ROLE: YES
           PRIV_DROP_ROLE: YES
             PRIV_TRIGGER: YES
             PRIV_ENCRYPT: YES
             PRIV_DECRYPT: YES
*************************** 2. row ***************************
                USER_NAME: ORAAUDITOR
                     HOST: %
                   PASSWD: *****************************
                     INFO: system administrator
               PRIV_ALTER: NO
              PRIV_CREATE: NO
              PRIV_DELETE: NO
                PRIV_DROP: NO
        PRIV_GRANT_OPTION: NO
              PRIV_INSERT: NO
              PRIV_UPDATE: NO
              PRIV_SELECT: NO
               PRIV_INDEX: NO
         PRIV_CREATE_VIEW: NO
           PRIV_SHOW_VIEW: NO
             PRIV_SHOW_DB: NO
         PRIV_CREATE_USER: NO
               PRIV_SUPER: NO
                IS_LOCKED: YES
             PRIV_PROCESS: NO
      PRIV_CREATE_SYNONYM: NO
                 SSL_TYPE: 0
               SSL_CIPHER:
              X509_ISSUER:
             X509_SUBJECT:
                     TYPE: USER
               PROFILE_ID: -1
    PASSWORD_LAST_CHANGED: 2025-02-05 17:44:33.714287
                PRIV_FILE: NO
        PRIV_ALTER_TENANT: NO
        PRIV_ALTER_SYSTEM: NO
PRIV_CREATE_RESOURCE_POOL: NO
PRIV_CREATE_RESOURCE_UNIT: NO
          MAX_CONNECTIONS: 0
     MAX_USER_CONNECTIONS: 0
          PRIV_REPL_SLAVE: NO
         PRIV_REPL_CLIENT: NO
  PRIV_DROP_DATABASE_LINK: NO
PRIV_CREATE_DATABASE_LINK: NO
             PRIV_EXECUTE: NO
       PRIV_ALTER_ROUTINE: NO
      PRIV_CREATE_ROUTINE: NO
   PRIV_CREATE_TABLESPACE: NO
            PRIV_SHUTDOWN: NO
              PRIV_RELOAD: NO
          PRIV_REFERENCES: NO
         PRIV_CREATE_ROLE: NO
           PRIV_DROP_ROLE: NO
             PRIV_TRIGGER: NO
             PRIV_ENCRYPT: NO
             PRIV_DECRYPT: NO
*************************** 3. row ***************************
                USER_NAME: roletest
                     HOST: %
                   PASSWD:
                     INFO:
               PRIV_ALTER: NO
              PRIV_CREATE: NO
              PRIV_DELETE: NO
                PRIV_DROP: NO
        PRIV_GRANT_OPTION: NO
              PRIV_INSERT: NO
              PRIV_UPDATE: NO
              PRIV_SELECT: NO
               PRIV_INDEX: NO
         PRIV_CREATE_VIEW: NO
           PRIV_SHOW_VIEW: NO
             PRIV_SHOW_DB: NO
         PRIV_CREATE_USER: NO
               PRIV_SUPER: NO
                IS_LOCKED: YES
             PRIV_PROCESS: NO
      PRIV_CREATE_SYNONYM: NO
                 SSL_TYPE: 0
               SSL_CIPHER:
              X509_ISSUER:
             X509_SUBJECT:
                     TYPE: ROLE
               PROFILE_ID: -1
    PASSWORD_LAST_CHANGED: 2025-02-27 16:35:07.032215
                PRIV_FILE: NO
        PRIV_ALTER_TENANT: NO
        PRIV_ALTER_SYSTEM: NO
PRIV_CREATE_RESOURCE_POOL: NO
PRIV_CREATE_RESOURCE_UNIT: NO
          MAX_CONNECTIONS: 0
     MAX_USER_CONNECTIONS: 0
          PRIV_REPL_SLAVE: NO
         PRIV_REPL_CLIENT: NO
  PRIV_DROP_DATABASE_LINK: NO
PRIV_CREATE_DATABASE_LINK: NO
             PRIV_EXECUTE: NO
       PRIV_ALTER_ROUTINE: NO
      PRIV_CREATE_ROUTINE: NO
   PRIV_CREATE_TABLESPACE: NO
            PRIV_SHUTDOWN: NO
              PRIV_RELOAD: NO
          PRIV_REFERENCES: NO
         PRIV_CREATE_ROLE: NO
           PRIV_DROP_ROLE: NO
             PRIV_TRIGGER: NO
             PRIV_ENCRYPT: NO
             PRIV_DECRYPT: NO
3 rows in set
```

## 相关视图或文档

* [CDB_OB_USERS](11900.o-cdb_ob_users-of-sys-tenant.md)

* [MySQL 模式下的权限分类](../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/100.permission-classification-of-mysql.md)