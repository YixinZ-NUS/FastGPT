|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_OB_TABLET_REPLICAS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示本租户的所有 Tablet 副本信息，每个 Tablet 副本由联合键唯一确定：`<TENANT_ID, TABLET_ID, SVR_IP, SVR_PORT, LS_ID>`。

## 字段说明

|     字段名称      |     类型      | 是否可以为 NULL |                             描述                             |
|---------------|-------------|------------|------------------------------------------------------------|
| CREATE_TIME    | timestamp(6)        | NO   |  TABLET ID 的创建时间   |
| MODIFY_TIME    | timestamp(6)        | NO   |  TABLET ID 的修改时间   |
| TENANT_ID     | bigint(20)  | NO         | 租户 ID                                                      |
| TABLET_ID     | bigint(20)  | NO         | TABLET ID                                                  |
| SVR_IP        | varchar(46) | NO         | 服务器 IP 地址                                                  |
| SVR_PORT      | bigint(20)  | NO         | 服务器端口号                                                     |
| LS_ID         | bigint(20)  | NO         | TABLET 所属的日志流 ID                                           |
| COMPACTION_SCN  | bigint(20) unsigned  | NO         | 数据快照版本号                                                      |
| DATA_SIZE     | bigint(20)  | NO         | 数据实际大小，单位为字节                                                     |
| REQUIRED_SIZE | bigint(20)  | NO         | 数据分配空间大小，单位为字节。数据存储以宏块（2MB）为最小单位，所以 `REQUIRED_SIZE >= DATA_SIZE` |

## 查询示例

系统租户查看租户 ID 为 1002 的租户的 Tablet 副本信息，展示前 10 条记录。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.CDB_OB_TABLET_REPLICAS WHERE TENANT_ID = 1002 LIMIT 10;
```

查询结果如下：

```shell
+----------------------------+----------------------------+-----------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
| CREATE_TIME                | MODIFY_TIME                | TENANT_ID | TABLET_ID | SVR_IP         | SVR_PORT | LS_ID | COMPACTION_SCN      | DATA_SIZE | REQUIRED_SIZE |
+----------------------------+----------------------------+-----------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
| 2024-12-31 14:59:45.377678 | 2025-01-02 02:59:28.302290 |      1002 |         1 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |     25048 |       2097152 |
| 2024-12-31 14:59:45.378161 | 2025-01-02 02:59:28.302290 |      1002 |         3 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |    382361 |       2097152 |
| 2024-12-31 14:59:45.386361 | 2025-01-02 02:59:28.302290 |      1002 |         4 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |    253313 |       2097152 |
| 2024-12-31 14:59:45.386361 | 2025-01-02 02:59:28.302290 |      1002 |         5 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |     29939 |       2097152 |
| 2024-12-31 14:59:45.386361 | 2025-01-02 02:59:28.302290 |      1002 |       102 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |      2095 |       2097152 |
| 2024-12-31 14:59:45.386361 | 2025-01-02 02:59:28.289712 |      1002 |       103 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |      2232 |       2097152 |
| 2024-12-31 14:59:45.386361 | 2025-01-02 02:59:28.302290 |      1002 |       104 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |       968 |       2097152 |
| 2024-12-31 14:59:45.385814 | 2025-01-02 02:59:28.302290 |      1002 |       105 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |      1093 |       2097152 |
| 2024-12-31 14:59:45.387221 | 2025-01-02 02:59:28.302290 |      1002 |       106 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |      1178 |       2097152 |
| 2024-12-31 14:59:45.386251 | 2025-01-02 02:59:28.302290 |      1002 |       107 | 172.xx.xxx.xxx |     2882 |     1 | 1735754402003130000 |      1232 |       2097152 |
+----------------------------+----------------------------+-----------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
10 rows in set
```