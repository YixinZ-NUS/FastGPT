|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.DBA_OB_CONCURRENT_LIMIT_SQL

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示当前租户的限流规则 Outline 相关信息。

## 字段说明

| 字段名称 | 类型 | 是否可以为 NULL | 描述 |
| --- | --- | --- | --- |
| CREATE_TIME | timestamp(6) | YES | 创建时间戳 |
| MODIFY_TIME | timestamp(6) | YES | 修改时间戳 |
| TENANT_ID | bigint(20) | NO | 租户 ID |
| DATABASE_ID | bigint(20) | NO | 数据库 ID |
| OUTLINE_ID | bigint(20) | NO | 限流规则 Outline ID |
| DATABASE_NAME | varchar(128) | NO | 数据库名称 |
| OUTLINE_NAME | varchar(128) | NO | 限流规则 Outline 名称 |
| OUTLINE_CONTENT | longtext | NO | 限流规则对应的 Outline 内容，可以为 Empty |
| VISIBLE_SIGNATURE | longtext | NO | Signature 反序列化结果 |
| SQL_TEXT | longtext | NO | 创建限流规则 Outline 时，在 on clause 中指定的 SQL |
| CONCURRENT_NUM | bigint(20) | NO | 当前 SQL 限制的并发数 |
| LIMIT_TARGET | longtext | NO | 被限流的 SQL |

## 查询示例

系统租户查询本租户的限流规则 Outline 相关信息。

```shell
obclient[oceanbase]>  SELECT * FROM oceanbase.DBA_OB_CONCURRENT_LIMIT_SQL\G
```

查询结果如下：

```shell
*************************** 1. row ***************************
      CREATE_TIME: 2025-04-28 10:49:00.863006
      MODIFY_TIME: 2025-04-28 10:49:00.863006
        TENANT_ID: 1
      DATABASE_ID: 201001
       OUTLINE_ID: 500007
    DATABASE_NAME: oceanbase
     OUTLINE_NAME: otl
  OUTLINE_CONTENT: /*+max_concurrent(0)*/
VISIBLE_SIGNATURE:
         SQL_TEXT:
   CONCURRENT_NUM: 0
     LIMIT_TARGET:
*************************** 2. row ***************************
      CREATE_TIME: 2025-04-28 10:53:24.949263
      MODIFY_TIME: 2025-04-28 10:53:24.949263
        TENANT_ID: 1
      DATABASE_ID: 500001
       OUTLINE_ID: 500008
    DATABASE_NAME: test
     OUTLINE_NAME: ol_1
  OUTLINE_CONTENT: /*+BEGIN_OUTLINE_DATA FULL(@"SEL$1" "test"."infotest"@"SEL$1") OPTIMIZER_FEATURES_ENABLE('4.2.5.1') END_OUTLINE_DATA*/
VISIBLE_SIGNATURE: SELECT  * FROM infotest WHERE c1 = ? AND c2 = ?
         SQL_TEXT: SELECT /*+max_concurrent(0)*/ * FROM infotest WHERE c1 = 1 AND c2 = ?
   CONCURRENT_NUM: 0
     LIMIT_TARGET: SELECT  * FROM infotest WHERE c1 = 1 AND c2 = ?
2 rows in set
```