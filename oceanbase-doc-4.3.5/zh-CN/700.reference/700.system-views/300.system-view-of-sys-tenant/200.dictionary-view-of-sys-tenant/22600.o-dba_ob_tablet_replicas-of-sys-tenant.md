|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.DBA_OB_TABLET_REPLICAS

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示本租户的所有 Tablet 副本信息，每个 Tablet 副本由联合键唯一确定：`<TABLET_ID, SVR_IP, SVR_PORT, LS_ID>`。

## 字段说明

|     字段名称      |     类型      | 是否可以为 NULL |              描述              |
|---------------|-------------|------------|------------------------------------------------------------|
| CREATE_TIME     | timestamp(6)  | NO         | 创建时间    |
| MODIFY_TIME     | timestamp(6)  | NO         | 修改时间     |
| TABLET_ID     | bigint(20)  | NO         | TABLET ID     |
| SVR_IP        | varchar(46) | NO         | 服务器 IP 地址     |
| SVR_PORT      | bigint(20)  | NO         | 服务器端口号        |
| LS_ID         | bigint(20)  | NO         | TABLET 所属的日志流 ID             |
| COMPACTION_SCN  | bigint(20) unsigned  | NO         | 数据快照版本号         |
| DATA_SIZE     | bigint(20)  | NO         | 数据实际大小，单位为字节        |
| REQUIRED_SIZE | bigint(20)  | NO         | 数据分配空间大小，单位为字节。数据存储以宏块（2MB）为最小单位，所以 `REQUIRED_SIZE >= DATA_SIZE` |

## 查询示例

系统租户查看本租户的 Tablet 副本信息，展示前 10 条记录。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_OB_TABLET_REPLICAS LIMIT 10;
```

查询结果如下：

```shell
+----------------------------+----------------------------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
| CREATE_TIME                | MODIFY_TIME                | TABLET_ID | SVR_IP         | SVR_PORT | LS_ID | COMPACTION_SCN      | DATA_SIZE | REQUIRED_SIZE |
+----------------------------+----------------------------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
| 2024-12-31 14:57:13.353724 | 2025-01-02 02:55:59.092589 |         1 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |     25041 |       2097152 |
| 2024-12-31 14:57:11.999513 | 2025-01-02 02:55:59.092589 |         3 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |    532350 |       2097152 |
| 2024-12-31 14:57:11.999513 | 2025-01-02 02:55:59.087812 |         4 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |    369280 |       2097152 |
| 2024-12-31 14:57:12.014381 | 2025-01-02 02:55:59.092589 |         5 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |    203691 |       2097152 |
| 2024-12-31 14:57:12.014381 | 2025-01-02 02:55:59.092589 |       102 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |      2107 |       2097152 |
| 2024-12-31 14:57:12.014381 | 2025-01-02 02:55:59.092589 |       103 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |      2241 |       2097152 |
| 2024-12-31 14:57:12.014381 | 2025-01-02 02:55:59.087812 |       104 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |      1037 |       2097152 |
| 2024-12-31 14:57:12.014381 | 2025-01-02 02:55:59.100588 |       105 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |      1165 |       2097152 |
| 2024-12-31 14:57:12.014381 | 2025-01-02 02:55:59.092589 |       106 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |      1178 |       2097152 |
| 2024-12-31 14:57:12.014381 | 2025-01-02 02:55:59.092589 |       107 | 172.xx.xxx.xxx |     2882 |     1 | 1735754403442116000 |      1232 |       2097152 |
+----------------------------+----------------------------+-----------+----------------+----------+-------+---------------------+-----------+---------------+
10 rows in set
```