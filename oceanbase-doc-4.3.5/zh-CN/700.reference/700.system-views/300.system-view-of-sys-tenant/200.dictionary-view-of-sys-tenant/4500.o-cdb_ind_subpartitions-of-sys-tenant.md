|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_IND_SUBPARTITIONS

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示数据库中所有索引子分区的信息。

## 字段说明

|          字段名称           |       类型        | 是否可以为 NULL |     描述     |
|-------------------------|-----------------|------------|--------------------------------------|
| CON_ID                  | decimal(10,0)   | NO         | 租户 ID      |
| INDEX_OWNER             | varchar(128)    | NO         | 索引所属的拥有者   |
| INDEX_NAME              | varchar(128)    | NO         | 索引名字       |
| TABLE_NAME              | varchar(128)    | NO         | 索引所属的表名|
| PARTITION_NAME          | varchar(128)    | NO         | 分区名字       |
| SUBPARTITION_NAME       | varchar(128)    | NO         | 子分区名字      |
| HIGH_VALUE              | mediumtext | NO         | 子分区绑定 Value 的表达式                                                                              |
| HIGH_VALUE_LENGTH       | bigint(20)      | NO         | 子分区绑定 Value 表达式的长度                                                                            |
| PARTITION_POSITION      | bigint(20)      | NO         | 分区在索引中的位置  |
| SUBPARTITION_POSITION   | bigint(20)      | NO         | 子分区在分区的位置  |
| STATUS                  | varchar(8)      | NO         | 指示索引分区是否可用 |
| TABLESPACE_NAME         | varchar(30)     | NO         | 包含分区的表空间的名称|
| PCT_FREE                | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                   |
| INI_TRANS               | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL           |
| MAX_TRANS               | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                    |
| INITIAL_EXTENT          | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                 |
| NEXT_EXTENT             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL                 |
| MIN_EXTENT              | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL              |
| MAX_EXTENT              | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL          |
| MAX_SIZE                | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL           |
| PCT_INCREASE            | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL   |
| FREELISTS               | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL          |
| FREELIST_GROUPS         | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL  |
| LOGGING                 | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL       |
| COMPRESSION             | varchar(13)     | NO         | 表示分区索引是否开启压缩： <li> ENABLE：开启   <li>DISABLE： 未开启            |
| BLEVEL                  | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL   |
| LEAF_BLOCKS             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL             |
| DISTINCT_KEYS           | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL    |
| AVG_LEAF_BLOCKS_PER_KEY | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL        |
| AVG_DATA_BLOCKS_PER_KEY | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL    |
| CLUSTERING_FACTOR       | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| NUM_ROWS                | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL    |
| SAMPLE_SIZE             | bigint(0)       | NO         | 目前暂不支持该字段，当前该字段默认为 NULL  |
| LAST_ANALYZED           | date            | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| BUFFER_POOL             | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL    |
| FLASH_CACHE             | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL  |
| CELL_FLASH_CACHE        | varchar(7)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL  |
| USER_STATS              | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL  |
| GLOBAL_STATS            | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL |
| INTERVAL                | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL  |
| SEGMENT_CREATED         | varchar(3)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL  |
| DOMIDX_OPSTATUS         | varchar(6)      | NO         | 目前暂不支持该字段，当前该字段默认为 NULL   |
| PARAMETERS              | text            | NO         | 目前暂不支持该字段，当前该字段默认为 NULL        |

## 查询示例

系统租户下，查看租户 ID 为 1002 的租户的索引表 `tbl2_f_rl` 中索引的子分区（二级分区）信息。

```shell
obclient [oceanbase]> SELECT CON_ID, INDEX_OWNER, INDEX_NAME, PARTITION_NAME, SUBPARTITION_NAME, HIGH_VALUE, HIGH_VALUE_LENGTH, PARTITION_POSITION, SUBPARTITION_POSITION FROM oceanbase.CDB_IND_SUBPARTITIONS WHERE CON_ID=1002 AND TABLE_NAME='tbl2_f_rl';
```

查询结果如下：

```shell
+--------+-------------+----------------+----------------+-------------------+------------+-------------------+--------------------+-----------------------+
| CON_ID | INDEX_OWNER | INDEX_NAME     | PARTITION_NAME | SUBPARTITION_NAME | HIGH_VALUE | HIGH_VALUE_LENGTH | PARTITION_POSITION | SUBPARTITION_POSITION |
+--------+-------------+----------------+----------------+-------------------+------------+-------------------+--------------------+-----------------------+
|   1002 | infotest    | tbl2_f_rl_idx1 | p0             | sp0               | 1,3        |                 3 |                  1 |                     1 |
|   1002 | infotest    | tbl2_f_rl_idx1 | p0             | sp1               | 4,6        |                 3 |                  1 |                     2 |
|   1002 | infotest    | tbl2_f_rl_idx1 | p0             | sp2               | 7,9        |                 3 |                  1 |                     3 |
|   1002 | infotest    | tbl2_f_rl_idx1 | p1             | sp3               | 1,3        |                 3 |                  2 |                     1 |
|   1002 | infotest    | tbl2_f_rl_idx1 | p1             | sp4               | 4,6        |                 3 |                  2 |                     2 |
|   1002 | infotest    | tbl2_f_rl_idx1 | p1             | sp5               | 7,9        |                 3 |                  2 |                     3 |
+--------+-------------+----------------+----------------+-------------------+------------+-------------------+--------------------+-----------------------+
6 rows in set
```