|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_OB_BACKUP_STORAGE_INFO

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V4.0.0 版本开始引入。</p>
</main>

## 功能描述

展示所有租户下备份恢复使用的备份目的地相关信息。

## 字段说明

| 字段名称              | 类型         | 是否可以为 NULL | 描述            |
|----------------------|--------------|----------------|-----------------|
| TENANT_ID            | bigint(20)   | NO | 租户 ID |
| PATH                 | varchar(1024)| NO | 备份的根路径 |
| ENDPOINT             | varchar(256) | NO | 对象存储访问需要设置的 HOST |
| DEST_ID              | bigint(20)   | YES| 备份目的地的编号 |
| DEST_TYPE            | varchar(64)  | YES| 备份目的地的类型：<ul><li>`archive_log`：日志归档</li> <li>`backup_data`：数据备份</li></ul> |
| AUTHORIZATION        | varchar(1024)| NO | 对象存储的授权信息 |
| EXTENSION            | varchar(512) | NO | 备份目的地的其余参数 |
| CHECK_FILE_NAME      | varchar(256) | YES| 连通性的校验文件名 |
| LAST_CHECK_TIMESTAMP | timestamp(6) | YES| 上一次连通性检查通过的时间 |
| MAX_IOPS             | bigint(20)   | NO | 备份使用的备份介质允许的最大 IOPS <main id="notice" type='explain'><h4>说明</h4><p>该字段从 V4.3.4 版本开始引入。</p></main>    |
| MAX_BANDWIDTH        | bigint(20)   | NO | 备份使用的备份介质允许的最大带宽，单位为字节 <main id="notice" type='explain'><h4>说明</h4><p>该字段从 V4.3.4 版本开始引入。</p></main>      |
| MAX_BANDWIDTH_DISPLAY| varchar(29)  | NO | 最大带宽转换格式后的展示，转换后的格式类似 10GB/s、10MB/s <main id="notice" type='explain'><h4>说明</h4><p>该字段从 V4.3.4 版本开始引入。</p></main>      |

## 查询示例

系统租户查看租户 ID 为 1002 的租户其备份恢复使用的备份目的地相关信息。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.CDB_OB_BACKUP_STORAGE_INFO WHERE TENANT_ID=1002;
```

查询结果如下：

```shell
+-----------+-----------------------------------------+----------+---------+-------------+---------------+-----------+-----------------------------------------+----------------------------+----------+---------------+-----------------------+
| TENANT_ID | PATH                                    | ENDPOINT | DEST_ID | DEST_TYPE   | AUTHORIZATION | EXTENSION | CHECK_FILE_NAME                         | LAST_CHECK_TIMESTAMP       | MAX_IOPS | MAX_BANDWIDTH | MAX_BANDWIDTH_DISPLAY |
+-----------+-----------------------------------------+----------+---------+-------------+---------------+-----------+-----------------------------------------+----------------------------+----------+---------------+-----------------------+
|      1002 | file:///home/admin/oceanbase/arglog     |          |    1001 | archive_log |               |           | 1002_connect_file_20250103T081853.obbak | 2025-01-03 16:19:04.807451 |        0 |             0 | UNLIMITED             |
|      1002 | file:///home/admin/oceanbase/backupdata |          |    1002 | backup_data |               |           | 1002_connect_file_20250103T081928.obbak | 2025-01-03 16:20:34.069255 |        0 |             0 | UNLIMITED             |
+-----------+-----------------------------------------+----------+---------+-------------+---------------+-----------+-----------------------------------------+----------------------------+----------+---------------+-----------------------+
2 rows in set
```