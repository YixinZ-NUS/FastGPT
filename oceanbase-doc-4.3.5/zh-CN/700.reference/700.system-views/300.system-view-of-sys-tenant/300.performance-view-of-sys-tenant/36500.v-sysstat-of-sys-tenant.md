|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# V$SYSSTAT

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V1.4 版本开始引入。</p>
</main>

## 功能描述

展示各租户在当前 OBServer 节点上的统计事件信息。

其中：

* `STATISTIC#`：表示统计项编号，同一统计项的编号在不同 OBServer 节点版本中可能会发生变化。

* `STAT_ID`：表示统计项 ID，同一统计项的 ID 在不同 OBServer 节点版本中保证相同。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>使用该视图时需要开启监控，即将配置项 <code>enable_perf_event</code> 的值设置为 True。</p>
</main>

## 字段说明

| **字段名称** | **类型** | **是否可以为 NULL** | **描述** |
| --- | --- | --- | --- |
| CON_ID | bigint(20) | NO | 租户 ID |
| SVR_IP | varchar(46) | NO | 信息所在服务器的 IP 地址 |
| SVR_PORT | bigint(20) | NO | 信息所在服务器的端口号 |
| STATISTIC# | bigint(20) | NO | 统计事件的下标 |
| NAME | varchar(64) | NO | 统计事件的名称 |
| CLASS | bigint(20) | NO | 统计事件所属的类型 |
| VALUE | bigint(20) | NO | 统计事件对应的结果数值 |
| VALUE_TYPE | varchar(16) | NO | 统计值类型：<li>ADD：累加<li>SET：更新 |
| STAT_ID | bigint(20) | NO | 统计事件 ID |

## 查询示例

系统租户下，查看所有租户在当前节点上的统计事件信息，展示前 10 条记录。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.V$SYSSTAT LIMIT 10;
```

查询结果如下：

```shell
+--------+----------------+----------+------------+-----------------------+-------+-------------+------------+---------+
| CON_ID | SVR_IP         | SVR_PORT | STATISTIC# | NAME                  | CLASS | VALUE       | VALUE_TYPE | STAT_ID |
+--------+----------------+----------+------------+-----------------------+-------+-------------+------------+---------+
|      1 | 11.xxx.xxx.xxx |    28825 |          0 | rpc packet in         |     1 |    60000651 | ADD_VALUE  |   10000 |
|      1 | 11.xxx.xxx.xxx |    28825 |          1 | rpc packet in bytes   |     1 | 14857436223 | ADD_VALUE  |   10001 |
|      1 | 11.xxx.xxx.xxx |    28825 |          2 | rpc packet out        |     1 |    13331823 | ADD_VALUE  |   10002 |
|      1 | 11.xxx.xxx.xxx |    28825 |          3 | rpc packet out bytes  |     1 |  4602803985 | ADD_VALUE  |   10003 |
|      1 | 11.xxx.xxx.xxx |    28825 |          4 | rpc deliver fail      |     1 |           0 | ADD_VALUE  |   10004 |
|      1 | 11.xxx.xxx.xxx |    28825 |          5 | rpc net delay         |     1 |   465112463 | ADD_VALUE  |   10005 |
|      1 | 11.xxx.xxx.xxx |    28825 |          6 | rpc net frame delay   |     1 |     1564592 | ADD_VALUE  |   10006 |
|      1 | 11.xxx.xxx.xxx |    28825 |          7 | mysql packet in       |     1 |         530 | ADD_VALUE  |   10007 |
|      1 | 11.xxx.xxx.xxx |    28825 |          8 | mysql packet in bytes |     1 |       63960 | ADD_VALUE  |   10008 |
|      1 | 11.xxx.xxx.xxx |    28825 |          9 | mysql packet out      |     1 |     1223369 | ADD_VALUE  |   10009 |
+--------+----------------+----------+------------+-----------------------+-------+-------------+------------+---------+
10 rows in set
```

## 相关视图或文档

* 查看 Session 级别的统计事件信息：

  * [GV$SESSTAT](5300.gv-sesstat-of-sys-tenant.md)
  * [V$SESSTAT](35800.v-sesstat-of-sys-tenant.md)

* 查看租户所有统计事件的定义：[V$STATNAME](36400.v-statname-of-sys-tenant.md)

* 有关统计事件的详细说明，参见 [常见统计事件说明](../../../700.system-views/510.statistical-event-description.md)。