|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# V$SQL_JOIN_FILTER

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>该视图从 V4.2.0 版本开始引入。</p>
</main>

## 功能描述

动态展示各租户在当前 OBServer 节点上 Join Filter 执行的相关信息。

## 字段说明

| **字段** | **类型** | **是否为 NULL** | **描述** |
| --- | --- | --- | --- |
| SVR_IP | varchar(46) | NO | Server IP 地址 |
| SVR_PORT | bigint(20) | NO | Server 端口号 |
| QC_SESSION_ID | bigint(0) | NO | 给定并行查询的游标的 QC（Query Coordinator）会话 ID<br>对于 V4.3.x 版本：<ul><li> V4.3.5 BP2 之前版本：<br>在所有连接方式（直连模式/ODP 模式）下，该字段均表示 Server Session ID。</li><li> V4.3.5 BP2 及之后版本：<ul><li>在直连模式下：<br>该字段表示 Server Session ID。</li> <li>在 ODP 模式下：</li><ul><li>当 ODP 中的配置项 <code>client_session_id_version = 2</code> 时，该字段表示 Client Session ID。 </li> <li>当 <code>client_session_id_version = 1</code> 时，该字段表示 Server Session ID。</li></ul></ul></li></ul> |
| QC_INSTANCE_ID | bigint(0) | NO | 给定并行查询的游标的 QC（Query Coordinator）实例 ID |
| SQL_PLAN_HASH_VALUE | bigint(0) | NO | 给定并行查询的游标的 SQL 计划的 Hash值 |
| FILTER_ID | bigint(20) | NO | 给定游标中标识连接过滤器的 ID，该 ID 对应于执行计划中的过滤器 ID |
| BITS_SET | bigint(0) | NO |  BLOOM_FILTER 内使用的 Bitmap （联接位图）大小，当前版本仅用于兼容   |
| FILTERED | bigint(20) | NO | 连接过滤器所处理的行数 |
| PROBED | bigint(20) | NO | 已经通过位图过滤器测试的右表行数。这里指过滤行数和未过滤行数的总和 |
| ACTIVE | bigint(0) | NO | 过滤器是否处于活动状态（是）或非活动状态（否） |
| CON_ID | bigint(20) | NO | 数据所属容器的ID |
| TRACE_ID | varchar(64) | NO | SQL 语句对应的 Trace ID |

## 查询示例

系统租户下，查看各租户在当前 OBServer 节点上 Join Filter 执行的相关信息。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.V$SQL_JOIN_FILTER LIMIT 10;
```

查询结果如下：

```shell
+----------------+----------+---------------+----------------+---------------------+-----------+----------+----------+--------+--------+--------+------------------------------------+
| SVR_IP         | SVR_PORT | QC_SESSION_ID | QC_INSTANCE_ID | SQL_PLAN_HASH_VALUE | FILTER_ID | BITS_SET | FILTERED | PROBED | ACTIVE | CON_ID | TRACE_ID                           |
+----------------+----------+---------------+----------------+---------------------+-----------+----------+----------+--------+--------+--------+------------------------------------+
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |      0 |   NULL |   1002 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |      0 |   NULL |   1002 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |      0 |   NULL |   1002 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |      0 |   NULL |   1004 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |   2509 |   NULL |   1004 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |      0 |   NULL |   1004 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |   2530 |   NULL |   1004 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |      0 |   NULL |   1004 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |   2504 |   NULL |   1004 | y70***************************-0-0 |
| 11.xxx.xxx.xxx |    28825 |          NULL |           NULL |                NULL |         0 |     NULL |        0 |      0 |   NULL |   1004 | y70***************************-0-0 |
+----------------+----------+---------------+----------------+---------------------+-----------+----------+----------+--------+--------+--------+------------------------------------+
10 rows in set
```