|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# V$SYSTEM_EVENT

<main id="notice" type='explain'>
<h4>说明</h4>
<p>该视图从 V1.4 版本开始引入。</p>
</main>

## 功能描述

展示各租户在当前 OBServer 节点上的等待事件，统计每一类等待事件的发生次数、等待时间、超时次数等。

## 字段说明

| **字段名称** | **类型** | **是否可以为 NULL** | **描述** |
| --- | --- | --- | --- |
| CON_ID | bigint(20) | NO | 租户 ID |
| SVR_IP | varchar(46) | NO | 信息所在 Server 的 IP |
| SVR_PORT | bigint(20) | NO | 信息所在 Server 的端口号 |
| EVENT_ID | bigint(20) | NO | 等待事件的 ID |
| EVENT | varchar(64) | NO | 等待事件的描述 |
| WAIT_CLASS_ID | bigint(20) | NO | 等待事件的所属 Class ID |
| WAIT_CLASS# | bigint(20) | NO | 等待事件的所属的 Class下标 |
| WAIT_CLASS | varchar(64) | NO | 等待事件所属的 Class |
| TOTAL_WAITS | bigint(20) | NO | 该等待事件的总等待次数 |
| TOTAL_TIMEOUTS | bigint(20) | NO | 该等待事件的总超时次数 |
| TIME_WAITED | double | NO | 该等待事件的总等待时间，单位为 10 ms |
| AVERAGE_WAIT | double | NO | 该等待事件的平均等待时间，单位为 10 ms |
| TIME_WAITED_MICRO | bigint(20) | NO | 该等待事件的总等待时间，单位为微秒 |

## 查询示例

系统租户下，查看所有租户在当前节点的所有等待事件，展示前 10 条记录。

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.V$SYSTEM_EVENT LIMIT 10;
```

查询结果如下：

```shell
+--------+----------------+----------+----------+-------------------------------------+---------------+-------------+---------------+-------------+----------------+-------------+----------------------+-------------------+
| CON_ID | SVR_IP         | SVR_PORT | EVENT_ID | EVENT                               | WAIT_CLASS_ID | WAIT_CLASS# | WAIT_CLASS    | TOTAL_WAITS | TOTAL_TIMEOUTS | TIME_WAITED | AVERAGE_WAIT         | TIME_WAITED_MICRO |
+--------+----------------+----------+----------+-------------------------------------+---------------+-------------+---------------+-------------+----------------+-------------+----------------------+-------------------+
|      1 | 11.xxx.xxx.xxx |    28825 |    10001 | db file data read                   |           108 |           8 | USER_IO       |     1062255 |              0 |   13525.925 |  0.01273321848332086 |         135259250 |
|      1 | 11.xxx.xxx.xxx |    28825 |    11001 | db file compact read                |           109 |           9 | SYSTEM_IO     |     1412366 |              0 |  56152.2317 |  0.03975756404501383 |         561522317 |
|      1 | 11.xxx.xxx.xxx |    28825 |    11002 | db file compact write               |           109 |           9 | SYSTEM_IO     |      311353 |              0 |  17540.5111 |  0.05633641268913419 |         175405111 |
|      1 | 11.xxx.xxx.xxx |    28825 |    11016 | palf read                           |           109 |           9 | SYSTEM_IO     |         914 |              0 |     29.6847 |  0.03247778993435448 |            296847 |
|      1 | 11.xxx.xxx.xxx |    28825 |    11017 | palf write                          |           109 |           9 | SYSTEM_IO     |     9706706 |              0 | 239668.5615 | 0.024691029222477737 |        2396685615 |
|      1 | 11.xxx.xxx.xxx |    28825 |    13000 | sync rpc                            |           107 |           7 | NETWORK       |      908785 |              0 |  53998.3223 | 0.059418148737050015 |         539983223 |
|      1 | 11.xxx.xxx.xxx |    28825 |    13001 | mysql response wait client          |           106 |           6 | IDLE          |        5324 |              0 |     73.8805 | 0.013876878287002254 |            738805 |
|      1 | 11.xxx.xxx.xxx |    28825 |    13003 | external table wait remote response |           107 |           7 | NETWORK       |           1 |              0 |      0.0137 |               0.0137 |               137 |
|      1 | 11.xxx.xxx.xxx |    28825 |    13004 | wait in request queue               |           102 |           2 | CONFIGURATION |     6159353 |              0 |  14228.6415 | 0.002310087033491992 |         142286415 |
|      1 | 11.xxx.xxx.xxx |    28825 |    15101 | default condition wait              |           104 |           4 | CONCURRENCY   |     5743569 |              0 | 219216.8729 |  0.03816736125221095 |        2192168729 |
+--------+----------------+----------+----------+-------------------------------------+---------------+-------------+---------------+-------------+----------------+-------------+----------------------+-------------------+
10 rows in set
```

## 相关视图或文档

* 查看所有 Session 的当前或上一次等待事件：

  * [GV$SESSION_WAIT](5100.gv-session_wait-of-sys-tenant.md)
  * [V$SESSION_WAIT](35600.v-session_wait-of-sys-tenant.md)

* 查看 Session 级别的所有等待事件：

  * [GV$SESSION_EVENT](4900.gv-session_event-of-sys-tenant.md)
  * [V$SESSION_EVENT](33900.v-ob_session_event-of-sys-tenant.md)

* 查看租户所有等待事件的定义：[V$EVENT_NAME](30300.v-event_name-of-sys-tenant.md)

* 有关等待事件的详细说明，参见 [常见等待事件说明](../../520.wait-event-description.md)。