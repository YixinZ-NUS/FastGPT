|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|

# 自定义热点缓存策略运维指南

本文将介绍通过 SQL 语句控制自定义热点缓存策略的后台任务执行，包括挂起、恢复和手动触发操作。

## 挂起/恢复后台缓存任务

OceanBase 数据库提供配置项 `suspend_storage_cache_task` 用于设置是否暂停后台缓存任务，取值如下：

* `True`：暂停（挂起）当前正在进行以及新发起的缓存任务。
* `False`：不暂停后台的缓存任务，即恢复处于挂起状态的缓存任务。

该配置项详细介绍，参见 [suspend_storage_cache_task](../../../800.configuration-items-and-system-variables/100.system-configuration-items/400.tenant-level-configuration-items/8070.suspend_storage_cache_task.md)。

### 示例

* 执行如下命令将租户下所有热点缓存任务挂起。

    ```shell
    obclient> ALTER SYSTEM SET suspend_storage_cache_task = true;
    ```

* 执行如下命令，重新激活租户下所有处于挂起状态的热点缓存任务。

    ```shell
    obclient> ALTER SYSTEM SET suspend_storage_cache_task = false;
    ```

## 手动触发一次热数据缓存任务

自定义热点缓存策略生效后，可以执行下面 SQL 语句手动立即触发一次热数据缓存任务的执行：

```sql
ALTER SYSTEM TRIGGER STORAGE_CACHE_POLICY_EXECUTOR;
```

### 示例

执行如下命令将立即触发一次热点缓存任务。

```shell
obclient> ALTER SYSTEM TRIGGER STORAGE_CACHE_POLICY_EXECUTOR;
```

## 相关文档

* 查看热点缓存任务的实时状态和执行详情，参见 [V$OB_STORAGE_CACHE_TASKS](../../../700.system-views/300.system-view-of-sys-tenant/300.performance-view-of-sys-tenant/34550.v-ob_storage_cache_tasks-of-sys-tenant.md)。
* 有关自定义热点缓存策略介绍信息，参见 [自定义热点缓存策略概述](100.customize-hotspot-cache-overview-of-mysql-mode.md)。