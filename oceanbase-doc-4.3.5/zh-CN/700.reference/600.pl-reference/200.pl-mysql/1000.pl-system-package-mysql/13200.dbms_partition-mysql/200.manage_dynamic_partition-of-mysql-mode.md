| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | MySQL Mode      |
|machine-translation||

# MANAGE_DYNAMIC_PARTITION

`MANAGE_DYNAMIC_PARTITION` 用于执行一次动态分区管理任务，为当前租户下动态分区表预创建未来分区、删除过期分区。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>对于 OceanBase 数据库 V4.3.5 版本，从 V4.3.5 BP2 版本开始支持子程序 <code>MANAGE_DYNAMIC_PARTITION</code>。</p>
</main>

## 语法

```sql
DBMS_PARTITION.MANAGE_DYNAMIC_PARTITION (
    precreate_time VARCHAR(64) DEFAULT NULL,
    time_unit VARCHAR(64) DEFAULT NULL);
```

## 参数说明

|      参数      |   说明     |
|----------------|-----------|
| precreate_time | 可选值，`n {hour \| day \| week \| month \| year}`。<ul><li>默认值为 `null`，表示不额外指定预创建时间。</li><li>当显式指定时，在为动态分区表预创建分区时，取指定 `precreate_time` 和表上 `precreate_time` 的较大值作为预创建时间。</li></ul>|
| time_unit      | 可选值， `null \| hour \| day \| week \| month \| year`。<ul><li>默认值为 `null`，表示对所有动态分区表执行动态分区管理任务。</li><li>值为 `hour` 时，仅对 `time_unit` 为 `hour` 的表执行动态分区管理任务。</li><li>值为 `day` 时，仅对 `time_unit` 为 `day` 的表执行动态分区管理任务。</li><li>值为 `week` 时，仅对 `time_unit` 为 `week` 的表执行动态分区管理任务。</li><li>值为 `month` 时，仅对 `time_unit` 为 `month` 的表执行动态分区管理任务。</li><li>值为 `year` 时，仅对 `time_unit` 为 `year` 的表执行动态分区管理任务。</li></ul>|

## 示例

```sql
CALL DBMS_PARTITION.MANAGE_DYNAMIC_PARTITION();
```

```sql
CALL DBMS_PARTITION.MANAGE_DYNAMIC_PARTITION('3DAY');
```

```sql
CALL DBMS_PARTITION.MANAGE_DYNAMIC_PARTITION('3DAY', 'HOUR');
```

## 相关文档

[动态分区管理任务](../../../../300.database-object-management/100.manage-object-of-mysql-mode/300.manage-partitions-of-mysql-mode/260.dynamic-partition-of-mysql-mode/500.dynamic-partition-management-task-of-mysql-mode.md)
