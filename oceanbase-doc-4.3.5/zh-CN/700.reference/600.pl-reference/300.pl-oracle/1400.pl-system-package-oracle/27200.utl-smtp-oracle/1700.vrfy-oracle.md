| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |
|machine-translation||

# VRFY

用于发送 `VRFY` 命令，验证目标电子邮件地址的有效性。

<main id="notice" >
    <h4>功能适用性</h4>
    <p>该内容仅适用于 OceanBase 数据库 Oracle 模式。</p>
  </main>

## 语法

```sql
UTL_SMTP.VRFY (
   c          IN OUT NOCOPY connection
   recipient  IN VARCHAR2)
RETURN reply;
```

## 参数解释

| **参数** |         **解释**         |
|--------|------------------------|
|c|SMTP 连接。|
|recipient|需要验证的电子邮件地址。|

## 返回值

| **返回值** |          **描述**          |
|---------|--------------------------|
|reply|command 的回复。如果有多个回复，则返回最后一个回复。|

## 使用说明

* 服务器将尝试解析需要验证的电子邮件地址，如果成功，将返回收件人的全名和完全限定的邮箱 path。
* 需要在 `open_connection` 和 `helo` 或 `ehlo` 之后调用。
* 预期返回是 `250` 或 `251` 开头的回复信息。
  * `250`：当 SMTP 服务器成功处理了 VRFY（验证）请求，并且能够确认所查询的邮箱地址是有效的时，它会返回这个代码。这意味着该电子邮件地址存在并且可以接收邮件。
  * `251`：如果被请求验证的邮箱地址不属于本地系统但服务器知道如何将其转发到正确的目的地，则可能返回此代码。
