| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |
|machine-translation||

# WRITE_TEXT

`WRITE_TEXT` 用于将文本消息传输到打开连接的服务。

<main id="notice" >
    <h4>功能适用性</h4>
    <p>该内容仅适用于 OceanBase 数据库 Oracle 模式。</p>
  </main>

## 语法

```sql
UTL_TCP.WRITE_TEXT (
   c    IN OUT NOCOPY connection,
   data IN            VARCHAR2 CHARACTER SET ANY_CS,
   len  IN            PLS_INTEGER DEFAULT NULL)
 RETURN PLS_INTEGER;
```

## 参数解释

| **参数** |         **解释**         |
|--------|------------------------|
|c| TCP/IP 连接。|
|data|包含要发送数据的缓冲区。|
|len|要传输的数据的字符数。为 `NULL` 时，传输全部数据。由于网络状况，实际写入的数据可能会比较少。|

## 返回值

返回传输数据的实际字符数。

## 使用说明

* 必须是已经通过 `open_connection` 打开过的连接。
* 在传输前将文本字符集转换为指定的在线字符集。
* 如果 `len` 大于 `data` 的字符数，抛出 `bad argument` 异常。
