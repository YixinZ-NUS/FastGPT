| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |

# GET_TABLE_INDEX_DDL

`GET_TABLE_INDEX_DDL` 函数用来批量提取主表（TABLE）的索引 DDL 语句。

<main id="notice" type='explain'>
  <h4>说明</h4>
  <p>对于 V4.3.x 版本，该函数从 V4.3.5 BP5 版本开始引入。</p>
</main>

## 语法

```sql
TYPE index_ddl_row IS RECORD (
    index_name    VARCHAR2(4000),
    index_ddl     CLOB
  );

TYPE index_ddl_table IS TABLE OF index_ddl_row;

FUNCTION get_table_index_ddl (
    table_name      VARCHAR,
    ob_schema     VARCHAR DEFAULT NULL)
RETURN index_ddl_table PIPELINED;
```

## 参数解释

|   **参数**    |            **解释**             |
|-------------|-------------------------------|
|table_name|主表名称。|
|ob_schema|包含该表的 schema。默认为调用者的 schema。|

## 示例

执行如下命令，批量提取表的 index ddl：

```sql
obclient> SELECT * FROM TABLE(DBMS_METADATA.GET_TABLE_INDEX_DDL(('TABLE_NAME', 'SCHEMA_NAME'));
```
