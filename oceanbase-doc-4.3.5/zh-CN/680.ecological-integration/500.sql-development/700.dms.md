|description|  |
|---|---|
|keywords| |
|dir-name|DMS|
|dir-name-en|DMS|

# 使用 DMS 管理 OceanBase 数据库

阿里云数据管理服务 DMS（Data Management Service）是企业级一站式数据管理平台，提供包括数据资产管理、数据治理、数据库设计开发、数据集成、数据开发和数据消费等功能在内的全生命周期的数据库开发运维能力。本文介绍如何在 DMS 中连接 OceanBase 数据库进行管理。

## 前提条件

* 您已完成部署 OceanBase 数据库并且创建了用户租户。创建用户租户的详细信息，参见 [创建租户](../../600.manage/200.tenant-management/600.common-tenant-operations/200.manage-create-tenant.md)。

* 您的 DMS 账号角色需为 DBA 或者系统管理员。您可以在 [DMS 控制台](https://dms.aliyun.com/)，单击页面右上角的用户头像，查看当前账号对应角色信息。

    ![1](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/cloud/25V1/800.integration/dms/1.png)

## 操作步骤

### 步骤一：获取数据库连接信息

联系 OceanBase 数据库部署人员或者管理员获取相应的数据库连接串，例如：

```shell
obclient -h$host -P$port -u$user_name -p$password -D$database_name
```

**参数说明：**

* `$host`：提供 OceanBase 数据库连接 IP。OceanBase 数据库代理（OceanBase Database Proxy，ODP）连接方式使用的是一个 ODP 地址；直连方式使用的是 OBServer 节点的 IP 地址。
* `$port`：提供 OceanBase 数据库连接端口。ODP 连接的方式默认是 `2883`，在部署 ODP 时可自定义；直连方式默认是 `2881`，在部署 OceanBase 数据库时可自定义。
* `$database_name`：需要访问的数据库名称。

    <main id="notice" type='notice'>
        <h4>注意</h4>
        <p>连接租户的用户需要拥有该数据库的 <code>CREATE</code>、<code>INSERT</code>、<code>DROP</code> 和 <code>SELECT</code> 权限。更多有关用户权限的信息，请参见 <a href="../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/100.permission-classification-of-mysql.md">MySQL 模式下的权限分类</a>。</p>
    </main>

* `$user_name`：提供租户的连接账户。ODP 连接的常用格式：`用户名@租户名#集群名` 或者 `集群名:租户名:用户名`；直连方式格式：`用户名@租户名`。
* `$password`：提供账户密码。

更多连接串的信息，请参见 [通过 OBClient 连接 OceanBase 租户](../../300.develop/100.application-development-of-mysql-mode/100.connect-to-oceanbase-database-of-mysql-mode/300.connect-to-an-oceanbase-tenant-by-using-obclient-of-mysql-mode.md)。

### 步骤二：在 DMS 控制台连接 OceanBase 数据库

1. 登录 [DMS 控制台](https://dms.aliyun.com/)，将鼠标移动至页面左上角的 <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/cloud/25V1/800.integration/dms/button.png" align="top" width="20"> 图标，展开左侧导航栏，然后选择 **全部功能** > **实例管理**。

    ![2](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/cloud/25V1/800.integration/dms/2.png)

2. 单击 **+ 新增**，然后在 **新增实例** 页面选择 **他云/自建** 页签。

3. 在 **他云/自建** 页签下，根据您所创建的 OceanBase 数据库的租户模式，选择 **OceanBase MySQL** 或者 **OceanBase Oracle**，然后在 **基本信息** 下完成填写下列信息：

    | 选项 | 说明 |
    |------|------|
    | 实例来源  | 选择 **公网**。|
    | 实例地区  | 按照您的 DMS 地域来选择，如 **华东1（杭州）**。|
    | 登录地址  | 取自前文步骤一获取的连接串中的 `-h` 参数。|
    | 端口      | 取自连接串中的 `-P` 参数，OceanBase 数据库连接端口。|
    | 数据库账号 | 取自连接串中 `-u` 参数，账号名称。|
    | 数据库密码 | 取自连接串中 `-p` 参数，账号密码。|

4. 单击 **测试链接**，提示连接成功后，单击 **确认**。

5. 回到 DMS 首页，刷新数据库实例列表，**免登录实例** 列表下展示已添加的实例信息。

    ![3](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/cloud/25V1/800.integration/dms/3.png)
