|description||
|---|---|
|keywords|PowerJob, 任务调度, OceanBase|
|dir-name|PowerJob|
|dir-name-en|PowerJob|

# PowerJob 集成 OceanBase 数据库

PowerJob 是一个分布式任务调度平台，支持使用 OceanBase 作为元数据存储数据库。本指南将介绍如何配置 PowerJob 使用 OceanBase 作为后端数据库，并调度各种类型的任务。

## 前提条件

- 已安装 Java 8 或更高版本
- 已部署 OceanBase 数据库 4.0 或更高版本

## 操作步骤

### 步骤 1：下载 PowerJob

执行以下命令下载 PowerJob：

```bash
git clone https://github.com/PowerJob/PowerJob.git
```

### 步骤 2：配置 OceanBase 数据库连接

1. 创建 OceanBase 数据库和用户：

    ```sql
    -- 创建数据库
    CREATE DATABASE powerjob_db;

    -- 创建用户
    CREATE USER 'powerjob'@'%' IDENTIFIED BY 'your_password';

    -- 授权
    GRANT ALL ON powerjob_db.* TO 'powerjob'@'%';
    ```

2. 修改 PowerJob Server 子项目日常环境配置文件 `application-daily.properties`，配置 OceanBase 数据库连接：

    ```properties
    # 数据库驱动
    spring.datasource.core.driver-class-name=com.mysql.cj.jdbc.Driver
    # 数据库连接信息
    spring.datasource.core.jdbc-url=jdbc:mysql://your_host:2881/powerjob_db?useUnicode=true&characterEncoding=UTF-8
    # 数据库用户名
    spring.datasource.core.username=powerjob
    # 数据库密码
    spring.datasource.core.password=your_password
    # 数据库连接池配置
    spring.datasource.core.maximum-pool-size=20
    spring.datasource.core.minimum-idle=5
    ```

### 步骤 3：导入 PowerJob 项目到 IDE

1. 打开常用的 Java IDE（如 IntelliJ IDEA 或 Eclipse）。
2. 选择 **导入项目** 或 **Open Project**，选择刚刚下载的 `PowerJob` 目录，按照 IDE 向导完成项目导入和依赖加载。

### 步骤 4：启动 PowerJob Server

1. 在 IDE 中启动 `tech.powerjob.server.PowerJobServerApplication` 入口类。
2. 启动后，在浏览器中访问 `http://localhost:7700` 进入 PowerJob 管理后台。

## 参考文档

- [PowerJob 官方文档](http://www.powerjob.tech/)
- [OceanBase 文档](https://www.oceanbase.com/docs)
