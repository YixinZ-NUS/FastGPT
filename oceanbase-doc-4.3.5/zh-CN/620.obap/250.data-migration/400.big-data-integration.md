# 大数据生态集成

大数据生态集成迁移特指数据源已存在于离线数仓（如 Hive、HBase、ORC/Parquet 文件等）或大数据平台组件中，而非直接来源于传统 OLTP 数据库或实时消息队列。这类迁移的核心目标是将这些已在大数据生态中处理或存储的数据，高效、可靠地集成或迁移到 OceanBase AP 数据库或其他目标系统，以支持更高级的分析、实时查询或与其他业务系统的协同。

## 迁移场景

+ **离线数仓数据需要同步到实时分析系统**：将 Hive、Spark 等离线数仓中的数据同步到实时数据处理平台（如 Flink、Kafka），以支持实时数据处理和流式分析。
+ **离线数据需归档到长期存储**：将离线数仓中的历史数据归档到长期存储（如云对象存储 S3、阿里云 OSS），以降低存储成本并满足数据保留策略。
+ **离线数据需与外部系统集成**：将 Hive 数据迁移到 Snowflake 等外部系统进行跨团队协作，或将大数据平台的数据与业务系统进行集成。

在这类数据迁移场景中，需要关注：

+ **存储格式转换**：如 Parquet 到 Avro 的格式转换，需要考虑不同格式的压缩率、查询性能和兼容性。
+ **海量数据的高效传输**：使用 DistCp、Spark 等分布式工具，通过并行处理和网络优化来提升传输效率。
+ **元数据同步**：确保源端（如 Hive Metastore）的元数据（表结构、分区信息等）能与 OceanBase AP 中的目标表结构正确同步和映射。

## 相关迁移文档

OceanBase 提供了多种大数据生态集成方案，您可以根据数据源类型查看相应的迁移操作文档：

### 从 Hive 数据仓库迁移

Hive 作为常用的数据仓库，支持以下两种迁移方式：

+ [使用 OMS 社区版迁移 Hive 数据](https://www.oceanbase.com/docs/community-oms-cn-1000000002947290)
+ [使用 OBLoader 迁移 Hive 数据](https://www.oceanbase.com/docs/common-oceanbase-dumper-loader-1000000002781921)

### 从 HBase 数据库迁移

HBase 作为分布式 NoSQL 数据库，支持以下迁移方式：

+ [使用 OMS 社区版迁移 HBase 数据](https://www.oceanbase.com/docs/community-oms-cn-1000000002947280)

### 从文件迁移

对于存储在文件系统中的数据，支持多种格式的迁移：

+ [使用 OBLoader 进行 ORC/Parquet/CSV 文件迁移](https://www.oceanbase.com/docs/common-oceanbase-dumper-loader-1000000002781920)

### 从阿里云 AnalyticDB MySQL 版迁移

阿里云云原生数据仓库 AnalyticDB MySQL 版可以使用云数据库 OceanBase 控制台中的数据迁移：

+ [迁移 AnalyticDB MySQL 的数据至 OceanBase 数据库 MySQL 租户](https://help.aliyun.com/document_detail/2857847.html?spm=a2c4g.11186623.help-menu-26458.d_2_4_3_15.5c366dc51jOLZJ&scm=20140722.H_2857847._.OR_help-T_cn~zh-V_1)

### 从 StarRocks 数据库迁移

#### 场景 1：数据一致性同步

RDS（Relational Database Service） 与 StarRocks 的数据完全一致，仅用途不同（RDS 用于 OLTP，StarRocks 用于 OLAP 分析）。

- **迁移方案**：参考[异构数据迁移](200.heterogeneous-data-migration.md)。

#### 场景 2：数据差异化同步

StarRocks 的数据与 RDS **不完全一致**，例如：
    - StarRocks 存储更长时间的历史数据。
    - StarRocks 的数据经过 Flink 等工具加工（如聚合、ETL、新增计算字段）。

StarRocks 作为高性能分析型数据库，推荐使用 Flink-OMT 工具进行迁移：

- **迁移方案**：参考[使用 Flink-OMT 迁移 StarRocks 数据](../../500.data-migration/650.migrate-data-from-starrocks-database-to-oceanbase-database/100.use-flink-omt.md)。
