# 导出数据

数据流动是面向分析的业务场景中最关键的环节之一。本文介绍如何将 OceanBase 数据库的数据导出到中文件系统或对象存储中。针对不同的数据来源，本文提供以下各种数据导出方案。

## obdumper

obdumper 是一款用 Java 开发，专为 OceanBase 数据库设计的客户端工具，可将数据库对象和表数据导出到至本地文件系统、HDFS、对象存储（Aliyun/Amazon/Tencent/Huawei/Azure/GCS)。您可以使用 obdumper 命令将数据导出为 CSV、SQL、Apache ORC 和 Apache Parquet 等格式的文件。

**基本特性：**

obdumper 特性如下：

- 支持指定分区名，仅导出指定的表分区内的数据。
- 支持指定全局的过滤条件，仅导出满足条件的数据。
- 支持指定自定义的查询语句，仅导出该查询语句的结果集。
- 支持指定 SCN 或者 TIMESTAMP，仅导出有效事务点或者时间点的历史快照数据。

**适用场景：**

* 适用于需要高效导出大规模数据的场景，比如计算型集群、分析型集群的备份等。也适用于对数据进行预处理，例如脱敏或加密。

**使用参考：**

* 更多信息，参考 [什么是 obdumper](https://www.oceanbase.com/docs/common-oceanbase-dumper-loader-1000000000775398)。

## OUTFILE

您可以使用 `SELECT INTO OUTFILE` 语句将查询结果导出到文件。`SELECT INTO OUTFILE` 语句能够对需要导出的字段做出限制，因此适用于某些不需要导出主键字段的场景。

**基本特性：**

- 可以选择输出为 TXT、SQL、CSV、固定长度文件、XML 和 JSON。
- 可以限制需要导出的字段，适用于排除主键字段等特定场景。

**适用场景：**

* 适用于小规模数据的导出，例如简单的备份和迁移。

**使用参考：**

* 更多信息，参考 [使用 OUTFILE 语句导出数据](../500.data-migration/1000.use-sql-statements-migrate-data/300.use-outfile-statements-to-migrate-data.md)。


## DataX

**基本特性：**

- 高效传输
- 支持多种数据源
- 配置灵活

**适用场景：**

* DataX 适用于从几十 GB 到几 TB 甚至更大规模的数据迁移任务。

**使用参考：**

* 更多信息，参考 [DataX 文档](https://github.com/alibaba/DataX/blob/master/README.md)。

## 导出方案选择

| **对比项** | **obdumper** | **OUTFILE** | **DataX** |
| --- | --- | --- | --- |
| 场景推荐 | 数据逻辑备份数据处理数据高压缩 | 简单数据导出 | 提供强大的数据源支持。数据源可以是运行中的数据库，消息队列等。可用于数据库离线迁移。 |
| 数据源 | 静态文件 | 静态文件 | 结构化和非结构化数据源 |
| 格式 | 文本格式：CSV（RFC-4180），INSERT SQL，Delimited Text, Fixed Length。   二进制格式：Apache ORC，Apaceh Parquet，Apache Avro。 | 文本文件 | 各关系型数据库，文本，Hbase，Kafka 等。 |
| 性能 | 高 | 一般 | 高 |
| 是否支持压缩 | 是 | 否 | 否 |
| 是否支持带条件导出 | 是 | 否 | 是 |
| DDL | 是 | 否 | 否 |
| 数据预处理 | 是 | 是 | 否 |
| 实时监控 | 是 | 否 | 是 |
| 文件编码 | 可指定，只要系统支持的都可以 | 系统默认编码 | UTF-8 |
