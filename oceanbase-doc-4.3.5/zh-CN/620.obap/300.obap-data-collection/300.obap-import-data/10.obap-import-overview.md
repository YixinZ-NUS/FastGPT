# 导入数据概述

本文介绍如何将外部数据导入到 OceanBase 数据库中。

OceanBase 数据库提供多种灵活的数据入库方式，可以将多种数据源的数据导入到数据库中。不同的导入方式适用于不同的场景，可以根据数据源类型、业务场景，选择合适的导数工具进行数据入库，随着场景的复杂多变，多种导入方式可以配合使用。在数据入库时，除了考虑数据源、数据文件格式也会考虑导数工具的支持情况。当业务场景已经明确数据源、数据文件格式时，需要从数据源出发，并结合导数工具来考虑导数方案的设计；当业务有熟练使用的导数工具时，需要考虑工具的支持情况，结合业务场景考虑导数的可能性。这里主要从数据源类型和工具两个视角来看 OceanBase 数据入库方案。

OceanBase 数据库导数方案架构如下所示：

![obap-import-structure](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer/ap/obap-import-structure.png)

## 从数据源类型考虑导入方案

本节介绍常见数据源支持的导入方案，旨在帮助您结合实际场景快速选择合适的导入方案。

| 数据源类型 | 导入方案 | 更多阅读 |
| --- | --- | --- |
| <ul><li>本地文件<br/>    - NFS<br/>    - NAS<br/>    - 分布式文件系统 HDFS</ul></li><ul><li>对象存储 <br/>    - Alibaba Cloud OSS<br/>    - Amazon S3<br/>    - Google Cloud GCS<br/>    - Huawei Cloud OBS<br/>    - Tencent Cloud COS  | <ul><li> 如果导入的是 CSV、ORC、Parquet类型的文件，您可以使用 load data和obloader来将数据导入到数据库中。</ul></li><ul><li> 如果不想将数据导入数据库，可以通过外表访问数据。</ul></li><ul><li>如果是从 HDFS 文件系统中导入数据，使用 obloader 导入或使用外表导入数据。</ul></li><ul><li> 如果导入的源数据文件是压缩文件，可以选择load data或者使用外表访问数据。</ul></li><ul><li>如果是 SQL 文件，您可以使用 LOAD DATA INFILE和obloader。 | <ul><li>关于 obloader 的详细介绍，参见 [obloader 使用文档](https://www.oceanbase.com/docs/oceanbase-dumper-loader)。</ul></li><ul><li>关于 LOAD DATA 的操作指导，参见 [LOAD DATA（Oracle 模式）](../../../700.reference/500.sql-reference/100.sql-syntax/300.common-tenant-of-oracle-mode/900.sql-statement-of-oracle-mode/300.dcl-of-oracle-mode/1900.load-data-of-oracle-mode.md)和 [LOAD DATA（MySQL 模式）](../../../700.reference/500.sql-reference/100.sql-syntax/200.common-tenant-of-mysql-mode/600.sql-statement-of-mysql-mode/5900.load-data-of-mysql-mode.md)。</ul></li><ul><li>关于外表的使用指导，参见 [外表（Oracle 模式）](../../../700.reference/300.database-object-management/200.manage-object-of-oracle-mode/100.manage-tables-of-oracle-mode/1000.manage-external-tables-of-oracle-mode/100.about-external-tables-of-oracle-mode.md)和 [外表（MySQL 模式）](../../../700.reference/300.database-object-management/100.manage-object-of-mysql-mode/200.manage-tables-of-mysql-mode/1000.manage-external-tables-of-mysql-mode/100.about-external-tables-of-mysql-mode.md)。</ul></li> |
| 数据库：<ul><li>MaxCompute</ul></li><ul><li>StarRocks</ul></li><ul><li>Doris</ul></li><ul><li>HBase</ul></li><ul><li>Hologres</ul></li><ul><li>MySQL</ul></li><ul><li>Oracle</ul></li><ul><li>SQLServer</ul></li><ul><li>PostgreSQL </ul></li><ul><li>MongoDB </ul></li> | 可供选择的工具有这几种，具体工具支持情况，参见各工具官网。<ul><li>OMS</ul></li><ul><li>Flink</ul></li><ul><li>Canal</ul></li><ul><li>datax</ul></li><ul><li>CloudCanal </ul></li> | <ul><li>关于 OMS 的详细介绍，参见 [OMS 使用文档](https://www.oceanbase.com/docs/oms-doc-cn)。</ul></li><ul><li>关于 Flink 的更多内容，参见 [使用 Flink CDC 从 MySQL 数据库同步数据到 OceanBase 数据库](../../../500.data-migration/200.migrate-data-from-mysql-database-to-oceanbase-database/600.use-flink-cdc-to-migrate-data-from-mysql-database-to-oceanbase-database.md)。</ul></li><ul><li>关于 Canal 的更多内容，参见 [使用 Canal 从 MySQL 数据库同步数据到 OceanBase 数据库](../../../500.data-migration/200.migrate-data-from-mysql-database-to-oceanbase-database/500.use-canal-to-migrate-data-from-mysql-database-to-oceanbase-database.md)。</ul></li><ul><li>关于 CloudCanal 的更多内容，参见 [使用 CloudCanal 从 MySQL 数据库迁移数据到 OceanBase 数据库](../../../500.data-migration/200.migrate-data-from-mysql-database-to-oceanbase-database/400.use-cloudcanal-to-migrate-data-from-mysql-database-to-oceanbase-database.md)。</ul></li> |
| Spark |  OceanBase Spark Connector | 关于 Spark 的更多内容，参见 [OceanBase Spark Connector](https://github.com/oceanbase/spark-connector-oceanbase)。 |


## 从导数工具考虑导入方案

本节介绍常见导数工具以及支持的导入方案，旨在帮助您结合实际场景快速选择合适的导入方案。

| 工具名称 | 适用场景 | 支持的数据源 | 更多阅读 |
| --- | --- | --- | --- |
| LOAD DATA 语法 | 适用于大规模数据导入。 | 支持位于以下位置的 CSV/ORC/Apache Parquet/压缩文件<ul><li>对象存储</ul></li><ul><li>HDFS</ul></li><ul><li>服务器端（OBServer 节点</ul></li><ul><li>客户端（本地） | 关于 LOAD DATA 的操作指导，参见 [LOAD DATA（Oracle 模式）](../../../700.reference/500.sql-reference/100.sql-syntax/300.common-tenant-of-oracle-mode/900.sql-statement-of-oracle-mode/300.dcl-of-oracle-mode/1900.load-data-of-oracle-mode.md)和 [LOAD DATA（MySQL 模式）](../../../700.reference/500.sql-reference/100.sql-syntax/200.common-tenant-of-mysql-mode/600.sql-statement-of-mysql-mode/5900.load-data-of-mysql-mode.md)。</ul></li> |
| obloader |  适用于较大规模数据导入。 | 支持位于以下位置的 CSV/Apache Parquet/Apache ORC/SQL文件<ul><li>本地磁盘</ul></li><ul><li>对象存储</ul></li><ul><li>HDFS</ul></li> | 关于 obloader 的详细介绍，参见 [obloader 使用文档](https://www.oceanbase.com/docs/oceanbase-dumper-loader)。 |
| 外表 | 适用于日志分析、历史数据分析、多源数据集成、数据湖分析、湖仓加速等场景。 | 支持位于以下位置的 CSV/ORC/Apache Parquet/压缩文件<ul><li>对象存储</ul></li><ul><li>HDFS</ul></li><ul><li>服务器端（OBServer 节点</ul></li><ul><li>客户端（本地） | 关于外表的使用指导，参见 [外表（Oracle 模式）](../../../700.reference/300.database-object-management/200.manage-object-of-oracle-mode/100.manage-tables-of-oracle-mode/1000.manage-external-tables-of-oracle-mode/100.about-external-tables-of-oracle-mode.md)和 [外表（MySQL 模式）](../../../700.reference/300.database-object-management/100.manage-object-of-mysql-mode/200.manage-tables-of-mysql-mode/1000.manage-external-tables-of-mysql-mode/100.about-external-tables-of-mysql-mode.md)。 |
| INSERT SQL  | <ul><li>INSERT INTO VALUES 适合向内部表写入少量数据。</ul></li><ul><li>INSERT INTO SELECT FROM  适合向目标表写入内表或外表的查询结果。</ul></li>|显示指定的数据、内部表或外部表<ul><li>内部表</ul></li><ul><li>外部表</ul></li> | 关于 INSERT SQL 的使用指导，参见 [INSERT（Oracle 模式）](../../../700.reference/500.sql-reference/100.sql-syntax/300.common-tenant-of-oracle-mode/900.sql-statement-of-oracle-mode/200.dml-of-oracle-mode/200.insert-of-oracle-mode.md) 和 [INSERT（MySQL 模式）](../../../700.reference/500.sql-reference/100.sql-syntax/200.common-tenant-of-mysql-mode/600.sql-statement-of-mysql-mode/5700.insert-sql-of-mysql-mode.md)。 |
| Flink | 适用于从 Flink 实时导入数据。<ul><li>[Flink JDBC SQL Connector](https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/table/jdbc/)</ul></li><ul><li>[Flink OceanBase Connector](https://nightlies.apache.org/flink/flink-cdc-docs-release-3.0/docs/connectors/flink-sources/oceanbase-cdc/) | 参见 Flink 官网 | 更多内容，参见 [使用 Flink CDC 从 MySQL 数据库同步数据到 OceanBase 数据库](../../../500.data-migration/200.migrate-data-from-mysql-database-to-oceanbase-database/600.use-flink-cdc-to-migrate-data-from-mysql-database-to-oceanbase-database.md)。 |
| Canal  | 适用于从 Canal 实时导入数据。 | 参见 Canal 官网 | 更多内容，参见 [使用 Canal 从 MySQL 数据库同步数据到 OceanBase 数据库](../../../500.data-migration/200.migrate-data-from-mysql-database-to-oceanbase-database/500.use-canal-to-migrate-data-from-mysql-database-to-oceanbase-database.md)。 |
| OMS  | 适用于大规模数据库到数据库的迁移和同步。 | <ul><li>OceanBase</ul></li><ul><li>MySQL</ul></li><ul><li>Oracle</ul></li><ul><li>DB2 LUW</ul></li><ul><li>TiDB</ul></li><ul><li>PostgreSQL</ul></li><ul><li>PolarDB-X 1.0 等数据库</ul></li> |  关于 OMS 的详细介绍，参见 [OMS 使用文档](https://www.oceanbase.com/docs/oms-doc-cn)。 |
| DataX  | 适用于从在 MySQL、Oracle 等关系型数据库、HDFS、及 Hive 等各种数据源之间同步数据。DataX 不限制数据量，单表逐个迁移即可。迁移速度可达 60MB/S。 | 参见 DataX 官网 | 更多内容，参见 [使用 DataX 迁移 MySQL 表数据到 OceanBase 数据库](../../../500.data-migration/200.migrate-data-from-mysql-database-to-oceanbase-database/300.use-datax-to-migrate-data-from-mysql-database-to-oceanbase-database.md) |
| CloudCanal | 适用于从 MySQL、Oracle 和 PostgreSQL 等数据库向 OceanBase 数据库迁移或同步数据。 | 参见 CloudCanal 官网 | 更多内容，参见 [使用 CloudCanal 从 MySQL 数据库迁移数据到 OceanBase 数据库](../../../500.data-migration/200.migrate-data-from-mysql-database-to-oceanbase-database/400.use-cloudcanal-to-migrate-data-from-mysql-database-to-oceanbase-database.md) |
