|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|

# Modify the attributes of a materialized view

This topic describes how to execute an SQL statement to modify the attributes of a materialized view.

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>In OceanBase Database V4.3.5, the feature to modify the attributes of materialized views is supported starting from V4.3.5 BP1. </p>
</main>

## Privileges

To modify a materialized view, the current user must have the `ALTER` privilege on the target object. For more information about privileges in OceanBase Database, see [Privilege types in MySQL mode](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/100.permission-classification-of-mysql.md).

## Syntax

The SQL syntax for modifying a materialized view is as follows:

```sql
ALTER MATERIALIZED VIEW [database.]view_name alter_mview_action_list;

alter_mview_action_list:
    alter_mview_action [, alter_mview_action ...]

alter_mview_action:
    parallel_clause
    | REFRESH [nested_refresh_option] [[START WITH expr] [NEXT expr]]

parallel_clause:
    NOPARALLEL
    | PARALLEL integer

nested_refresh_option:
    INDIVIDUAL
    | INCONSISTENT
    | CONSISTENT
```

## Parameters

* `database.`: optional. The database where the materialized view to be modified resides. If you omit `database.`, the default database of the current session is used.
* `view_name`: the name of the materialized view to be modified.

  <main id="notice" type='explain'>
    <h4>Note</h4>
    <p>For OceanBase Database V4.3.5, the <code>RENAME TABLE</code> statement can be used to rename materialized views starting from V4.3.5 BP3. </p>
  </main>

* `alter_mview_action_list`: the list of actions that can be performed on the materialized view. Multiple actions can be specified at once, separated by commas (`,`).

For more information about the parameters, see [ALTER MATERIALIZED VIEW](../../../../500.sql-reference/100.sql-syntax/200.common-tenant-of-mysql-mode/600.sql-statement-of-mysql-mode/1250.alter-materialized-view-of-mysql-mode-in-sql.md).

## Examples

1. Create a table named `test_tbl1`.

    ```sql
    CREATE TABLE test_tbl1 (col1 INT PRIMARY KEY, col2 VARCHAR(20), col3 INT, col4 TEXT);
    ```

2. Create a materialized view named `mv_test_tbl1`.

    ```sql
    CREATE MATERIALIZED VIEW mv_test_tbl1(c1, c2, c3, PRIMARY KEY(c1))
        AS SELECT col1, col2, col3
           FROM test_tbl1;
    ```

3. Set the degree of parallelism of the `mv_test_tbl1` materialized view to 5.

    ```sql
    ALTER MATERIALIZED VIEW mv_test_tbl1 PARALLEL 5;
    ```

4. Modify the refresh schedule of the materialized view `mv_test_tbl1` to set the initial refresh time to the current date, and then refresh the materialized view every day thereafter.

    ```sql
    ALTER MATERIALIZED VIEW mv_test_tbl1
        REFRESH START WITH sysdate() NEXT sysdate() + interval 1 DAY;
    ```

5. Create a nested materialized view named `mv_mv_test_tbl1` based on the materialized view `mv_test_tbl1`, with the `INDIVIDUAL` refresh strategy.

    ```sql
    CREATE MATERIALIZED VIEW mv_mv_test_tbl1
        REFRESH COMPLETE INDIVIDUAL
        AS SELECT c1, c2
           FROM mv_test_tbl1;
    ```

6. Change the refresh strategy of the nested materialized view `mv_mv_test_tbl1` to `INCONSISTENT`.

    ```sql
    ALTER MATERIALIZED VIEW mv_mv_test_tbl1
        REFRESH INCONSISTENT;
    ```

## References

* [Overview of materialized views](100.materialized-views-overview-of-mysql-mode.md)
* [Materialized view logs](200.materialized-views-log-of-mysql-mode.md)
* [Create materialized views](300.create-materialized-views-of-mysql-mode.md)
* [Refresh materialized views](400.refresh-materialized-views-of-mysql-mode.md)
* [Query rewriting with materialized views](500.materialized-views-rewrite-of-mysql-mode.md)
* [Query materialized views](600.view-materialized-views-of-mysql-mode.md)
* [Drop materialized views](700.delete-materialized-views-of-mysql-mode.md)
