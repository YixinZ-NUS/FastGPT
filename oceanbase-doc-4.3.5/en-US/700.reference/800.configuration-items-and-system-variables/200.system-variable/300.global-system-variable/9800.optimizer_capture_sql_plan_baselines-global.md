|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# optimizer_capture_sql_plan_baselines

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This variable is avaiable starting with V2.1.</p>
</main>

## Description

`optimizer_capture_sql_plan_baselines` specifies whether to automatically capture new plans to the plan baseline.

## Privilege requirements

* Query variables

  * Global level

    `sys` tenants and all user tenants can execute the `SHOW VARIABLES` statement or query the `SYS.TENANT_VIRTUAL_GLOBAL_VARIABLE` view (Oracle mode) or the `information_schema.GLOBAL_VARIABLES` view (MySQL mode) to obtain the values of global system variables.

  * Session level

    `sys` tenants and all user tenants can execute the `SHOW VARIABLES` statement or query the `SYS.TENANT_VIRTUAL_SESSION_VARIABLE` view (Oracle mode) or the `information_schema.SESSION_VARIABLES` view (MySQL mode) to obtain the values of session system variables.

* Modify variables

  * Global level

    * `sys` tenants can directly modify the values of global system variables.

    * MySQL user tenants must have the `SUPER` or `ALTER SYSTEM` privilege to modify the values of global system variables.

    * Oracle user tenants must have the `ALTER SYSTEM` privilege to modify the values of global system variables.

  * Session level

    `sys` tenants and all user tenants can directly modify the values of session system variables.

## Attributes

| **Attribute**  |    **Description**  |
|-----------|---------------|
| Type    | Boolean        |
| Default value      | 0           |
| Value range    | <ul><li> 0: Do not automatically capture new plans to the plan baseline. </li><li>1: For a new plan, if there is no corresponding plan baseline, the plan is added to the SQL plan baseline. If there is an existing plan baseline that differs from the new plan, plan evolution is triggered to verify whether the new plan should replace the existing plan baseline. </li></ul>   |
| Scope    | <ul><li>Global</li><li>Session</li></ul>  |
| Modifiable  | Yes. You can execute the `SET` statement to modify the value.|

## Examples

Control whether to automatically capture new plans to the plan baseline.

* Global level

  ```shell
  obclient> SET GLOBAL optimizer_capture_sql_plan_baselines=0;
  ```

* Session level

  ```shell
  obclient> SET optimizer_capture_sql_plan_baselines=0;
  ```
