|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# query_rewrite_enabled

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This variable was introduced in V4.3.1. </p>
</main>

## Description

The `query_rewrite_enabled` variable specifies whether to enable materialized view-based query rewriting.

## Privilege requirements

* Query variables

  * Global level

    Users of the `sys` tenant and all user tenants can execute the `SHOW VARIABLES` statement or view the `SYS.TENANT_VIRTUAL_GLOBAL_VARIABLE` view (Oracle mode) or the `information_schema.GLOBAL_VARIABLES` view (MySQL mode) to query the values of global system variables.

  * Session level

    Users of the `sys` tenant and all user tenants can execute the `SHOW VARIABLES` statement or view the `SYS.TENANT_VIRTUAL_SESSION_VARIABLE` view (Oracle mode) or the `information_schema.SESSION_VARIABLES` view (MySQL mode) to query the values of session system variables.

* Modify variables

  * Set the variable at the global level

    * Users of the `sys` tenant can directly modify the values of global system variables.

    * MySQL users of user tenants need the `SUPER` or `ALTER SYSTEM` privilege to modify the values of global system variables.

    * For V4.x, Oracle users of user tenants need the `ALTER SYSTEM` privilege to modify the values of global system variables starting from V4.2.0.

  * Set the variable at the session level

    Users of the `sys` tenant and all user tenants can directly modify the values of session system variables in their own tenants.

## Attributes

| **Attribute** |  **Description**    |
|----------|--------------|
| Type   |  enum                    |
| Default value     |  false                  |
| Value range   |  [true, force, false] <ul><li>true: Enable materialized view-based query rewriting.</li><li>force: Enable query rewriting and skip rule and cost check. The system will use the matching materialized view.</li><li>false: Disable materialized view-based query rewriting.</li></ul>       |
| Effective scope   | <ul><li>GLOBAL</li><li>SESSION</li></ul>    |
| Modifiable  | Yes. You can modify this variable by using the `SET` statement.|

## Examples

The following examples show how to enable materialized view-based query rewriting.

* Set the variable at the session level

  ```shell
  obclient> SET  query_rewrite_enabled= true;
  ```

* Set the variable at the global level

  ```shell
  obclient> SET GLOBAL  query_rewrite_enabled= true;
  ```

## References

* [query_rewrite_integrity](11060.query_rewrite_integrity-global.md)
* [Overview of materialized views](../../../300.database-object-management/200.manage-object-of-oracle-mode/500.manage-views-of-oracle-mode/200.manage-materialized-views-of-oracle-mode/100.materialized-views-overview-of-oracle-mode.md)