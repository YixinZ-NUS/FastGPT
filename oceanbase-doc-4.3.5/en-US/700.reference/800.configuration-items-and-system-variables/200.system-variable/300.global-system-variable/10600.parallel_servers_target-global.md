|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# parallel_servers_target

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This variable was introduced in V2.1. </p>
</main>

## Description

The `parallel_servers_target` variable specifies the number of threads consumed by parallel execution (PX) statements on each server before PX statements need to wait in the queue.

## Privilege requirements

* Query variables

  Users in the `sys` tenant and all user tenants can execute the `SHOW VARIABLES` statement or the `SYS.TENANT_VIRTUAL_GLOBAL_VARIABLE` view (in Oracle mode) and the `information_schema.GLOBAL_VARIABLES` view (in MySQL mode) to query the values of global system variables.

* Modify variables

  * Users in the `sys` tenant can directly modify the values of global system variables.

  * MySQL users in a user tenant must have the `SUPER` or `ALTER SYSTEM` privilege to modify the values of global system variables.

  * For V4.x, users in an Oracle user tenant must have the `ALTER SYSTEM` privilege to modify the values of global system variables starting from V4.2.0.

## Attributes

| **Attribute** |           **Description**           |
|--------|----------------------------|
| Type   | Int                        |
| Default value    | 0, which has no special meaning. This value is automatically set when a tenant is created.  |
| Value range   | \[0, 9223372036854775807\] |
| Applicability   | GLOBAL                     |
| Modifiable  | Yes. You can modify this variable by using the `SET` statement.|

## Considerations

The `parallel_servers_target` variable is a tenant-level variable. When you create a tenant, perform the following steps:

1. If the `parallel_servers_target` value is specified in the tenant creation statement, the `parallel_servers_target` value of the tenant is set to the specified value.

   The following statement creates a tenant and specifies the `parallel_servers_target` value:

   ```shell
   obclient> CREATE TENANT IF NOT EXISTS <tenant_name> CHARSET='utf8mb4', ZONE_LIST=('zone1'), PRIMARY_ZONE='zone1', RESOURCE_POOL_LIST=('<pool_name>') set parallel_servers_target = 624;
   ```

2. If the `parallel_servers_target` value is not specified in the tenant creation statement, the value of `min_cpu` is used to automatically calculate a value for the `parallel_servers_target` variable when the tenant is created.

   You can execute the following statement to query the value of `parallel_servers_target` in the tenant:

   ```shell
   obclient> show variables like 'parallel_servers_target';
   ```

   The `parallel_servers_target` value automatically calculated by the system is usually small and can meet only simple parallel query requirements. If you want to perform parallel operations in the tenant, we recommend that you manually set the value of `parallel_servers_target` to a larger value. The recommended algorithm is `parallel_servers_target = max_cpu * 10`.

## Examples

Set the number of threads consumed by parallel queries on each server to 624.

```shell
obclient> SET GLOBAL parallel_servers_target = 624;
```

## References

[Optimize parameters for parallel queries](../../../../700.reference/1000.performance-tuning-guide/500.sql-optimization/300.distributed-execution-plan/900.optimize-the-parameters-for-parallel-query.md)