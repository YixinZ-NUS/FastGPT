|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# mview_refresh_dop

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>For OceanBase Database V4.3.5, this variable was introduced in V4.3.5 BP1. </p>
</main>

## Purpose

The `mview_refresh_dop` variable specifies the default DOP for refreshing materialized views.

## Privileges

* Query variables

  * Global level

    Both the `sys` tenant and all user tenants can use the `SHOW VARIABLES` statement or the `information_schema.GLOBAL_VARIABLES` view (in MySQL mode) to view the values of global system variables.

  * Session level

    Both the `sys` tenant and all user tenants can use the `SHOW VARIABLES` statement or the `information_schema.SESSION_VARIABLES` view (in MySQL mode) to view the values of session system variables.

* Modify variables

  * Global level

    * The `sys` tenant can directly modify the values of global system variables.

    * MySQL-compatible tenants need the `SUPER` or `ALTER SYSTEM` privilege to modify the values of global system variables.

  * Session level

    The `sys` tenant and all user tenants can directly modify the values of session system variables in their respective tenants.

## Attributes

| **Attribute**  | **Description** |
|-----------|----------|
| Parameter type   | Int |
| Default value   | 4 |
| Value range   | [0, uint64_max] |
| Effective scope   | <ul><li>Global</li><li>Session</li></ul>|
| Effective mode   | Immediately |
| Modifiable   | Yes. It can be modified by using the `SET` statement. |

## Settings

1. Session level

    Set `mview_refresh_dop` within the current session to control the default refresh parallelism for materialized views in that session. Any manual refresh of materialized views initiated in this session will use this value if parallelism is not explicitly specified.

2. Global level

    Set the `mview_refresh_dop` globally to affect all sessions, including both manual and automatic refreshes of materialized views. Any refresh initiated across sessions will use this value if parallelism is not explicitly specified.

3. If you set the `mview_refresh_dop` variable to 0 or 1, parallel refreshes are disabled.

## Examples

* Set the default refresh parallelism for the current session.

  ```shell
  obclient> SET mview_refresh_dop = 5;
  ```

* Set the global default refresh parallelism.

  ```shell
  obclient> SET GLOBAL mview_refresh_dop = 5;
  ```

## References

* [Refresh materialized views (MySQL mode)](../../../300.database-object-management/100.manage-object-of-mysql-mode/600.manage-views-of-mysql-mode/200.manage-materialized-views-of-mysql-mode/400.refresh-materialized-views-of-mysql-mode.md)
* [Refresh materialized views (Oracle mode)](../../../300.database-object-management/200.manage-object-of-oracle-mode/500.manage-views-of-oracle-mode/200.manage-materialized-views-of-oracle-mode/400.refresh-materialized-views-of-oracle-mode.md)
