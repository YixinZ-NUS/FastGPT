|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type| MySQL Mode|
|machine-translation||

# enable_sql_plan_monitor

<main id="notice" type='explain'>
  <h4>Note</h4>
  <ul><li>In V4.3.x, this variable was introduced in V4.3.3 BP1. </li><li>In V4.2.x, this variable was introduced in V4.2.4. </li></ul>
</main>

## Description

The `enable_sql_plan_monitor` variable specifies whether to record the SQL statements of the current session in the SQL plan monitor.

## Required privileges

* Query variables

  Users in the `sys` tenant and all user tenants can execute the `SHOW VARIABLES` statement or view the `SYS.TENANT_VIRTUAL_SESSION_VARIABLE` view (Oracle mode) or the `information_schema.SESSION_VARIABLES` view (MySQL mode) to query the value of the session system variable.

* Modify variables

  Users in the `sys` tenant and all user tenants can directly modify the value of a session system variable in their own tenants.

## Attributes

| **Attribute**  |    **Description**  |
|-----------|---------------|
| Type    |  Bool                |
| Default value      |  False |
| Valid values    |  <ul><li>False: The SQL statements of the current session are recorded in the SQL plan monitor only if one of the following conditions is met:<ul><li>A specific hint is used to indicate to enable monitoring. </li><li>The execution time of the SQL statement exceeds the preset threshold. </li><li>The SQL statement is executed in parallel with a degree of parallelism greater than 1. </li></ul> </li><li>Ture: All SQL statements executed in the current session are automatically recorded in the SQL plan monitor. </li></ul>              |
| Applicability    |  Session |
| Affects plans?    |  Yes   |
| Modifiable?  |  Yes, you can modify it by using the `SET` statement. |

## Examples

The SQL statements of the current session are recorded in the SQL plan monitor.

```shell
obclient> SET  enable_sql_plan_monitor =Ture;
```