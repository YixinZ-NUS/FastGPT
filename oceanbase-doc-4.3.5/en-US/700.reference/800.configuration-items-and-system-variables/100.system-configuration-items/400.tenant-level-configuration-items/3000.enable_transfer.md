|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# enable_transfer

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This parameter is available starting with V4.2.1.</p>
</main>

## Description

`enable_transfer` specifies whether to allow Transfer operations within a tenant.

## Privilege requirements

* Query the parameter

  The `sys` tenant and all user tenants can use the `SHOW PARAMETERS` statement or the `GV$OB_PARAMETERS` view to query this parameter.

* Modify the parameter

  The `sys` tenant and user tenants can modify this parameter.

## Attributes

| **Attribute** | **Description** |
| --- | --- |
| Parameter type | Bool |
| Default value | True |
| Value range |<ul><li> True: enabled </li><li>False: disabled </li></ul>|
| Modifiable | Yes. You can use the `ALTER SYSTEM SET` statement to modify the parameter. |
| Effective upon OBServer node restart | No. The setting takes effect immediately.  |

## Considerations

The load balancing strategy within a tenant is jointly controlled by the `enable_rebalance` and `enable_transfer` parameters.

The `enable_rebalance` parameter controls whether to perform load balancing between tenants in the `sys` tenant and whether to perform load balancing within a tenant in a user tenant. The default value is `true`. After you set the parameter, you do not need to restart the OBServer node. The setting takes effect immediately.

The `enable_transfer` parameter specifies whether to enable the Transfer feature within a tenant. The default value is `true`. After you set the parameter, you do not need to restart the OBServer node. The setting takes effect immediately. The meaning of the `enable_transfer` parameter depends on the value of the `enable_rebalance` parameter:

* If the value of the `enable_rebalance` parameter is `false`, automatic load balancing is not performed regardless of the value of the `enable_transfer` parameter. The following commands disable all load balancing:

  ```shell
  obclient> ALTER SYSTEM SET enable_rebalance=false;
  ```

* If the value of the `enable_rebalance` parameter is `true` and the value of the `enable_transfer` parameter is `true`, automatic load balancing is performed during tenant scaling. The system automatically adjusts the distribution of partitions and dynamically adjusts the number of log streams based on the load balancing algorithm to achieve leader and partition balancing within the tenant. The following commands perform leader and partition balancing within the tenant:

  ```shell
  obclient> ALTER SYSTEM SET enable_rebalance=true;
  obclient> ALTER SYSTEM SET enable_transfer=true;
  ```

* If the value of the `enable_rebalance` parameter is `true` and the value of the `enable_transfer` parameter is `false`, automatic load balancing is not performed during tenant scaling. The system can only perform limited load balancing by migrating log streams. The following commands perform log stream balancing without initiating Transfer operations or changing the number of log streams:

  ```shell
  obclient> ALTER SYSTEM SET enable_rebalance=true;
  obclient> ALTER SYSTEM SET enable_transfer=false;
  ```

## Examples

* Set the load balancing strategy for a specified tenant in the `sys` tenant.

  * Enable tenant-level load balancing and Transfer within the specified tenant in the `sys` tenant.

    ```shell
    obclient> ALTER SYSTEM SET enable_rebalance = true TENANT = 'tenant_name';
    ```

    ```shell
    obclient> ALTER SYSTEM SET enable_transfer = true TENANT = 'tenant_name';
    ```

    The preceding statements set the `enable_rebalance` and `enable_transfer` parameters to `true` for the specified tenant.

  * Enable tenant-level load balancing and Transfer within all user tenants (excluding the `sys` tenant and the Meta tenant) in the `sys` tenant.

    ```shell
    obclient> ALTER SYSTEM SET enable_rebalance = true TENANT = all_user;
    ```

    ```shell
    obclient> ALTER SYSTEM SET enable_transfer = true TENANT = all_user;
    ```

    or

    ```shell
    obclient> ALTER SYSTEM SET enable_rebalance = true TENANT = all;
    ```

    ```shell
    obclient> ALTER SYSTEM SET enable_transfer = true TENANT = all;
    ```

    The preceding statements set the `enable_rebalance` and `enable_transfer` parameters to `true` for all user tenants.

    <main id="notice" type='explain'>
    <h4>Note</h4>
    <p>Starting from V4.2.1 of OceanBase Database, the <code>TENANT = all_user</code> and <code>TENANT = all</code> clauses have the same semantics. When you want to set the parameter for all user tenants, we recommend that you use the <code>TENANT = all_user</code> clause. The <code>TENANT = all</code> clause will be deprecated in the future.</p>
    </main>

* Set the load balancing strategy for the current tenant.

  :::tab
  tab MySQL mode

    The following statements enable tenant-level load balancing and Transfer within the current MySQL tenant:

  ```shell
  obclient> ALTER SYSTEM SET enable_rebalance = true;
  ```

  ```shell
  obclient> ALTER SYSTEM SET enable_transfer = true;
  ```

  tab Oracle mode

    The following statements enable tenant-level load balancing and Transfer within the current Oracle tenant:

  ```shell
  obclient> ALTER SYSTEM SET enable_rebalance = 'true';
  ```

  ```shell
  obclient> ALTER SYSTEM SET enable_transfer = 'true';
  ```

  :::

## References

* [Scale in or out a tenant by adjusting the number of units](../../../../600.manage/200.tenant-management/600.common-tenant-operations/800.tenant-scale-in-and-out/300.adjust-unit-number.md)
* [Scale in or out a tenant by adjusting the primary zone](../../../../600.manage/200.tenant-management/600.common-tenant-operations/800.tenant-scale-in-and-out/400.adjust-primary-zone.md)
* [enable_rebalance](2800.enable_rebalance.md)