|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# ob_encoding_granularity

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This parameter was introduced in OceanBase Database V4.3.3. </p>
</main>

## Description

The `ob_encoding_granularity` parameter specifies the maximum number of rows per microblock for encoding.

## Privilege requirements

* Query the parameter

  Both the `sys` tenant and all user tenants can execute the `SHOW PARAMETERS` statement or query the `GV$OB_PARAMETERS` view to retrieve the value of this parameter.

* Modify the parameter

  Both the `sys` tenant and user tenants can modify this parameter.

## Attributes

| **Attribute**  |    **Description**  |
|-----------|---------------|
| Type    |    Int              |
| Default value      |  65536  |
| Value range    |  [8192, 1048576]              |
| Modifiable | Yes. You can modify this parameter by using the `ALTER SYSTEM SET` statement.|
| Effective upon OBServer node restart| No. The setting takes effect immediately. |

## Considerations

When there are only a few updates in AP business scenarios, if the number of rows in a microblock is too large, it is difficult to use skip index acceleration for filtering or to reuse microblocks during major compaction, which results in poor major compaction performance. In this case, you can decrease the value of this parameter to improve performance.

## Example

Set the maximum number of rows per microblock for encoding to 8192.

```shell
obclient> ALTER SYSTEM SET ob_encoding_granularity=8192;
```

## References (Optional)

[Compression and encoding](../../../../700.reference/100.oceanbase-database-concepts/900.storage-architecture/200.data-storage/400.compression-and-encoding.md)
