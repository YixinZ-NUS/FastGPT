|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# ha_mid_thread_score

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This parameter is available starting with V4.0.0.</p>
</main>

## Description

`ha_mid_thread_score` specifies the number of current working threads for the mid-priority thread in high availability.

## Privilege requirements

* Query the parameter

  The `sys` tenant and all user tenants can query this parameter by using the `SHOW PARAMETERS` statement or the `GV$OB_PARAMETERS` view.

* Modify the parameter

  The `sys` tenant and user tenants can modify this parameter.

## Attributes

| **Attribute** | **Description** |
| --- | --- |
| Type | Int |
| Default value | 0, which indicates that the default number of working threads is 4 |
| Value range | [0, 100] |
| Modifiable | Yes. You can use the `ALTER SYSTEM SET` statement to modify the parameter. |
| Effective upon OBServer node restart | No. The setting takes effect immediately.  |

## Considerations

In V4.x, tasks related to high availability (HA), such as migration replication and backup recovery, are scheduled and executed by the DagScheduler at the tenant level. Considering the limited thread resources of each tenant, instead of configuring parameters based on specific task types, three HA-related parameters are set based on task priority and importance. Each parameter corresponds to different task types:

* `ha_high_thread_score`: specifies the number of threads for the high-priority HA task queue, such as replication, rebuild, and recovery.
* `ha_mid_thread_score`: specifies the number of threads for the mid-priority HA task queue, such as migration.
* `ha_low_thread_score`: specifies the number of threads for the low-priority HA task queue, such as backup, backup of backup, and backup cleanup.

## Examples

Set the number of current working threads for the mid-priority thread in high availability to 10.

```shell
obclient> ALTER SYSTEM SET ha_mid_thread_score =10;
```

## References

* [ha_high_thread_score](3400.ha_high_thread_score.md)
* [ha_low_thread_score](3500.ha_low_thread_score.md)