|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# enable_mv_binlog_minimal_mode

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>For V4.3.5, this parameter is available starting with V4.3.5 BP5. </p>
</main>

## Description

`enable_mv_binlog_minimal_mode` specifies whether to enable the `binlog minimal` mode for incremental refreshes of materialized views.

## Privilege requirements

* Query the parameter

  The `sys` tenant and all user tenants can query the value of this parameter by using the `SHOW PARAMETERS` statement or the `GV$OB_PARAMETERS` view.

* Modify the parameter

  The `sys` tenant and user tenants can modify this parameter.

## Attributes

| **Attribute** | **Description** |
|----------|----------|
| Type  | Boolean |
| Default value    | False |
| Value range  | <ul><li>True: enables the `binlog minimal` mode for incremental refreshes of materialized views. </li><li>False: disables the `binlog minimal` mode for incremental refreshes of materialized views. </li></ul> |
| Modifiable | Yes. You can use the `ALTER SYSTEM SET` statement to modify the parameter. |
| Effective upon OBServer node restart | No. The setting takes effect immediately.  |

## Considerations

* The `enable_mv_binlog_minimal_mode` parameter affects only the DML operations of materialized views. It does not affect other DML operations.
* The `enable_mv_binlog_minimal_mode` parameter is independent of the [binlog_row_image](../../200.system-variable/300.global-system-variable/500.binlog_row_image-global.md) parameter. It specifies the behavior of materialized views only.

  * If you enable the `enable_mv_binlog_minimal_mode` parameter, the DML operations of materialized views use the `binlog minimal` mode, regardless of the value of the `binlog_row_image` parameter.

* Enabling the `enable_mv_binlog_minimal_mode` parameter improves the refresh performance of materialized views. However, it simplifies the contents of `CLOG`. If downstream data synchronization links (such as CDC + OMS) rely on the complete `CLOG` of materialized views for migration and synchronization, enabling this parameter may cause exceptions in the synchronization links. Therefore, we recommend that you do not enable this parameter if downstream data synchronization links require the complete `CLOG` of materialized views.

## Examples

1. Enable the `binlog minimal` mode for incremental refreshes of materialized views.

    ```shell
    obclient> ALTER SYSTEM SET enable_mv_binlog_minimal_mode = True;
    ```

2. Create a table named `test_tbl1`.

    ```shell
    obclient> CREATE TABLE test_tbl1(col1 INT, col2 INT, col3 INT);
    ```

3. Create a materialized view named `mv1_t1`.

    ```shell
    obclient> CREATE MATERIALIZED VIEW mv1_t1
        REFRESH FAST
        AS SELECT col2, COUNT(*) cnt
           FROM test_tbl1
           GROUP BY col2;
    ```

4. When you perform incremental refreshes, the DML operations use the `binlog minimal` mode.

    ```shell
    obclient> CALL DBMS_MVIEW.REFRESH('mv1_t1', 'f');
    ```

5. Disable the `binlog minimal` mode for incremental refreshes of materialized views.

    ```shell
    obclient> ALTER SYSTEM SET enable_mv_binlog_minimal_mode = False;
    ```