|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# tde_method

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This parameter is available starting with V2.2.50.</p>
</main>

## Description

`tde_method` specifies the method for transparent tablespace encryption.

## Privilege requirements

* Query the parameter

  The `sys` tenant and all user tenants can query the value of this parameter by using the `SHOW PARAMETERS` statement or the `GV$OB_PARAMETERS` view.

* Modify the parameter

  The `sys` tenant and user tenants can modify this parameter.

## Attributes

|        Attribute      |  Description  |
|------------------|-------|
| Type             | String                          |
| Default value               | none                           |
| Value range             | <ul><li>none: Transparent tablespace encryption is not supported. </li><li>internal: The transparent encryption service uses an internal table to manage the primary key. </li><li>bkmi: The transparent encryption service uses an external BKMI to manage the primary key. </li><li>obcloud: The transparent encryption service uses a unified KMS proxy service to manage the primary key.<main id="notice" type='explain'><h4>Note</h4><p>For V4.3.x, the <code>obcloud</code> option is available starting with V4.3.5 BP2.</p></main></li></ul>  |
| Modifiable           | Yes. You can use the `ALTER SYSTEM SET` statement to modify the parameter. |
| Effective upon OBServer node restart | No. The setting takes effect immediately.   |

## Considerations

The column encryption feature is also controlled by the `tde_method` parameter. For more information about column encryption, see [ENHANCED_AES_ENCRYPT](../../../500.sql-reference/100.sql-syntax/200.common-tenant-of-mysql-mode/400.functions-of-mysql-mode/500.encryption-and-compression-functions-of-mysql-mode/820.enhanced-aes-encrypt-of-mysql-mode.md) and [ENHANCED_AES_DECRYPT](../../../500.sql-reference/100.sql-syntax/200.common-tenant-of-mysql-mode/400.functions-of-mysql-mode/500.encryption-and-compression-functions-of-mysql-mode/830.enhanced-aes-decrypt-of-mysql-mode.md).

### `obcloud` mode

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>For V4.3.5 BP2, this mode is available starting with V4.3.5 BP2.</p>
</main>

Starting from V4.3.5 BP2, you can use the `obcloud` option to enable the transparent encryption service to use a unified KMS proxy service to manage the primary key.

To use this option, perform the following steps:

1. Enable encryption: Use the `obcloud` option to enable the transparent encryption service to use a unified KMS proxy service to manage the primary key.

   ```sql
   ALTER SYSTEM SET tde_method = 'obcloud';
   ```

2. Configure the parameters: Specify the required parameters for the KMS proxy service in the `external_kms_info` parameter.
   * `kms_host`: the endpoint of the OceanBase Cloud KMS service.
   * `access_key_id`: the AccessKey ID for signature authentication.
   * `access_key_secret`: the AccessKey secret for signature authentication.
   * `cmk_id`: the ID of the user's primary key.

## Examples

Set the transparent tablespace encryption method to `internal`.

```shell
obclient> ALTER SYSTEM SET tde_method= 'internal';
```

Set the transparent tablespace encryption method to `obcloud`.

```shell
obclient> ALTER SYSTEM SET tde_method= 'obcloud';
```

## References

For more information about transparent encryption, see [Transparent encryption](../../../../600.manage/500.security-and-permissions/500.data-storage-encryption/100.datastore-encryption-overview.md).
