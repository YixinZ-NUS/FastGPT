|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# server_permanent_offline_time

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This parameter is available starting with V1.4. </p>
</main>

## Description

`server_permanent_offline_time` specifies the time threshold for a node to be considered permanently offline after its heartbeat is lost. When a node is permanently offline, the Root Service processes the data replicas on the OBServer node, removes the data replicas from the Paxos member group, and replicates the data replicas to other available OBServer nodes to ensure the integrity of the Paxos member group.

## Privilege requirements

* Query the parameter

  The `sys` tenant and all user tenants can query the parameter by using the `SHOW PARAMETERS` statement or the `GV$OB_PARAMETERS` view.

* Modify the parameter

  Only the `sys` tenant can modify the parameter. User tenants cannot modify the parameter.

## Attributes

|      **Attribute**    |   **Description**   |
|------------------|--------------|
| Type             | Time       |
| Default value               | 3600s      |
| Value range             | [20s, +âˆž) |
| Modifiable           | Yes. You can use the `ALTER SYSTEM SET` statement to modify the parameter.|
| Effective upon OBServer node restart | No. The setting takes effect immediately.    |

## Considerations

By setting this parameter, you can avoid unnecessary replica replication. The system only starts the replication of data replicas on permanently offline nodes when the replicas are lost for a duration exceeding the specified threshold.

The applicable scenarios and recommended values of this parameter are as follows:

* OceanBase Database version upgrade: We recommend that you set the value of this parameter to `72h`.

  <main id="notice" type='explain'>
    <h4>Note</h4>
    <p>When you use OCP V2.3.5 or later to upgrade OceanBase Database V2.1.2 or later, the system automatically sets the value of this parameter to <code>72h</code>. </p>
  </main>

* Hardware replacement of OBServer nodes: We recommend that you set the value of this parameter to `4h`.

* Clearing and online activation of OBServer nodes: We recommend that you set the value of this parameter to `10m` to enable the cluster to go online quickly.

## Examples

Set the time threshold for a node to be considered permanently offline after its heartbeat is lost to 3600s.

```shell
obclient> ALTER SYSTEM SET server_permanent_offline_time = '3600s';
```

## References

For more information about the Root Service, see [Database-layer high availability](../../../../600.manage/400.high-availability/200.multi-replica-disaster-recovery/300.database-high-availability.md).
