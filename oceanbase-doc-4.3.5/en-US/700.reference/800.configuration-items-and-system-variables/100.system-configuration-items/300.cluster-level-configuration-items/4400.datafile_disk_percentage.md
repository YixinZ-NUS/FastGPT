|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# datafile_disk_percentage

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>For Vx.x.x, this parameter is available starting with V2.2.50.</p>
</main>

## Description

* In Shared-Nothing (SN) mode, the `datafile_disk_percentage` parameter specifies the percentage of the total disk space occupied by data files (`data_dir` is initialized by OceanBase Database for storing data).

* In Shared-Storage (SS) mode, the `datafile_disk_percentage` parameter specifies the percentage of the total disk space occupied by local cache space.

## Privilege requirements

* Query the parameter

  The `sys` tenant and all user tenants can use the `SHOW PARAMETERS` statement or the `GV$OB_PARAMETERS` view to query this parameter.

* Modify the parameter

  Only the `sys` tenant can modify this parameter. User tenants cannot modify this parameter.

## Attributes

| **Attribute** | **Description** |
|------------|---------|
| Type    | Int    |
| Default value      | 0 <main id="notice" type='explain'><h4>Note</h4><p>Starting from V4.0.0, the default value is changed from 90 to 0.</p></main>       |
| Value range    | [0, 99]<main id="notice" type='explain'><h4>Note</h4><p>Starting from V4.0.0, the value range is changed from [5, 99] to [0, 99].</p></main> |
| Modifiable | Yes. You can use the `ALTER SYSTEM SET` statement to modify the parameter. |
| Effective upon OBServer node restart | No. The setting takes effect immediately.   |

## Considerations

* When the value of this parameter is 0, the system automatically calculates the percentage of the total disk space occupied by data files (in SN mode) or local cache space (in SS mode) based on whether the log and data share the same disk:

  * If they share the same disk, the percentage is 60%.
  * If they do not share the same disk, the percentage is 90%.

* When this parameter is configured together with the <code>datafile_size</code> parameter, the value of <code>datafile_size</code> takes precedence. For more information about the <code>datafile_size</code> parameter, see <a href="4700.datafile_size.md">datafile_size</a>.

## Examples

In SN mode, set the percentage of the total disk space occupied by data files to 90%.

```shell
obclient> ALTER SYSTEM SET datafile_disk_percentage=90;
```

## References

[Expand disk data dynamically](../../../../700.reference/200.system-management/1000.disk-data-file-management/100.disk-data-file-dynamic-expansion.md)
