|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||

# Automatically trigger a major compaction

A major compaction can be automatically triggered.

## Prerequisites

To enable the system to automatically trigger a major compaction, make sure that global major compaction is enabled. Global major compaction is controlled by the cluster-level parameter `enable_major_freeze`. The default value is `True`, which specifies to enable global major compaction.

If global major compaction is disabled for the current cluster, perform the following steps to enable this feature:

1. Log in to the `sys` tenant of the cluster as the `root` user.

2. Verify whether global major compaction is enabled.

   ```sql
   obclient> SHOW PARAMETERS LIKE 'enable_major_freeze';
   ```

3. If global major compaction is not enabled, execute the following statement to enable the feature:

   ```sql
   obclient> ALTER SYSTEM SET enable_major_freeze='True';
   ```

   For more information about the `enable_major_freeze` parameter, see [enable_major_freeze](../../../800.configuration-items-and-system-variables/100.system-configuration-items/300.cluster-level-configuration-items/7000.enable_major_freeze.md).

## Conditions for automatically triggering a major compaction

When the number of freezes (minor freezes) reaches a certain threshold, a major compaction will be triggered automatically.

## References

* [Configure scheduled major compactions](../200.merge-management/300.scheduled-trigger-merge.md)

* [Manually initiate a major compaction](../200.merge-management/400.manually-trigger-a-merge.md)

* [Manually control a major compaction](../200.merge-management/500.manually-control-a-merge.md)

* [View the major compaction process](../200.merge-management/500.view-merge-process.md)
