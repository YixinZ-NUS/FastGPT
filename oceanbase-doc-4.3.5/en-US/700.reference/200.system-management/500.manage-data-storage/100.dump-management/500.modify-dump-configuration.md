| description ||
|---|---|
| keywords ||
| dir-name ||
| dir-name-en ||
| tenant-type ||

# Modify minor compaction parameters

This topic describes how to modify minor compaction parameters.

## Minor compaction parameters

| Parameter | Description | Default value | Value range |
|-----------------------------|-------------------------------------------------------|-----|--------------|
| minor_compact_trigger       | The threshold of the number of SSTables that trigger minor compaction. This is a tenant-level parameter.             | 2   | \[0, 16\]    |
| freeze_trigger_percentage   | The threshold of the percentage of memory occupied by tenant MemStores that triggers freeze. This is a tenant-level parameter.                | 20  | (0, 100)    |
| memstore_limit_percentage   | The percentage of tenant MemStores in the total tenant memory. This is a cluster-level parameter. <main id="notice" type='explain'><h4>Note</h4><p>In V4.3.x, starting from V4.3.0, the tenant-level hidden parameter <code>_memstore_limit_percentage</code> is also supported for configuring the percentage of tenant MemStores in the total tenant memory. Apart from the different effective scope, the function and default value of <code>_memstore_limit_percentage</code> are the same as those of the cluster-level parameter <code>memstore_limit_percentage</code>. When configuring these two parameters, note the following items:</p><ul><li>If only the value of <code>_memstore_limit_percentage</code> or <code>memstore_limit_percentage</code> (non-default value) is configured, the configured value (non-default value) takes effect. </li> <li>If the values of the tenant-level hidden parameter <code>_memstore_limit_percentage</code> (non-default value) and the cluster-level parameter <code>memstore_limit_percentage</code> (non-default value) are both configured, the value of <code>_memstore_limit_percentage</code> takes effect. </li> <li>If both are not configured, or both are configured as default values, the system adopts the following adaptive strategy: <ul><li>Tenant MemStore is configured at 40% for tenants with memory of 8G (real memory) or below. </li><li>Tenant MemStore is configured at 50% for tenants with memory above 8G. </li></ul></li></ul></main>   | 0  | [0, 100)   |

## Modify minor compaction parameters by using SQL statements

1. Log in to the database as the tenant administrator.

2. Execute the following statements to modify the minor compaction parameters.

   Here is an example:

   ```sql
   obclient> ALTER SYSTEM SET minor_compact_trigger=2;
   
   obclient> ALTER SYSTEM SET freeze_trigger_percentage=20;
   
   obclient> ALTER SYSTEM SET memstore_limit_percentage=50;
   ```

3. After the modification, you can execute the `SHOW PARAMETERS` statement to check whether the modification is succeeded.

   Here is an example:

   ```sql
    obclient> SHOW PARAMETERS LIKE 'minor_compact_trigger';
   
   obclient> SHOW PARAMETERS LIKE 'freeze_trigger_percentage';
   
   obclient> SHOW PARAMETERS LIKE 'memstore_limit_percentage';
   ```