# Install oblogminer

You can install OceanBase LogMiner (oblogminer) by using yum commands or the installation package. Choose an installation method as needed.

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This topic describes how to install oblogminer of Community Edition. oblogminer of Enterprise Edition is automatically installed during the deployment of OceanBase Database. </p>
</main>

## Install oblogminer by using yum commands

You can use yum commands to directly install OceanBase Utils and then use oblogminer.

1. Add an image source.

   ```shell
   [admin@test001 ~]$ sudo yum-config-manager --add-repo https://mirrors.aliyun.com/oceanbase/OceanBase.repo
   ```

2. Install OceanBase Utils.

   ```shell
   [admin@test001 ~]$ sudo yum install oceanbase-ce-utils
   ```

3. View the help information of oblogminer.

   After the installation succeeds, you can run the following command to view the help information of oblogminer:

   ```shell
   [admin@test001 ~]$ oblogminer -h
   ```

## Install oblogminer by using the OceanBase Utils installation package

You can install OceanBase Utils and then use oblogminer.

1. Search for `OceanBase Utils` in the [OceanBase Download Center](https://en.oceanbase.com/softwarecenter) and then download the required version.

2. Run the following command under the directory where OceanBase Utils resides:

   ```shell
   [admin@test001 ~]$ sudo rpm -ivh oceanbase-ce-utils-<version>.rpm
   ```

   If you need only oblogminer, run the following rpm2cpio command to obtain oblogminer:

   ```shell
   [admin@test001 ~]$ rpm2cpio oceanbase-ce-utils-<version> | cpio -idmv ./usr/bin/oblogminer
   ```

   When using the rpm2cpio command, run the following command after the deployment completes to copy `oblogminer` to the `/usr/local/bin` directory:

   ```shell
   [admin@test001 ~]$ sudo cp usr/bin/oblogminer /usr/local/bin
   ```

3. View the help information of oblogminer.

   After the installation succeeds, you can run the following command to view the help information of oblogminer:

   ```shell
   [admin@test001 ~]$ oblogminer -h
   ```

## Compile oblogminer by using the source code

You can also compile oblogminer by using the source code of OceanBase Database.

1. Pull the open source code of OceanBase Database to your local server.

   ```shell
   [admin@test001 ~]$ git clone https://github.com/oceanbase/oceanbase.git
   ```

2. Run the following command under the code directory to switch to branch 4.2.x:

   ```shell
   [admin@test001 oceanbase]$ git checkout 4.2.x
   ```

3. Select one of the following compilation methods to compile oblogminer:

   * Debug mode

     Execute the build.sh script and specify the debug mode.

     ```shell
     [admin@test001 oceanbase]$ bash build.sh debug --init
     ```

     Enter the compilation directory.

     ```shell
     [admin@test001 oceanbase]$ cd build_debug
     ```

     Compile oblogminer.

     ```shell
     [admin@test001 build_debug]$ make oblogminer
     ```

     Copy the compiled files to the `/usr/local/bin` directory.

     ```shell
     [admin@test001 build_debug]$ sudo cp src/logservice/logminer/oblogminer /usr/local/bin
     ```

     By default, after you compile oblogminer, you can find the compiled files in the `<DEBUG_BUILD_DIR>/src/logservice/logminer` directory. `<DEBUG_BUILD_DIR>` indicates the compilation directory, which is `build_debug` in debug mode.

   * Release mode

     Execute the build.sh script and specify the release mode.

     ```shell
     [admin@test001 oceanbase]$ bash build.sh release --init
     ```

     Enter the compilation directory.

     ```shell
     [admin@test001 oceanbase]$ cd build_release
     ```

     Compile oblogminer.

     ```shell
     [admin@test001 build_release]$ make oblogminer
     ```

     Copy the compiled files to the `/usr/local/bin` directory.

     ```shell
     [admin@test001 build_release]$ sudo cp src/logservice/logminer/oblogminer /usr/local/bin
     ```

     By default, after you compile oblogminer, you can find the compiled files in the `<DEBUG_BUILD_DIR>/src/logservice/logminer` directory. `<DEBUG_BUILD_DIR>` indicates the compilation directory, which is `build_release` in release mode.

4. View the help information of oblogminer.

   After the compilation succeeds, you can run the following command to view the help information of oblogminer:

   ```shell
   [admin@test001 ~]$ oblogminer -h
   ```

## FAQ

What do I do if the following error occurs due to the missing dynamic library `libmariadb.so.3` when I use oblogminer?

```shell
oblogminer: error while loading shared libraries: libmariadb.so.3: cannot open shared object file: No such file or directory
```

The `libmariadb.so.3` dynamic library is built in OceanBase Database. You can use the `find` command to find its path and then set the environment variable to specify the dynamic library search path. The procedure is as follows:

1. Run the `find` command to find the path of `libmariadb.so.3`.

   ```shell
   [admin@test001 ~]$ find / -name libmariadb.so.3
   ```

   The path of `libmariadb.so.3` is returned if `libmariadb.so.3` exists in the environment, as shown in the following example:

   ```shell
   /home/admin/observer/lib/libmariadb.so.3
   ```

2. Set the `LD_LIBRARY_PATH` environment variable to specify the dynamic library search path.

   ```shell
   [admin@test001 ~]$ export LD_LIBRARY_PATH=/home/admin/observer/lib
   ```

After performing the preceding steps, you can use the oblogminer command. For more information about the oblogminer command, see [Command-line options](300.command-line-parameters.md).
