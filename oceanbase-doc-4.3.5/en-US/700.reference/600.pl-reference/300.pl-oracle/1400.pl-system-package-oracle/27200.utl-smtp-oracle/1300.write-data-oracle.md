| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode     |
|machine-translation||

# WRITE_DATA

`WRITE_DATA` is used to send text email content. It can be called multiple times to append data to the email.

<main id="notice" >
    <h4>Applicability</h4>
    <p>This content applies only to the Oracle-compatible mode of OceanBase Database. </p>
</main>

## Syntax

```sql
UTL_SMTP.WRITE_DATA (
   c     IN OUT NOCOPY connection,
   data  IN VARCHAR2 CHARACTER SET ANY_CS);
```

## Parameters

| **Parameter** |         **Description**         |
|--------|------------------------|
|c|The SMTP connection. |
|data|A part of the message text to send. The `headers` section is included. It is in the [RFC822] format. |

## Considerations

* `OPEN_DATA`, `WRITE_DATA`, `WRITE_RAW_DATA`, and `CLOSE_DATA` must be called in strict sequence. `OPEN_DATA` sends the `data` command to indicate the start of email content transmission. Multiple calls to `WRITE_DATA` and `WRITE_RAW_DATA` can then be made to send the email body, and finally, `CLOSE_DATA` sends the terminator to end the transmission.
* The application must ensure that the text content complies with the `MIME (RFC822)` standard. Use `<CR><LF>.<CR><LF>` as the message terminator. Any `<CR><LF>.<CR><LF>` in the text content will be escaped as `<CR><LF>..<CR><LF>`.
* Text (varchar2) data will be converted to the `US7ASCII` character set before being sent. If the text contains multibyte characters, each multibyte character that cannot be represented in `US7ASCII` will be converted to a `?` character.
* If the `ehlo` command negotiates the `8BITMIME` extension with the SMTP server, the text can be converted to `raw` data using the `utl_raw` advanced package and then sent using `WRITE_RAW_DATA`.