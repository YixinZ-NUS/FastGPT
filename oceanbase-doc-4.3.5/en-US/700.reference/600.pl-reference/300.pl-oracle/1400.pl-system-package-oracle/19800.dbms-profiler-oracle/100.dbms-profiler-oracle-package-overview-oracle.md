| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | Oracle Mode      |
|machine-translation||

# Overview

The `DBMS_PROFILER` package records the number of executions and execution duration of each code line in PL executions, and summarizes the information.

<main id="notice" >
    <h4>Applicability</h4>
    <p>This topic applies only to OceanBase Database Enterprise Edition. OceanBase Database Community Edition provides only the MySQL mode. </p>
  </main>

## Privileges

You must have the `AUTHID CURRENT_USER` privilege to call this package.

## Subprograms

The following table describes the `DBMS_PROFILER` subprograms supported by the current OceanBase Database version.

| **Subprogram** | **Description** |
| --- | --- |
|[start_profiler](200.start-profiler-oracle.md)| Starts the profiler. Then, the profiler will record the PL execution information in the current session. |
|[stop_profiler](300.stop-profiler-oracle.md)| Stops the profiler. Then, the profiler will flush the information to the data statistical table. |
|[pause_profiler](400.pause-profiler-oracle.md)| Pauses the profiler. Then, the profiler will stop recording execution information. |
|[resume_profiler](500.resume-profiler-oracle.md)| Resumes the profiler. Then, the profiler will resume recording execution information. |
|[flush_data](600.flush-data-oracle.md)| Flushes the collected data to the data statistical table. |
|[get_version](700.get-version-oracle.md)| Returns the current <code>DBMS_PROFILER</code> version. |
|[internal_version_check](800.internal-version-check-oracle.md)| Verifies whether the database version matches the <code>DBMS_PROFILER</code> version. |
|[rollup_unit](900.rollup-unit-oracle.md)| Calculates the execution duration of a specific unit during an execution. |
|[rollup_run](1000.rollup-run-oracle.md)| Calculates the execution duration of each unit during an execution. |
|[ob_init_objects](1100.ob-init-objects-oracle.md)| Creates a data statistical table under the <code>schema</code> user. |
|[ob_drop_objects](1200.ob-drop-objects-oracle.md)| Drops a data statistical table from the <code>schema</code> user. |

## Call procedure

Call `DBMS_PROFILER.start_profiler` to start the profiler. Then, the profiler records the number of executions and execution duration of each statement in all PL executions in the current session. If system warm-up is required in some scenarios, you can call `DBMS_PROFILER.pause_profiler` to pause the profiler to prevent the warm-up process from being recorded. After the warm-up is completed, you can call `DBMS_PROFILER.resume_profiler` to resume the profiler. After performance analysis PL statements are executed, you can call `DBMS_PROFILER.stop_profiler` to stop the profiler. Then, all recorded information will be flushed to the data statistical table. You can query the table for performance analysis.

<!-- The following figure shows the details.

![](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer/V4.2.3/2024.4.17.png) -->