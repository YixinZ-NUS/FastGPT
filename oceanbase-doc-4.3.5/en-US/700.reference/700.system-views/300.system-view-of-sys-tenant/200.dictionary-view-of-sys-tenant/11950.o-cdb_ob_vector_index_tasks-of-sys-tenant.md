|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_OB_VECTOR_INDEX_TASKS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is available starting with OceanBase Database V4.3.5 BP3. </p>
</main>

## Purpose

The `CDB_OB_VECTOR_INDEX_TASKS` view displays information about vector index partition rebuild tasks for all tenants in the cluster.

## Columns

| Column | Type | NULLable | Description |
|---------------------------|---------------|------|----|
| TENANT_ID	                | bigint(20)	| YES   | The tenant ID. |
| TABLE_ID	                | bigint(20)	| YES   | The table ID. |
| TABLET_ID	                | bigint(20)	| YES   | The partition ID. |
| TASK_ID	                | bigint(20)	| YES   | The task ID. |
| START_TIME	                | timestamp(6)	| YES   | The start time of the task. |
| MODIFY_TIME	                | timestamp(6)	| YES   | The end time of the task. |
| TRIGGER_TYPE	                | varchar(16)	| NO   | The task trigger type. Valid values: <ul><li><code>0</code>: automatic trigger</li><li><code>1</code>: manual trigger</li></ul> |
| STATUS	                | varchar(16)	| NO   | The task status. Valid values: <ul><li><code>0</code>: task is being prepared</li><li><code>1</code>: task is being executed</li><li><code>2</code>: task is paused</li><li><code>3</code>: task is completed</li></ul> |
| TASK_TYPE	                | bigint(20)	| NO   | The task type. Valid values: <ul><li><code>0</code>: asynchronous build</li><li><code>1</code>: index partition rebuild</li></ul>      | |
| TASK_SCN	                | bigint(20)	| NO   | The task version number. |
| RET_CODE	                | bigint(20)	| NO   | The task status when the task is completed. Valid values: <ul><li><code>0</code>: task is completed successfully</li><li><code>non-zero</code>: task failed</li></ul> |
| TRACE_ID	                | varchar(512)	| NO   | The task execution trace ID. |
| PROGRESS_INFO	                | varchar(512)	| NO   | The task execution progress information, in JSON format. Typically, this information includes the current operation, estimated number of rows, number of rows completed, completion percentage, and estimated remaining time. This information is updated every 10 seconds. The JSON string contains the following fields: <ul><li><code>status</code>: the task status. Valid values: <code>preparing</code>, <code>inserting vectors</code>, <code>serializing snap index</code>, and <code>replacing old index</code>.</li> <li><code>estimated_row</code>: the estimated number of rows to be inserted.</li> <li><code>finished_row</code>: the number of rows that have been inserted.</li> <li><code>progress</code>: the completion percentage.</li> <li><code>time_remaining(s)</code>: the estimated remaining time.</li></ul> |

## Sample query

In the sys tenant, query the vector index partition rebuild tasks for all tenants.

```sql
SELECT * FROM oceanbase.CDB_OB_VECTOR_INDEX_TASKS;
```

The query result is as follows:

```shell
+-----------+----------+---------------------+---------+----------------------------+----------------------------+--------------+---------+-----------+------------------+----------+------------------------------------+
| TENANT_ID | TABLE_ID | TABLET_ID           | TASK_ID | START_TIME                 | MODIFY_TIME                | TRIGGER_TYPE | STATUS  | TASK_TYPE | TASK_SCN         | RET_CODE | TRACE_ID                           |
+-----------+----------+---------------------+---------+----------------------------+----------------------------+--------------+---------+-----------+------------------+----------+------------------------------------+
|      1004 |   500017 | 1152921504606846987 |   22023 | 1970-08-23 17:08:27.175705 | 1970-08-23 17:08:27.175715 | USER         | RUNNING |         1 | 1746611825281271 |       -1 | Y61460BA2DAD8-000634872BECF00C-0-1 |
+-----------+----------+---------------------+---------+----------------------------+----------------------------+--------------+---------+-----------+------------------+----------+------------------------------------+
1 row in set
```

## References

* [DBA_OB_VECTOR_INDEX_TASKS](24150.o-dba_ob_vector_index_tasks-of-sys-tenant.md)