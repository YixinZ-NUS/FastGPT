|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_OB_RESTORE_HISTORY

## Purpose

This view displays the status of a physical restore task when it is completed. It is a snapshot of the corresponding record in the `oceanbase.CDB_OB_RESTORE_PROGRESS` table when the restore task is completed.

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This view was introduced in OceanBase Database V2.2.77. </p>
</main>

## Columns

|         **Column**          |    **Type**     | **Nullable?** |      **Description**       |
|---------------------------|---------------|----------------|-------------------------------------------------------------------|
| TENANT_ID                        | bigint(20)          |  NO   | The ID of the tenant that executes the restore task.  |
| JOB_ID                           | bigint(20)          |  NO   | The job ID of the restore task, which corresponds to a restore task. |
| RESTORE_TENANT_NAME              | varchar(128)        |  NO   | The name of the restored tenant.  |
| RESTORE_TENANT_ID                | bigint(20)          |  NO   | The ID of the restored tenant.  |
| BACKUP_TENANT_NAME               | varchar(128)        |  NO   | The name of the source tenant for backup.    |
| BACKUP_TENANT_ID                 | bigint(20)          |  NO   | The ID of the source tenant for backup.  |
| BACKUP_CLUSTER_NAME              | varchar(128)        |  NO   | The name of the source cluster for backup.   |
| BACKUP_DEST                      | longtext            |  NO   | The path for the backup set, which indicates the data backup path and log archive path specified by the user.   |
| RESTORE_SCN                      | bigint(20) unsigned |  NO   | The SCN specified for restore.  |
| RESTORE_SCN_DISPLAY              | varchar(26)         |  NO   | The timestamp of the specified restore SCN.  |
| RESTORE_OPTION                   | varchar(4096)       |  NO   | The restore option specified when the restore task is initiated.  |
| START_TIMESTAMP                  | timestamp(6)        |  YES   | The timestamp when the restore task starts.  |
| FINISH_TIMESTAMP                 | timestamp(6)        |  YES   | The timestamp when the restore task ends.  |
| STATUS                           | varchar(64)         |  NO   | The restore result: <ul> <li> `SUCCESS`: indicates that the restore is successful. </li> <li> `FAILED`: indicates that the restore fails. </li></ul> |
| BACKUP_PIECE_LIST                | longtext            |  NO   | The list of log archive piece paths that the restore task depends on. The paths are separated by commas, for example: `file:///data/nfs/backup/archive/2_1_2,file:///data/nfs/backup/archive/2_1_3`. |
| BACKUP_SET_LIST                  | longtext            |  NO   | The list of data backup set paths that the restore task depends on. The paths are separated by commas, for example: `file:///data/nfs/backup/data/backup_set_1_full,file:///data/nfs/backup/data/backup_set_2_inc`. |
| BACKUP_CLUSTER_VERSION           | bigint(20)          |  NO   | The version number of the source cluster for backup. |
| LS_COUNT                         | bigint(20)          |  NO   | The total number of log streams to be restored.   |
| FINISH_LS_COUNT                  | bigint(20)          |  NO   | The number of completed log streams to be restored.  |
| TABLET_COUNT                     | bigint(20)          |  NO   | The total number of tablets to be restored.  |
| FINISH_TABLET_COUNT              | bigint(20)          |  NO   | The number of completed tablets to be restored.  |
| TOTAL_BYTES                      | bigint(20)          |  NO   | The total number of bytes to be restored.  |
| TOTAL_BYTES_DISPLAY              | varchar(27)         |  NO   | The total number of bytes to be restored, displayed in storage capacity units.  |
| FINISH_BYTES                     | bigint(20)          |  NO   | The number of bytes completed to be restored.  |
| FINISH_BYTES_DISPLAY             | varchar(27)         |  NO   | The number of bytes completed to be restored, displayed in storage capacity units.  |
| DESCRIPTION                      | varchar(1024)       |  YES   | The `DESCRIPTION` information specified in the restore command.  |
| COMMENT                          | varchar(1024)       |  YES   | The failure information recorded when the restore fails.  |
| RESTORE_TYPE                      | varchar(4096)            |  NO   | The restore type. <ul> <li>`FULL`: indicates a full restore. </li> <li> `QUICK`: indicates a quick restore. </li></ul>   |