|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.DBA_OB_VECTOR_INDEX_TASKS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is available starting with  V4.3.5 BP3. </p>
</main>

## Purpose

The `DBA_OB_VECTOR_INDEX_TASKS` view shows the information about all vector index partition rebuild tasks in the current tenant.

## Columns

| Column                   | Type      | Nullable  | Description |
|---------------------------|---------------|------|----|
| TABLE_ID	                | bigint(20)	| YES   | The ID of the table. |
| TABLET_ID	                | bigint(20)	| YES   | The ID of the partition. |
| TASK_ID	                | bigint(20)	| YES   | The ID of the task. |
| START_TIME	                | timestamp(6)	| YES   | The start time of the task. |
| MODIFY_TIME	                | timestamp(6)	| YES   | The end time of the task. |
| TRIGGER_TYPE	                | varchar(16)	| NO   | The type of task trigger. Valid values: <ul><li><code>0</code>: automatic trigger</li><li><code>1</code>: manual trigger</li></ul> |
| STATUS	                | varchar(16)	| NO   | The status of the task. Valid values: <ul><li><code>0</code>: preparing</li><li><code>1</code>: executing</li><li><code>2</code>: paused</li><li><code>3</code>: completed</li></ul> |
| TASK_TYPE	                | bigint(20)	| NO   | The type of the task. Valid values: <ul><li><code>0</code>: asynchronous build</li><li><code>1</code>: index partition rebuild</li></ul>      | |
| TASK_SCN	                | bigint(20)	| NO   | The version number of the task. |
| RET_CODE	                | bigint(20)	| NO   | The status of the task when it ends. Valid values: <ul><li><code>0</code>: succeeded</li><li><code>non-zero</code>: failed</li></ul> |
| TRACE_ID	                | varchar(512)	| NO   | The trace ID of the task. |
| PROGRESS_INFO	                | varchar(512)	| NO   | The progress information of the task, in JSON format. Typically, the information includes the current operation, estimated number of rows, number of rows completed, progress percentage, and estimated remaining time. The information is updated every 10 seconds. The JSON string contains the status, estimated_row, finished_row, progress, and time_remaining(s) fields. <ul><li><code>status</code>: the status of the task. Valid values: <code>preparing</code>, <code>inserting vectors</code>, <code>serializing snap index</code>, and <code>replacing old index</code>.</li> <li><code>estimated_row</code>: the estimated number of rows to be inserted.</li> <li><code>finished_row</code>: the number of rows inserted.</li> <li><code>progress</code>: the progress percentage.</li> <li><code>time_remaining(s)</code>: the estimated remaining time.</li></ul> |

## Sample query

In the sys tenant, query the information about vector index partition rebuild tasks of all tenants.

```sql
SELECT * FROM oceanbase.DBA_OB_VECTOR_INDEX_TASKS;
```

The query result is as follows:

```shell
+-----------+----------+---------------------+---------+----------------------------+----------------------------+--------------+---------+-----------+------------------+----------+------------------------------------+
| TENANT_ID | TABLE_ID | TABLET_ID           | TASK_ID | START_TIME                 | MODIFY_TIME                | TRIGGER_TYPE | STATUS  | TASK_TYPE | TASK_SCN         | RET_CODE | TRACE_ID                           |
+-----------+----------+---------------------+---------+----------------------------+----------------------------+--------------+---------+-----------+------------------+----------+------------------------------------+
|      1004 |   500017 | 1152921504606846987 |   22023 | 1970-08-23 17:08:27.175705 | 1970-08-23 17:08:27.175715 | USER         | RUNNING |         1 | 1746611825281271 |       -1 | Y61460BA2DAD8-000634872BECF00C-0-1 |
+-----------+----------+---------------------+---------+----------------------------+----------------------------+--------------+---------+-----------+------------------+----------+------------------------------------+
1 row in set
```

## References

* [CDB_OB_VECTOR_INDEX_TASKS](11950.o-cdb_ob_vector_index_tasks-of-sys-tenant.md)