|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_OB_RESTORE_PROGRESS

## Purpose

This view displays the current progress of a physical restore task.

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This view was introduced in OceanBase Database V2.2.77. </p>
</main>

## Columns

|           Column  Name            |      Type       | Nullable? |         Description         |
|---------------------------|---------------|------------|----------------|
| TENANT_ID                        | bigint(20)          |  NO   | The ID of the tenant that executes the restore task.  |
| JOB_ID                           | bigint(20)          |  NO   | The job ID of the restore task, which corresponds to one restore task.  |
| RESTORE_TENANT_NAME              | longtext            |  NO   | The name of the tenant to be restored.  |
| RESTORE_TENANT_ID                | bigint(20)          |  NO   | The ID of the tenant to be restored.  |
| BACKUP_TENANT_NAME               | longtext            |  NO   | The name of the source tenant for backup.  |
| BACKUP_TENANT_ID                 | longtext            |  NO   | The ID of the source tenant for backup.  |
| BACKUP_CLUSTER_NAME              | longtext            |  NO   | The name of the source cluster for backup.  |
| BACKUP_DEST                      | longtext            |  NO   | The path of the backup set, which indicates the data backup path and log archive path specified by the user.    |
| RESTORE_OPTION                   | longtext            |  NO   | The restore option specified when the restore task is initiated.  |
| RESTORE_SCN                      | bigint(20) unsigned |  NO   | The SCN specified for restore.  |
| RESTORE_SCN_DISPLAY              | varchar(26)         |  NO   | The timestamp of the restore SCN.  |
| STATUS                           | longtext            |  NO   | The restore status. The restore status of a system tenant is different from that of a restored tenant.<br>For a system tenant: <ul><li> `CREATE_TENANT`: the tenant is being created. In this stage, the system tenant creates the restored tenant. </li> <li> `WAIT_TENANT_RESTORE_FINISH`: the restore of the restored tenant is waiting to be completed. </li> <li> `RESTORE_SUCCESS`: the restore of the restored tenant is successful. </li> <li> `RESTORE_FAIL`: the restore of the restored tenant fails. </li></ul> <br>For a restored tenant: <ul><li> `RESTORE_PRE`: the pre-restore preparation. If encryption is enabled, encryption information is set. </li> <li> `RESTORE_CREATE_INIT_LS`: the log stream is being created. </li> <li> `RESTORE_WAIT_LS`: the restore of the log stream is waiting to be completed. </li> <li> `POST_CHECK`: the tenant roles are being checked, and the restored tenant is converted into a standby tenant. </li> <li> `UPGRADE`: the upgrade process is being executed. If the restore is across versions, the tenant undergoes the upgrade process. </li> <li> `RESTORE_SUCCESS`: the restore is successful. </li> <li> `RESTORE_FAIL`: the restore fails. </li></ul> |
| START_TIMESTAMP                  | varchar(26)         |  NO   | The timestamp when the restore task starts.  |
| BACKUP_SET_LIST                  | longtext            |  NO   | The path list of the data backup sets that the restore task depends on. The paths are separated by commas, for example: `file:///data/nfs/backup/data/backup_set_1_full,file:///data/nfs/backup/data/backup_set_2_inc`.  |
| BACKUP_PIECE_LIST                | longtext            |  NO   | The path list of the log archive pieces that the restore task depends on. The paths are separated by commas, for example: `file:///data/nfs/backup/archive/2_1_2,file:///data/nfs/backup/archive/2_1_3`.   |
| TOTAL_BYTES                      | bigint(20)          |  NO   | The total number of bytes to be restored.  |
| TOTAL_BYTES_DISPLAY              | varchar(27)         |  NO   | The total number of bytes to be restored, displayed in storage capacity units.  |
| FINISH_BYTES                     | bigint(20)          |  NO   | The number of bytes restored.  |
| FINISH_BYTES_DISPLAY             | varchar(27)         |  NO   | The number of bytes restored, displayed in storage capacity units.  |
| DESCRIPTION                      | longtext            |  NO   | The `DESCRIPTION` information specified in the restore command.   |
| RESTORE_TYPE                      | varchar(4096)            |  NO   | The restore type. <ul> <li>`FULL`: full restore</li> <li> `QUICK`: quick restore</li></ul>   |
| RECOVER_SCN                      | BIGINT(20) unsigned          |  YES   | The log recovery SCN.   |
| RECOVER_SCN_DISPLAY                      | DATETIME(6)          |  YES   | The timestamp of the log recovery SCN.   |
| RECOVER_PROGRESS                      | DECIMAL(6, 2)          |  YES   | The log recovery progress, retained to two decimal places. For example, `87.65` indicates that the recovery progress is 87.65%.  |
| TABLET_COUNT                      | BIGINT(20)          |  YES   | The total number of tablets to be restored.   |
| FINISH_TABLET_COUNT                      | BIGINT(20)          |  YES   | The total number of restored tablets.   |
| RESTORE_PROGRESS                      | DECIMAL(6, 2)          |  YES   | The data restore progress, retained to two decimal places. For example, `87.65` indicates that the restore progress is 87.65%.   |