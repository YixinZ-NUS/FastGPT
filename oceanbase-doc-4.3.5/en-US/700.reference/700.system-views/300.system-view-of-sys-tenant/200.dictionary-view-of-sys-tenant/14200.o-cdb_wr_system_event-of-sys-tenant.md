|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_WR_SYSTEM_EVENT

<main id="notice" type='explain'>
<h4>Note</h4>
<ul><li>For V4.3.x, this view was introduced in V4.3.5. </li> <li>For V4.2.x, this view was introduced in V4.2.2. </li></ul>
</main>

## Purpose

The `CDB_WR_SYSTEM_EVENT` view displays the tenant-level wait events of all tenants after they are persisted.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
|-----------|----------|--------------|----------------|
| TENANT_ID | bigint(20) | NO | Tenant ID. |
| CLUSTER_ID | bigint(20) | NO | Cluster ID. |
| SNAP_ID | bigint(20) | NO | Snapshot ID. |
| SVR_IP | varchar(46) | NO | IP address of the node. |
| SVR_PORT | bigint(20) | NO | Port number of the node. |
| EVENT_ID | bigint(20) | NO | Wait event ID. |
| EVENT_NAME | varchar(64) | YES | Wait event name. |
| WAIT_CLASS_ID | bigint(20) | YES | ID of the wait event category. |
| WAIT_CLASS | varchar(64) | YES | Name of the wait event category. |
| TOTAL_WAITS | bigint(20) | YES | Total number of wait events. |
| TOTAL_TIMEOUTS | bigint(20) | YES | Total number of timeouts. |
| TIME_WAITED_MICRO | bigint(20) | YES | Total wait time in microseconds. |

The following table describes the wait event categories and their corresponding wait event IDs in the `WAIT_CLASS` column of the view.

| Wait event category | Wait event ID | Description |
|------|----|------|
| OTHER | 100 | Wait events that do not belong to other categories. |
| APPLICATION | 101 | Wait events caused by client-side code. |
| CONFIGURATION | 102 | Wait events caused by insufficient resource configurations of databases or instances. |
| ADMINISTRATIVE | 103 | Wait events caused by commands entered by database administrators. |
| CONCURRENCY | 104 | Wait events caused by waiting for internal database resources. |
| COMMIT | 105 | Wait events related to log commits. |
| IDLE | 106 | Wait events caused by idle sessions waiting for tasks. |
| NETWORK | 107 | Wait events related to network communications. |
| USER_IO | 108 | Wait events caused by waiting for user I/O. |
| SYSTEM_IO | 109 | Wait events caused by waiting for I/O from background processes. |
| CLUSTER | 111 | Wait events related to clusters. |

## Sample query

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.CDB_WR_SYSTEM_EVENT WHERE TENANT_ID= 1004 LIMIT 10;
```

The query result is as follows:

```shell
+-----------+------------+---------+----------------+----------+----------+----------------------------------------------------+---------------+-------------+-------------+----------------+-------------------+
| TENANT_ID | CLUSTER_ID | SNAP_ID | SVR_IP         | SVR_PORT | EVENT_ID | EVENT_NAME                                         | WAIT_CLASS_ID | WAIT_CLASS  | TOTAL_WAITS | TOTAL_TIMEOUTS | TIME_WAITED_MICRO |
+-----------+------------+---------+----------------+----------+----------+----------------------------------------------------+---------------+-------------+-------------+----------------+-------------------+
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |        2 | latch: default spin rwlock wait                    |           104 | CONCURRENCY |           8 |              0 |              1339 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |        3 | latch: default mutex wait                          |           104 | CONCURRENCY |         349 |              0 |             16079 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |        8 | latch: trans ctx latch wait                        |           104 | CONCURRENCY |           6 |              0 |             15328 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |       40 | latch: config lock wait                            |           104 | CONCURRENCY |           6 |              0 |            159968 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |       99 | latch: tablet bucket lock wait                     |           104 | CONCURRENCY |           1 |              0 |              1177 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |      197 | latch: weak read service cluster service lock wait |           104 | CONCURRENCY |           1 |              0 |                 1 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |      217 | latch: FIFO allocator lock wait                    |           104 | CONCURRENCY |           1 |              0 |                29 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |      258 | latch: palf handle impl lock wait                  |           104 | CONCURRENCY |           4 |              0 |               185 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |      278 | latch: max apply scn lock wait                     |           104 | CONCURRENCY |           1 |              0 |                21 |
|      1004 |      10001 |       1 | 172.xx.xxx.xxx |     2882 |      283 | latch: ls meta lock wait                           |           104 | CONCURRENCY |          34 |              0 |              4998 |
+-----------+------------+---------+----------------+----------+----------+----------------------------------------------------+---------------+-------------+-------------+----------------+-------------------+
10 rows in set
```

## References

* [oceanbase.DBA_WR_SYSTEM_EVENT](27900.o-dba_wr_system_event-of-sys-tenant.md)

* [oceanbase.DBA_WR_EVENT_NAME](27200.o-dba_wr_event_name-of-sys-tenant.md)

* [oceanbase.CDB_WR_EVENT_NAME](13500.o-cdb_wr_event_name-of-sys-tenant.md)