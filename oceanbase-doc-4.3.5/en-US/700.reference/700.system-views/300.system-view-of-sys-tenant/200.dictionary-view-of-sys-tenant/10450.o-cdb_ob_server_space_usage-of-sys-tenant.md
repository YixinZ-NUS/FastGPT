|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_OB_SERVER_SPACE_USAGE

<main id="notice" type='explain'>
 <h4>Note</h4>
 <p>This view was introduced in OceanBase Database V4.3.4. </p>
</main>

## Purpose

The `CDB_OB_SERVER_SPACE_USAGE` view is used to monitor the details of storage space usage by tenants on each node.

## Columns

| **Column** | **Type**  | **Nullable?** | **Description**                               |
|------------|-------------|---------------------|----------------------------------------|
| TENANT_ID   | varchar(128)  | NO   | Tenant ID    |
| TENANT_NAME | varchar(128)  | NO   | Tenant name     |
| SERVER_IP   | varchar(46)   | NO   | IP address of the node that contains the tenant unit    |
| SERVER_PORT | bigint(20)    | NO   | PORT of the node that contains the tenant unit     |
| SPACE_TYPE  | varchar(9)    | NO   | The types are as follows:<ul><li>Table Data: data from all partitions of primary tables, including LOB partitions </li><li>Index Data: data from all partitions of index tables </li><li>Meta Data: all metadata </li><li>Tmp Data: temporary files </li><li>clog Data: total size of commit logs (clogs) on the node </li><li>slog Data: total size of storage logs (slogs) on the node. This field does not exist in Shared Storage (SS) mode. </li></ul><main id="notice" type='explain'><h4>Note</h4><ul><li>In standalone mode (Shared-Nothing, SN), data from all nodes is included. </li><li>In shared storage mode (Shared-Storage, SS), only private node data is included. </li></ul></main>     |
| DATA_BYTES  | decimal(42,0) | NO   | Size of data content, in bytes     |
| USAGE_BYTES | decimal(42,0) | NO   | Actual size of disk space occupied, in bytes     |

## Sample query

The following example queries the details of storage space usage by tenants on each node in standalone (SN) mode.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.CDB_OB_SERVER_SPACE_USAGE LIMIT 10;
```

The query result is as follows:

```shell
+-----------+-------------+----------------+-------------+------------+------------+-------------+
| TENANT_ID | TENANT_NAME | SERVER_IP      | SERVER_PORT | SPACE_TYPE | DATA_BYTES | USAGE_BYTES |
+-----------+-------------+----------------+-------------+------------+------------+-------------+
| 1         | sys         |  xx.xx.xx.xx   |        2882 | clog Data  | 7668902375 |  7668902375 |
| 1         | sys         |  xx.xx.xx.xx   |        2882 | Index Data |       2793 |       24576 |
| 1         | sys         |  xx.xx.xx.xx   |        2882 | Meta Data  |   17092608 |    17092608 |
| 1         | sys         |  xx.xx.xx.xx   |        2882 | slog Data  |   11952128 |    11952128 |
| 1         | sys         |  xx.xx.xx.xx   |        2882 | Table Data |       4168 |       32768 |
| 1         | sys         |  xx.xx.xx.xx   |        2882 | Tmp Data   |          0 |           0 |
| 1002      | mysql001    |  xx.xx.xx.xx   |        2882 | clog Data  | 5898749661 |  5898749661 |
| 1002      | mysql001    |  xx.xx.xx.xx   |        2882 | Meta Data  |   28184576 |    28184576 |
| 1002      | mysql001    |  xx.xx.xx.xx   |        2882 | slog Data  |   26112000 |    26112000 |
| 1002      | mysql001    |  xx.xx.xx.xx   |        2882 | Table Data |      25268 |     6438912 |
+-----------+-------------+----------------+-------------+------------+------------+-------------+
10 rows in set
```

## References

* [oceanbase.CDB_OB_TABLE_SPACE_USAGE](11330.o-cdb_ob_table_space_usage-of-sys-tenant.md)
* [oceanbase.CDB_OB_SPACE_USAGE](10470.o-cdb_ob_space_usage-of-sys-tenant.md)