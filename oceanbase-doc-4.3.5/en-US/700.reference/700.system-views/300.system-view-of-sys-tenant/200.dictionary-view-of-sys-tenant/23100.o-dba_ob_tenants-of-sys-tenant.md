|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.DBA_OB_TENANTS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

This view displays the basic information of tenants.

* When you query this view from the system tenant, information about all tenants, including system tenants, user tenants, and Meta tenants, is displayed. You can use the `TENANT_TYPE` column to distinguish between tenant types.
* When you query this view from a user tenant, information about only the current tenant is displayed.

## Purpose

| **Column** | **Type** | **Nullable?** | **Description** |
| --- | --- | --- | --- |
| TENANT_ID | bigint(20)| NO | The tenant ID. <ul><li>1: ID of the system tenant. </li><li>Other values: ID of a user tenant or Meta tenant. </li></ul>|
| TENANT_NAME| varchar(128)| NO | The tenant name. |
| TENANT_TYPE| varchar(4)| NO | <ul><li> `SYS`: system tenant  </li><li> `USER`: user tenant </li><li>`META`: Meta tenant </li></ul> |
| CREATE_TIME| timestamp(6)| YES | The creation time of the tenant.|
| MODIFY_TIME| timestamp(6)| YES | The time when the information was last updated.|
| PRIMARY_ZONE| varchar(128)| YES | The primary zone of the tenant.|
| LOCALITY| varchar(4096)| NO | Information about the distribution of tenant replicas.|
| PREVIOUS_LOCALITY| varchar(4096)| NO | The previous locality information. <ul><li> If this value is valid, it indicates that the locality change is not completed.  </li><li> If this value is NULL, it indicates that no locality change has been performed.  </li></ul> |
| COMPATIBILITY_MODE| varchar(6)| NO | <ul><li>`MYSQL`: MySQL compatibility mode </li><li>`ORACLE`: Oracle compatibility mode</li></ul> |
| STATUS| varchar(64)| NO | The current status of the tenant. <ul><li>`NORMAL`: normal tenant</li><li>`RESTORE`: tenant being restored  </li><li>`CREATING`: tenant being created </li><li> `DROPPING`: tenant being dropped </li></ul>|
| IN_RECYCLEBIN| varchar(3)| NO | Whether the tenant is in the recycle bin. <ul><li>  `YES`: the tenant is in the recycle bin. </li><li> `NO`: the tenant is not in the recycle bin. </li></ul>|
| LOCKED| varchar(3)| NO | Whether the tenant is locked. <ul><li>  `YES`: the tenant is locked. </li><li>`NO`: the tenant is not locked.  </li></ul> The value of this column is affected by the `ALTER TENANT xxx LOCK&#124;UNLOCK` statement. |
| TENANT_ROLE| varchar(100) | NO | The cluster role. <ul><li>`PRIMARY`: primary tenant   </li><li>  `STANDBY`: standby tenant  </li><li> `RESTORE`: the tenant is being restored. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| SWITCHOVER_STATUS| varchar(100)| NO | The status of the SWITCHOVER operation. <ul><li>`NORMAL`: normal, not in the process of switching.   </li><li>`PREPARE SWITCHING TO PRIMARY`: preparing to switch to primary. </li><li> `SWITCHING TO PRIMARY`: switching to primary. </li><li>`PREPARE FLASHBACK`: preparing for Flashback. </li><li> `FLASHBACK`: in the process of Flashback. </li><li>`PREPARE SWITCHING TO STANDBY`: preparing to switch to standby. </li><li> `SWITCHING TO STANDBY`: switching to standby. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| SWITCHOVER_EPOCH| bigint(20)| NO | The unique identifier of the SWITCHOVER/FAILOVER operation. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| SYNC_SCN| bigint(20) unsigned| NO | The highest snapshot version that has been synchronized to the tenant. For system tenants and Meta tenants, this value is NULL. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| REPLAYABLE_SCN| bigint(20) unsigned| NO | The highest snapshot version that can be replayed on the tenant. For system tenants and Meta tenants, this value is NULL. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| READABLE_SCN| bigint(20) unsigned| NO | The highest snapshot version that can be read on the tenant. For system tenants and Meta tenants, this value is NULL. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| RECOVERY_UNTIL_SCN| bigint(20) unsigned| NO | The highest recovery point of the tenant. For system tenants and Meta tenants, this value is NULL. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| LOG_MODE| varchar(100)| NO | The ARCHIVELOG mode. <ul><li>  `ARCHIVELOG`: ARCHIVELOG mode is enabled. </li><li> `NOARCHIVELOG`: ARCHIVELOG mode is disabled. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| ARBITRATION_SERVICE_STATUS |  varchar(64)   | NO | The status of the arbitration service of the tenant. Valid values include:<ul><li>`ENABLING`: enabling.   </li><li> `ENABLED`: enabled. </li><li> `DISABLING`: disabling. </li><li>`DISABLED`: disabled. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| UNIT_NUM | bigint(20) | NO | The number of units in the zone.<main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.2.0. </p></main> |
| COMPATIBLE | varchar(65536) | NO | The compatibility version.<main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.2.0. </p></main> |
| MAX_LS_ID  | bigint(20)     | NO | The largest log stream ID that the tenant has ever had. For system tenants and Meta tenants, the value is 1. For user tenants, the value is the actual size. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.2.0. </p></main> |
| RESTORE_DATA_MODE  | varchar(128)     | NO | The mode for restoring data to the tenant. Valid values include:<ul><li>`NORMAL`: the tenant is normally created or restored by using full data. </li><li>`REMOTE`: the tenant is quickly restored and the data is in a remote reference state. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.3.3. </p></main> |

## Sample query

The system tenant queries the basic information of all tenants.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_OB_TENANTS\G
```

The query result is as follows:

```shell
*************************** 1. row ***************************
                 TENANT_ID: 1
               TENANT_NAME: sys
               TENANT_TYPE: SYS
               CREATE_TIME: 2024-08-08 10:27:32.402236
               MODIFY_TIME: 2024-08-08 10:27:32.402236
              PRIMARY_ZONE: RANDOM
                  LOCALITY: FULL{1}@zone1
         PREVIOUS_LOCALITY: NULL
        COMPATIBILITY_MODE: MYSQL
                    STATUS: NORMAL
             IN_RECYCLEBIN: NO
                    LOCKED: NO
               TENANT_ROLE: PRIMARY
         SWITCHOVER_STATUS: NORMAL
          SWITCHOVER_EPOCH: 0
                  SYNC_SCN: NULL
            REPLAYABLE_SCN: NULL
              READABLE_SCN: NULL
        RECOVERY_UNTIL_SCN: NULL
                  LOG_MODE: NOARCHIVELOG
ARBITRATION_SERVICE_STATUS: DISABLED
                  UNIT_NUM: 1
                COMPATIBLE: 4.3.2.1
                 MAX_LS_ID: 1
         RESTORE_DATA_MODE: NULL
*************************** 2. row ***************************
                 TENANT_ID: 1001
               TENANT_NAME: META$1002
               TENANT_TYPE: META
               CREATE_TIME: 2024-08-08 10:28:21.351229
               MODIFY_TIME: 2024-08-08 10:28:41.006972
              PRIMARY_ZONE: zone1
                  LOCALITY: FULL{1}@zone1
         PREVIOUS_LOCALITY: NULL
        COMPATIBILITY_MODE: MYSQL
                    STATUS: NORMAL
             IN_RECYCLEBIN: NO
                    LOCKED: NO
               TENANT_ROLE: PRIMARY
         SWITCHOVER_STATUS: NORMAL
          SWITCHOVER_EPOCH: 0
                  SYNC_SCN: NULL
            REPLAYABLE_SCN: NULL
              READABLE_SCN: NULL
        RECOVERY_UNTIL_SCN: NULL
                  LOG_MODE: NOARCHIVELOG
ARBITRATION_SERVICE_STATUS: DISABLED
                  UNIT_NUM: 1
                COMPATIBLE: 4.3.2.1
                 MAX_LS_ID: 1
         RESTORE_DATA_MODE: NULL
*************************** 3. row ***************************
                 TENANT_ID: 1002
               TENANT_NAME: mysql001
               TENANT_TYPE: USER
               CREATE_TIME: 2024-08-08 10:28:21.355856
               MODIFY_TIME: 2024-08-08 10:28:41.044814
              PRIMARY_ZONE: zone1
                  LOCALITY: FULL{1}@zone1
         PREVIOUS_LOCALITY: NULL
        COMPATIBILITY_MODE: MYSQL
                    STATUS: NORMAL
             IN_RECYCLEBIN: NO
                    LOCKED: NO
               TENANT_ROLE: PRIMARY
         SWITCHOVER_STATUS: NORMAL
          SWITCHOVER_EPOCH: 0
                  SYNC_SCN: 1723170391676016002
            REPLAYABLE_SCN: 1723170391676016002
              READABLE_SCN: 1723170391676016001
        RECOVERY_UNTIL_SCN: 4611686018427387903
                  LOG_MODE: NOARCHIVELOG
ARBITRATION_SERVICE_STATUS: DISABLED
                  UNIT_NUM: 1
                COMPATIBLE: 4.3.2.1
                 MAX_LS_ID: 1001
         RESTORE_DATA_MODE: NORMAL
*************************** 4. row ***************************
                 TENANT_ID: 1003
               TENANT_NAME: META$1004
               TENANT_TYPE: META
               CREATE_TIME: 2024-08-08 10:28:52.519229
               MODIFY_TIME: 2024-08-08 10:29:14.862212
              PRIMARY_ZONE: zone1
                  LOCALITY: FULL{1}@zone1
         PREVIOUS_LOCALITY: NULL
        COMPATIBILITY_MODE: MYSQL
                    STATUS: NORMAL
             IN_RECYCLEBIN: NO
                    LOCKED: NO
               TENANT_ROLE: PRIMARY
         SWITCHOVER_STATUS: NORMAL
          SWITCHOVER_EPOCH: 0
                  SYNC_SCN: NULL
            REPLAYABLE_SCN: NULL
              READABLE_SCN: NULL
        RECOVERY_UNTIL_SCN: NULL
                  LOG_MODE: NOARCHIVELOG
ARBITRATION_SERVICE_STATUS: DISABLED
                  UNIT_NUM: 1
                COMPATIBLE: 4.3.2.1
                 MAX_LS_ID: 1
         RESTORE_DATA_MODE: NULL
*************************** 5. row ***************************
                 TENANT_ID: 1004
               TENANT_NAME: oracle001
               TENANT_TYPE: USER
               CREATE_TIME: 2024-08-08 10:28:52.519229
               MODIFY_TIME: 2024-08-08 10:29:14.902080
              PRIMARY_ZONE: zone1
                  LOCALITY: FULL{1}@zone1
         PREVIOUS_LOCALITY: NULL
        COMPATIBILITY_MODE: ORACLE
                    STATUS: NORMAL
             IN_RECYCLEBIN: NO
                    LOCKED: NO
               TENANT_ROLE: PRIMARY
         SWITCHOVER_STATUS: NORMAL
          SWITCHOVER_EPOCH: 0
                  SYNC_SCN: 1723170391676016001
            REPLAYABLE_SCN: 1723170391676016001
              READABLE_SCN: 1723170391676016001
        RECOVERY_UNTIL_SCN: 4611686018427387903
                  LOG_MODE: NOARCHIVELOG
ARBITRATION_SERVICE_STATUS: DISABLED
                  UNIT_NUM: 1
                COMPATIBLE: 4.3.2.1
                 MAX_LS_ID: 1001
         RESTORE_DATA_MODE: NORMAL
5 rows in set
```

## References

[Types of tenants](../../../../600.manage/200.tenant-management/300.tenant-type.md)