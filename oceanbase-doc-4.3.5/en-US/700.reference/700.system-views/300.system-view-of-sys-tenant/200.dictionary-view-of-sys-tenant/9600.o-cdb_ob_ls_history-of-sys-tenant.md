|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# oceanbase.CDB_OB_LS_HISTORY

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced in V4.2.0. </p>
</main>

## Purpose

You can query this view only in the sys tenant. The view displays all the log streams that have existed in all tenants.

## Columns

| Column | Type | Nullable? | Description |
| --- | --- | --- | --- |
| TENANT_ID   | bigint(20)    | NO          |  The ID of the tenant.                                   |
| LS_ID       | bigint(20)    | NO          |  The ID of the log stream.                                 |
| LS_GROUP_ID | bigint(20)    | NO          |  The ID of the log stream group.                               |
| STATUS      | varchar(100)  | NO          |  The current status of the log stream.  <ul><li>CREATING: The log stream is being created. </li><li>NORMAL: The normal status of a log stream. </li><li>DROPPING: The log stream is being dropped. </li><li>PRE_TENANT_DROPPING: A special status of a system log stream, indicating the start of dropping all log streams in the tenant. </li><li>TENANT_DROPPING: The log stream is being dropped when the tenant is being deleted. </li><li>DROPPED: The log stream has been recycled or is being recycled. </li><li>WAIT_OFFLINE: The log stream is waiting to be recycled. </li><li>CREATE_ABORT: The log stream creation is stopped. </li></ul>        |
| FLAG        | varchar(2048) | NO          |  The log stream flag.  <ul><li>Empty: A normal log stream. </li><li> DUPLICATE: A broadcast log stream. A replica table is created on this log stream. </li> <li>BLOCK_TABLET_IN: Tablets cannot be created on this log stream. </li> <li>DUPLICATE\|BLOCK_TABLET_IN: A broadcast log stream on which Tablets cannot be created. </li></ul>                        |
| CREATE_SCN  | decimal(20,0) | NO          |  The GTS at which the log stream was created, in nanoseconds.              |

## Sample query

The following example shows how to query all the log streams that have existed in all tenants from the sys tenant.

```sshell
obclient [oceanbase]> SELECT * FROM oceanbase.CDB_OB_LS_HISTORY;
```

The query result is as follows:

```shell
+-----------+-------+-------------+--------+------+---------------------+
| TENANT_ID | LS_ID | LS_GROUP_ID | STATUS | FLAG | CREATE_SCN          |
+-----------+-------+-------------+--------+------+---------------------+
|         1 |     1 |           0 | NORMAL |      |                   0 |
|      1001 |     1 |           0 | NORMAL |      |                   0 |
|      1002 |     1 |           0 | NORMAL |      |                   0 |
|      1002 |  1001 |        1001 | NORMAL |      | 1736152420990131001 |
|      1003 |     1 |           0 | NORMAL |      |                   0 |
|      1004 |     1 |           0 | NORMAL |      |                   0 |
|      1004 |  1001 |        1001 | NORMAL |      | 1736152507462028000 |
|      1009 |     1 |           0 | NORMAL |      |                   0 |
|      1010 |     1 |           0 | NORMAL |      |                   0 |
|      1010 |  1001 |        1001 | NORMAL |      | 1736315563386701001 |
|      1015 |     1 |           0 | NORMAL |      |                   0 |
|      1016 |     1 |           0 | NORMAL |      |                   0 |
|      1016 |  1001 |        1001 | NORMAL |      | 1736152420990131001 |
+-----------+-------+-------------+--------+------+---------------------+
13 rows in set
```