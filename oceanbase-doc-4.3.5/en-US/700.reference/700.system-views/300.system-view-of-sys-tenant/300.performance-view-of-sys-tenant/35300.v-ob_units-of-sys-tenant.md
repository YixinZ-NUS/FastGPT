|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# V$OB_UNITS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

This view displays the Unit information of the current OBServer node.

## Columns

|       Column       |      Type      | Nullable? | Description |
|------------------|--------------|------------|-------------------------------------------------------------------------|
| SVR_IP           | varchar(46)  | NO         | The IP address of the server.                                                              |
| SVR_PORT         | bigint(20)   | NO         | The port of the server.                                                                 |
| UNIT_ID          | bigint(20)   | NO         | The ID of the Unit.                                                                |
| TENANT_ID        | bigint(20)   | NO         | The ID of the tenant to which the Unit belongs.                                                          |
| ZONE             | varchar(128) | NO         | The name of the zone.                                                                |
| ZONE_TYPE | varchar(128) | NO | The zone type of the zone where the Unit is located. Valid values include:<ul><li>`NULL`: indicates that the value of this column is invalid. This value may appear for a short period of time after an OBServer node is restarted. </li> <li>`ReadWrite`: read-write zone</li> <li>`Encryption`: encryption zone</li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This field was introduced in V4.2.0. </p></main> |
| REGION | varchar(128) | NO | The name of the region to which the zone where the Unit is located belongs. The default value is `default_region`. Valid values include `NULL`: indicates that the value of this column is invalid. This value may appear for a short period of time after an OBServer node is restarted. <main id="notice" type='explain'><h4>Note</h4><p>This field was introduced in V4.2.0. </p></main> |
| MAX_CPU          | double       | NO         | The upper limit of the CPU specifications.                                                               |
| MIN_CPU          | double       | NO         | The lower limit of the CPU specifications.                                                               |
| MEMORY_SIZE      | bigint(20)   | NO         | The memory size in bytes.                                                           |
| MAX_IOPS         | bigint(20)   | NO         | The upper limit of the disk IOPS specifications.                                                           |
| MIN_IOPS         | bigint(20)   | NO         | The lower limit of the disk IOPS specifications.                                                           |
| IOPS_WEIGHT      | bigint(20)   | NO         | The IOPS weight. |
| MAX_NET_BANDWIDTH| bigint(20)   | YES        | The maximum network bandwidth of the Unit in bytes. <main id="notice" type='explain'><h4>Note</h4><p>This field was introduced in V4.3.4. </p></main> |
| NET_BANDWIDTH_WEIGHT |bigint(20)| YES        | The network bandwidth weight of the Unit. <main id="notice" type='explain'><h4>Note</h4><p>This field was introduced in V4.3.4. </p></main>  |
| LOG_DISK_SIZE    | bigint(20)   | NO         | The size of the log disk in bytes.  |
| LOG_DISK_IN_USE  | bigint(20)   | NO         | The size of the log disk in use in bytes.                                                               |
| DATA_DISK_SIZE   | bigint(20)   | YES        | <ul><li>The size of the local cache that the Unit can use, in bytes. This field is applicable only in shared storage (Shared-Storage, SS) mode. </li> <li>In standalone (Shared-Nothing, SN) mode, the value of this field is `NULL`, indicating that the value is undefined. In this case, the system allows the Unit to compete for disk space from other tenants. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This field was introduced in V4.3.4. </p></main>     |
| DATA_DISK_IN_USE | bigint(20)   | NO         | <ul><li>In SS mode, the size of the local cache used by the Unit, in bytes. </li> <li>In SN mode, the size of the data disk used by the Unit, in bytes. </li></ul>                    |
| STATUS           | varchar(64)  | NO         | The status of the Unit. <li> `NORMAL`: normal status   <li> `MIGRATING IN`: migrating in   <li> `MIGRATING OUT`: migrating out   <li> `MARK DELETING`: marked for deletion<li>`WAIT GC`: waiting for GC data <li>`DELETING`: data has been GC'd, and is being deleted <li> `ERROR`: error status  |
| CREATE_TIME      | timestamp(6) | NO         | The time when the Unit was created on the OBServer node.                                                 |

## Sample query

The following example shows how to query the Unit information of all user tenants in the current OBServer node in standalone (Shared-Nothing, SN) mode.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_UNITS\G
```

The query result is as follows:

```shell
*************************** 1. row ***************************
              SVR_IP: 172.xx.xxx.xxx
            SVR_PORT: 2882
             UNIT_ID: 1
           TENANT_ID: 1
                ZONE: zone1
           ZONE_TYPE: ReadWrite
              REGION: default_region
             MAX_CPU: 4
             MIN_CPU: 4
         MEMORY_SIZE: 5368709120
            MAX_IOPS: 9223372036854775807
            MIN_IOPS: 9223372036854775807
         IOPS_WEIGHT: 4
   MAX_NET_BANDWIDTH: 9223372036854775807
NET_BANDWIDTH_WEIGHT: 4
       LOG_DISK_SIZE: 9663676416
     LOG_DISK_IN_USE: 2964278798
      DATA_DISK_SIZE: NULL
    DATA_DISK_IN_USE: 97017856
              STATUS: NORMAL
         CREATE_TIME: 2024-10-30 10:57:36.445269
*************************** 2. row ***************************
              SVR_IP: 172.xx.xxx.xxx
            SVR_PORT: 2882
             UNIT_ID: 1001
           TENANT_ID: 1001
                ZONE: zone1
           ZONE_TYPE: ReadWrite
              REGION: default_region
             MAX_CPU: NULL
             MIN_CPU: NULL
         MEMORY_SIZE: 1073741824
            MAX_IOPS: NULL
            MIN_IOPS: NULL
         IOPS_WEIGHT: NULL
   MAX_NET_BANDWIDTH: NULL
NET_BANDWIDTH_WEIGHT: NULL
       LOG_DISK_SIZE: 1932735283
     LOG_DISK_IN_USE: 1480671367
      DATA_DISK_SIZE: NULL
    DATA_DISK_IN_USE: 72187904
              STATUS: NORMAL
         CREATE_TIME: 2024-10-30 10:59:25.305248
*************************** 3. row ***************************
              SVR_IP: 172.xx.xxx.xxx
            SVR_PORT: 2882
             UNIT_ID: 1001
           TENANT_ID: 1002
                ZONE: zone1
           ZONE_TYPE: ReadWrite
              REGION: default_region
             MAX_CPU: 2
             MIN_CPU: 2
         MEMORY_SIZE: 5368709120
            MAX_IOPS: 9223372036854775807
            MIN_IOPS: 9223372036854775807
         IOPS_WEIGHT: 2
   MAX_NET_BANDWIDTH: 9223372036854775807
NET_BANDWIDTH_WEIGHT: 2
       LOG_DISK_SIZE: 17394617549
     LOG_DISK_IN_USE: 1731127928
      DATA_DISK_SIZE: NULL
    DATA_DISK_IN_USE: 26578944
              STATUS: NORMAL
         CREATE_TIME: 2024-10-30 10:59:25.305248
*************************** 4. row ***************************
              SVR_IP: 172.xx.xxx.xxx
            SVR_PORT: 2882
             UNIT_ID: 1002
           TENANT_ID: 1003
                ZONE: zone1
           ZONE_TYPE: ReadWrite
              REGION: default_region
             MAX_CPU: NULL
             MIN_CPU: NULL
         MEMORY_SIZE: 1073741824
            MAX_IOPS: NULL
            MIN_IOPS: NULL
         IOPS_WEIGHT: NULL
   MAX_NET_BANDWIDTH: NULL
NET_BANDWIDTH_WEIGHT: NULL
       LOG_DISK_SIZE: 1932735283
     LOG_DISK_IN_USE: 1482198905
      DATA_DISK_SIZE: NULL
    DATA_DISK_IN_USE: 70107136
              STATUS: NORMAL
         CREATE_TIME: 2024-10-30 11:00:07.614632
*************************** 5. row ***************************
              SVR_IP: 172.xx.xxx.xxx
            SVR_PORT: 2882
             UNIT_ID: 1002
           TENANT_ID: 1004
                ZONE: zone1
           ZONE_TYPE: ReadWrite
              REGION: default_region
             MAX_CPU: 2
             MIN_CPU: 2
         MEMORY_SIZE: 5368709120
            MAX_IOPS: 9223372036854775807
            MIN_IOPS: 9223372036854775807
         IOPS_WEIGHT: 2
   MAX_NET_BANDWIDTH: 9223372036854775807
NET_BANDWIDTH_WEIGHT: 2
       LOG_DISK_SIZE: 17394617549
     LOG_DISK_IN_USE: 1749092883
      DATA_DISK_SIZE: NULL
    DATA_DISK_IN_USE: 29081600
              STATUS: NORMAL
         CREATE_TIME: 2024-10-30 11:00:07.614632
5 rows in set
```

## References

* [GV$OB_UNITS](4800.gv-ob_units-of-sys-tenant.md)

* [View tenant and resource information](../../../../600.manage/200.tenant-management/600.common-tenant-operations/400.view-tenant-information.md)
