|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# V$OB_QUERY_RESPONSE_TIME_HISTOGRAM

<main id="notice" type='explain'>
<h4>Note</h4>
<ul><li>For V4.3.x, this view was introduced in V4.3.5. </li> <li>For V4.2.1, this view was introduced in V4.2.1 BP7. For V4.2.x other than V4.2.1, this view was introduced in V4.2.5. </li></ul>
</main>

## Purpose

The `V$OB_QUERY_RESPONSE_TIME_HISTOGRAM` view is used to query the histogram information of the current node's query execution time of all tenants.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
| ------------ | -------- | ------------------ | -------- |
| SVR_IP        | varchar(46)   | NO   | The IP address of the node.     |
| SVR_PORT      | bigint(20)    | NO   | The port number of the node.     |
| TENANT_ID     | bigint(20)    | NO   | The tenant ID.     |
| SQL_TYPE      | varchar(128)  | NO   | The statement type of the query statement. Valid values include:<ul><li>SELECT</li><li>INSERT</li><li>UPDATE</li><li>DELETE</li><li>REPLACE</li><li>COMMIT</li><li>OTHER</li><li>INNER SQL</li><li>TABLEAPI SELECT</li><li>TABLEAPI INSERT</li><li>TABLEAPI DELETE</li><li>TABLEAPI UPDATE</li><li>TABLEAPI REPLACE</li><li>TABLEAPI QUERY AND MUTATE</li><li>TABLEAPI OTHER</li><li>HBASE SCAN</li><li>HBASE PUT</li><li>HBASE DELETE</li><li>HBASE APPEND</li><li>HBASE INCREMENT</li><li>HBASE CHECK AND PUT</li><li>HBASE CHECK AND DELETE</li><li>HBASE HYBRID BATCH</li></ul>     |
| RESPONSE_TIME | decimal(24,6) | NO   | The interval value of the response time, in seconds.     |
| COUNT         | bigint(20)    | NO   | The number of records in the interval.     |
| TOTAL         | decimal(24,6) | NO   | The total time of the records in the interval, in seconds.     |

## Sample query

The following example queries the histogram information of the current node's query execution time of all tenants.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_QUERY_RESPONSE_TIME_HISTOGRAM LIMIT 2\G;
```

The sample result is as follows:

```shell
*************************** 1. row ***************************
       SVR_IP: xx.xx.xx.xx
     SVR_PORT: 2882
    TENANT_ID: 1
     SQL_TYPE: SELECT
RESPONSE_TIME: 0.000001
        COUNT: 0
        TOTAL: 0.000000
*************************** 2. row ***************************
       SVR_IP: xx.xx.xx.xx
     SVR_PORT: 2882
    TENANT_ID: 1
     SQL_TYPE: SELECT
RESPONSE_TIME: 0.000010
        COUNT: 0
        TOTAL: 0.000000
2 rows in set
```

The following example queries the histogram information of the current node's query execution time of all tenants of the `TABLEAPI SELECT` type.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_QUERY_RESPONSE_TIME_HISTOGRAM WHERE SQL_TYPE = "TABLEAPI SELECT" LIMIT 2\G;
```

The sample result is as follows:

```shell
*************************** 1. row ***************************
       SVR_IP: 172.xx.xxx.xxx
     SVR_PORT: 2882
    TENANT_ID: 1
     SQL_TYPE: TABLEAPI SELECT
RESPONSE_TIME: 0.000001
        COUNT: 0
        TOTAL: 0.000000
*************************** 2. row ***************************
       SVR_IP: 172.xx.xxx.xxx
     SVR_PORT: 2882
    TENANT_ID: 1
     SQL_TYPE: TABLEAPI SELECT
RESPONSE_TIME: 0.000010
        COUNT: 0
        TOTAL: 0.000000
2 rows in set
```

## References

[GV$OB_QUERY_RESPONSE_TIME_HISTOGRAM](3050.gv-ob_query_response_time_histogram-of-sys-tenant.md)