|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# GV$SQL_WORKAREA_HISTOGRAM

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V2.2.77. </p>
</main>

## Purpose

The `GV$SQL_WORKAREA_HISTOGRAM` view displays the cumulative execution statistics of all workareas, such as the total number of fully in-memory executions that consumed 1 MB to 2 MB of memory and the number of executions in one pass mode.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
|------------------------|------------|----------------|------------------------------------------|
| LOW_OPTIMAL_SIZE | bigint(20) | NO | The minimum memory for the workarea in optimal mode. |
| HIGH_OPTIMAL_SIZE | bigint(20) | NO | The maximum memory for the workarea in optimal mode. |
| OPTIMAL_EXECUTIONS | bigint(20) | NO | The number of executions in optimal mode in the workarea with a memory size between values of `LOW_OPTIMAL_SIZE` and `HIGH_OPTIMAL_SIZE`. |
| ONEPASS_EXECUTIONS | bigint(20) | NO | The number of executions in one pass mode in the workarea with a memory size between values of `LOW_OPTIMAL_SIZE` and `HIGH_OPTIMAL_SIZE`. |
| MULTIPASSES_EXECUTIONS | bigint(20) | NO | The number of executions in multipasses mode in the workarea with a memory size between values of `LOW_OPTIMAL_SIZE` and `HIGH_OPTIMAL_SIZE`. |
| TOTAL_EXECUTIONS | bigint(20) | NO | The total number of executions in the workarea. |
| CON_ID | bigint(20) | NO | The ID of the tenant. |
| SVR_IP | varchar(46) | NO | The IP address of the OBServer node. |
| SVR_PORT | bigint(20) | NO | The port number of the OBServer node. |

## Sample query

In the sys tenant, query the statistics of all workareas executed on all nodes for the tenant with ID `1002`, and display the first 10 records.

```shell
obclient[oceanbase]> SELECT * FROM oceanbase.GV$SQL_WORKAREA_HISTOGRAM WHERE CON_ID=1002 LIMIT 10;
```

The query result is as follows:

```shell
+------------------+-------------------+--------------------+--------------------+------------------------+------------------+--------+----------------+----------+
| LOW_OPTIMAL_SIZE | HIGH_OPTIMAL_SIZE | OPTIMAL_EXECUTIONS | ONEPASS_EXECUTIONS | MULTIPASSES_EXECUTIONS | TOTAL_EXECUTIONS | CON_ID | SVR_IP         | SVR_PORT |
+------------------+-------------------+--------------------+--------------------+------------------------+------------------+--------+----------------+----------+
|                0 |           1048576 |              11993 |                  0 |                      0 |            11993 |   1002 | 172.xx.xxx.xxx |     2882 |
|          1048576 |           2097152 |                  0 |                  0 |                      0 |                0 |   1002 | 172.xx.xxx.xxx |     2882 |
|          2097152 |           3145728 |                 11 |                  0 |                      0 |               11 |   1002 | 172.xx.xxx.xxx |     2882 |
|          3145728 |           4194304 |                  0 |                  0 |                      0 |                0 |   1002 | 172.xx.xxx.xxx |     2882 |
|          4194304 |           5242880 |                  0 |                  0 |                      0 |                0 |   1002 | 172.xx.xxx.xxx |     2882 |
|          5242880 |           6291456 |                  0 |                  0 |                      0 |                0 |   1002 | 172.xx.xxx.xxx |     2882 |
|          6291456 |           7340032 |                  0 |                  0 |                      0 |                0 |   1002 | 172.xx.xxx.xxx |     2882 |
|          7340032 |           8388608 |                  0 |                  0 |                      0 |                0 |   1002 | 172.xx.xxx.xxx |     2882 |
|          8388608 |           9437184 |                 11 |                  0 |                      0 |               11 |   1002 | 172.xx.xxx.xxx |     2882 |
|          9437184 |          10485760 |                  0 |                  0 |                      0 |                0 |   1002 | 172.xx.xxx.xxx |     2882 |
+------------------+-------------------+--------------------+--------------------+------------------------+------------------+--------+----------------+----------+
10 rows in set
```