|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# V$OB_SERVERS

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

This view displays information about the current OBServer node.

## Columns

|          Column           |      Type      | Nullable? | Description |
|-------------------------|--------------|------------|--------------------------------------------------------------|
| SVR_IP                  | varchar(46)  | NO         | IP address of the server.                    |
| SVR_PORT                | bigint(20)   | NO         | Port number of the server.                       |
| ZONE                    | varchar(128) | NO         | Name of the zone.                      |
| SQL_PORT                | bigint(20)   | NO         | SQL port.                       |
| CPU_CAPACITY            | bigint(20)   | NO         | Total CPU capacity of the node.        |
| CPU_CAPACITY_MAX        | double       | NO         | Overcommitted CPU capacity of the node. It is calculated using the `resource_hard_limit` parameter: `CPU_CAPACITY_MAX =  CPU_CAPACITY * resource_hard_limit`.                                                                   |
| CPU_ASSIGNED            | double       | NO         | Number of CPUs assigned to the OBServer node. This value is the sum of the `MIN_CPU` specifications of all units on the OBServer node. The following constraint applies: `CPU_ASSIGNED <= CPU_CAPACITY`.                |
| CPU_ASSIGNED_MAX        | double       | NO         | Upper limit on the number of CPUs assigned to the OBServer node. This value is the sum of the `MAX_CPU` specifications of all units on the OBServer node. The following constraint applies: `CPU_ASSIGNED_MAX <= CPU_CAPACITY_MAX`.       |
| MEM_CAPACITY            | bigint(20)   | NO         | Total memory size available for tenant allocation on the OBServer node, in bytes. The value is calculated using the formula `memory_limit - system_memory`.           |
| MEM_ASSIGNED            | bigint(20)   | NO         | Memory size assigned to the OBServer node, in bytes. This value is the sum of the `MEMORY_SIZE` specifications of all units on the OBServer node. The following constraint applies: `MEM_ASSIGNED <= MEM_CAPACITY`.                 |
| LOG_DISK_CAPACITY      | bigint(20)   | NO         | Total size of the log disk, in bytes.                      |
| LOG_DISK_ASSIGNED      | bigint(20)   | NO         | Size of the log disk assigned to the OBServer node, in bytes. This value is the sum of the `LOG_DISK_SIZE` specifications of all units on the OBServer node.         |
| LOG_DISK_IN_USE         | bigint(20)   | NO         | Size of the log disk used by the OBServer node, in bytes.                                                                              |
| DATA_DISK_CAPACITY      | bigint(20)   | NO         | <ul><li>In shared storage (SS) mode, the total size of local cache space on the OBServer node, which is the upper limit of the sum of the `DATA_DISK_SIZE` specifications of all units on the OBServer node, in bytes. </li> <li>In shared nothing (SN) mode, the total size of data disk space on the OBServer node, in bytes. </li></ul>      |
| DATA_DISK_ASSIGNED      | bigint(20)   | YES        | <ul><li>In shared storage (SS) mode, the local cache size allocated to units on the OBServer node, which is the sum of the `DATA_DISK_SIZE` specifications of all units on the OBServer node, in bytes. </li> <li>In shared nothing (SN) mode, the value of this field is `NULL`, indicating that the disk space of other tenants is allowed to be used. </li></ul><main id="notice" type='explain'><h4>Note</h4><p>This field was introduced in V4.3.3. </p></main>    |
| DATA_DISK_IN_USE        | bigint(20)   | NO         | <ul><li>In shared storage (SS) mode, the local cache size used by the OBServer node, which is the sum of the `DATA_DISK_IN_USE` values of all units on the OBServer node, in bytes. </li> <li>In shared nothing (SN) mode, the data disk size used by the OBServer node, in bytes. </li></ul>    |
| DATA_DISK_HEALTH_STATUS | varchar(20)  | NO         | Health status of the data disk. <li> `NORMAL`: Normal.   <li> `WARNING`: Abnormal.   <li> `ERROR`: Error.    |
| MEMORY_LIMIT            | bigint(20)  | NO         | Total memory size available on the OBServer node, in bytes.    |
| DATA_DISK_ALLOCATED     | bigint(20)   | NO         | <ul><li>In shared nothing (SN) mode, the data disk size allocated to the OBServer node, in bytes. </li> <li>In shared storage (SS) mode, the value of this field is equal to the value of the `DATA_DISK_CAPACITY` field, indicating that the entire space is available. </li></ul><main id="notice" type='explain'><h4>Note</h4><p>This field was introduced in V4.2.0. </p></main>    |
| DATA_DISK_ABNORMAL_TIME | timestamp(6) | NO         | Time when the data disk last entered the `WARNING` or `ERROR` state.                                                                              |
| SSL_CERT_EXPIRED_TIME   | timestamp(6) | NO |The time when the SSL certificate used by the current OBServer node when SSL is enabled expires, in UTC time, in microseconds. |
| SS_DATA_DISK_OPERATION_SUGGESTED | varchar(32) | YES  | <ul><li>In SS mode, this field provides suggestions for scaling operations on the local cache disk in shared storage:<ul><li>`NONE`: No operation</li><li>`EXPAND`: Expand</li><li>`SHRINK`: Shrink</li></ul></li><li>In SN mode, the value of this field is `NULL`.</li></ul><main id="notice" type='explain'><h4>Note</h4><p>For OceanBase Database V4.3.5, this field is introduced starting from V4.3.5 BP2.</p></main> |
| SS_DATA_DISK_SIZE_SUGGESTED      | bigint(20)  | YES  | <ul><li>In SS mode, this field indicates the suggested value for the local disk capacity, in bytes. If the value is `0`, users can decide the expansion size for each machine themselves; if the value is non-zero, it is recommended to ensure that the local disk capacity after expansion is greater than or equal to the current suggested value.</li><li>In SN mode, the value of this field is `NULL`.</li></ul><main id="notice" type='explain'><h4>Note</h4><p>For OceanBase Database V4.3.5, this field is introduced starting from V4.3.5 BP2.</p></main> |

## Sample query

* View information about the current node in SN mode.

  ```shell
  obclient> SELECT * FROM oceanbase.V$OB_SERVERS\G
  ```

  The query result is as follows:

  ```shell
  *************************** 1. row ***************************
                            SVR_IP: 172.xx.xxx.xxx
                          SVR_PORT: 2882
                              ZONE: zone1
                          SQL_PORT: 2881
                      CPU_CAPACITY: 64
                  CPU_CAPACITY_MAX: 64
                      CPU_ASSIGNED: 8
                  CPU_ASSIGNED_MAX: 8
                      MEM_CAPACITY: 75161927680
                      MEM_ASSIGNED: 18253611008
                 LOG_DISK_CAPACITY: 179583320064
                 LOG_DISK_ASSIGNED: 56103010304
                   LOG_DISK_IN_USE: 1140850688
                DATA_DISK_CAPACITY: 179593805824
                DATA_DISK_ASSIGNED: NULL
                  DATA_DISK_IN_USE: 174063616
           DATA_DISK_HEALTH_STATUS: NORMAL
                      MEMORY_LIMIT: 107374182400
               DATA_DISK_ALLOCATED: 179593805824
           DATA_DISK_ABNORMAL_TIME: NULL
             SSL_CERT_EXPIRED_TIME: NULL
  SS_DATA_DISK_OPERATION_SUGGESTED: NULL
       SS_DATA_DISK_SIZE_SUGGESTED: NULL
  1 row in set
  ```

* View information about the current node in SS mode.

  ```shell
  obclient> SELECT * FROM oceanbase.V$OB_SERVERS\G
  ```

  The query result is as follows:

  ```shell
  *************************** 1. row ***************************
                            SVR_IP: 11.xxx.xx.xx
                          SVR_PORT: 41703
                              ZONE: zone1
                          SQL_PORT: 41702
                      CPU_CAPACITY: 8
                  CPU_CAPACITY_MAX: 8
                      CPU_ASSIGNED: 6
                  CPU_ASSIGNED_MAX: 6
                      MEM_CAPACITY: 7516192768
                      MEM_ASSIGNED: 5368709120
                 LOG_DISK_CAPACITY: 22548578304
                 LOG_DISK_ASSIGNED: 9663676416
                   LOG_DISK_IN_USE: 939524096
                DATA_DISK_CAPACITY: 105226698752
                DATA_DISK_ASSIGNED: 10737418240
                  DATA_DISK_IN_USE: 5393171248
           DATA_DISK_HEALTH_STATUS: NORMAL
                      MEMORY_LIMIT: 8589934592
               DATA_DISK_ALLOCATED: 107374182400
           DATA_DISK_ABNORMAL_TIME: NULL
             SSL_CERT_EXPIRED_TIME: NULL
  SS_DATA_DISK_OPERATION_SUGGESTED: NONE
       SS_DATA_DISK_SIZE_SUGGESTED: 0
  1 row in set
  ```

## References

* View information about all OBServer nodes: [GV$OB_SERVERS](3200.gv-ob_servers-of-sys-tenant.md)

* For more information about operations and considerations, see [View an OBServer node](../../../../600.manage/100.cluster-management/300.common-cluster-operations/200.view-an-observer.md).