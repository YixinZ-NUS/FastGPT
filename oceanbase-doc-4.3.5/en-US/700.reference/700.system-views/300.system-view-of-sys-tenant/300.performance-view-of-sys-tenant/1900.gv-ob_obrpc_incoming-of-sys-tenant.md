|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# GV$OB_RPC_INCOMING

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

The `GV$OB_RPC_INCOMING` view displays RPC receiving statistics on all OBServer nodes.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
|----------------|--------------|----------------|-----------------------|
| TENANT_ID | bigint(20) | NO | The ID of the tenant. |
| SVR_IP | varchar(46) | NO | The IP address of the OBServer node. |
| SVR_PORT | bigint(20) | NO | The port number of the OBServer node. |
| PCODE | bigint(20) | NO | The RPC packet code. |
| PCODE_NAME | varchar(256) | NO | The name of the RPC packet code. |
| COUNT | bigint(20) | NO | The number of received RPC requests of this type. |
| TOTAL_SIZE | bigint(20) | NO | The total amount of data received. |
| NET_TIME | bigint(20) | NO | The network time used. |
| WAIT_TIME | bigint(20) | NO | The amount of time elapsed from when the request was received to when the request entered the queue. |
| QUEUE_TIME | bigint(20) | NO | The wait time of the request in the queue. |
| PROCESS_TIME | bigint(20) | NO | The amount of time spent on processing the request. |
| LAST_TIMESTAMP | timestamp(6) | NO | The time of the last update. |
| DCOUNT | bigint(20) | NO | The number of RPC requests of each Pcode type in every 30 seconds. |

## Sample query

In the system tenant, query which RPC requests received by all nodes have a wait time in the queue greater than 1s.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_RPC_INCOMING WHERE QUEUE_TIME > 1000000;
```

The query result is as follows:

```shell
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
| TENANT_ID | SVR_IP         | SVR_PORT | PCODE | PCODE_NAME                      | COUNT   | TOTAL_SIZE | NET_TIME  | WAIT_TIME | QUEUE_TIME | PROCESS_TIME | LAST_TIMESTAMP             | DCOUNT |
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
|         1 | 11.xxx.xxx.xxx |    28825 |   258 | OB_RENEW_LEASE                  |  306874 |   76314597 |  20163204 |    696730 |    9425447 |     33434476 | 2025-03-26 16:22:43.917489 |      0 |
|         1 | 11.xxx.xxx.xxx |    28825 |   338 | OB_SEND_HEARTBEAT               |  306860 |   15343000 |  21254930 |   4276271 |    8569451 |     24276019 | 2025-03-26 16:22:44.236982 |      3 |
|         1 | 11.xxx.xxx.xxx |    28825 |  1038 | OB_FETCH_LOCATION               |  224001 |    4713338 |  15095409 |   2397956 |    5837069 |     11811210 | 2025-03-26 16:22:44.397261 |      2 |
|         1 | 11.xxx.xxx.xxx |    28825 |  1193 | OB_GET_LEADER_LOCATIONS         |  613630 |   18408900 |  42295996 |   8598746 |   16620823 |     64095872 | 2025-03-26 16:22:43.742037 |      5 |
|         1 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 1227758 |  180480492 |  99522490 |  18787956 |   34740755 |    120760631 | 2025-03-26 16:22:43.975146 |      9 |
|         1 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 1227758 |  365874240 |  82747408 |  14994296 |   27144128 |     31334235 | 2025-03-26 16:22:43.975250 |      9 |
|      1001 | 11.xxx.xxx.xxx |    28825 |  4614 | OB_RUN_DBMS_SCHED_JOB           |     702 |      55986 |     49278 |      9038 |    1172440 |     94751962 | 2025-03-26 16:08:04.686070 |      0 |
|      1001 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 1227572 |  180453150 |  87781527 |  20049535 |   34159154 |    117470948 | 2025-03-26 16:22:44.237022 |     10 |
|      1001 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 1227572 |  365816440 |  76664574 |  16094835 |   26853621 |     30914552 | 2025-03-26 16:22:44.237088 |     10 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  1859 | OB_GET_LS_REPLAYED_SCN          | 1219060 |   29257440 |  72219918 |  15306464 |   34899882 |     85006603 | 2025-03-26 16:22:44.349079 |     10 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  1861 | OB_UPDATE_TENANT_INFO_CACHE     |  609532 |   59734136 |  43227543 |   7945354 |   16210685 |     14021513 | 2025-03-26 16:22:43.928497 |      5 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 2455084 |  362125008 | 186218848 |  39163620 |   70178218 |    229418999 | 2025-03-26 16:22:44.377677 |     20 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 2455084 |  732842544 | 159451811 |  31382775 |   54337777 |     60775158 | 2025-03-26 16:22:44.377791 |     20 |
|      1003 | 11.xxx.xxx.xxx |    28825 |  4614 | OB_RUN_DBMS_SCHED_JOB           |     702 |      55986 |     60024 |      9886 |    1240180 |     99072125 | 2025-03-26 16:08:34.652085 |      0 |
|      1003 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 1227512 |  180444330 | 100050078 |  20398761 |   34558877 |    121607852 | 2025-03-26 16:22:44.146332 |     10 |
|      1003 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 1227512 |  365798560 |  82928897 |  16499629 |   27029811 |     31407496 | 2025-03-26 16:22:44.146418 |     10 |
|      1004 | 11.xxx.xxx.xxx |    28825 |  1859 | OB_GET_LS_REPLAYED_SCN          | 1219009 |   29256216 |  72046522 |  15661554 |   34813448 |     84732101 | 2025-03-26 16:22:44.349082 |     10 |
|      1004 | 11.xxx.xxx.xxx |    28825 |  1861 | OB_UPDATE_TENANT_INFO_CACHE     |  609507 |   59731686 |  43685934 |   8149581 |   16198383 |     14009600 | 2025-03-26 16:22:43.726243 |      5 |
|      1004 | 11.xxx.xxx.xxx |    28825 |  4614 | OB_RUN_DBMS_SCHED_JOB           |   54972 |    4452851 |   3664697 |    743254 |    3563926 |    619374152 | 2025-03-26 16:22:37.014636 |      0 |
|      1004 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 2454964 |  362107308 | 171766749 |  37379363 |   70939173 |    217164128 | 2025-03-26 16:22:44.277055 |     20 |
|      1004 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 2454964 |  732806724 | 147824530 |  30756912 |   54575710 |     58949224 | 2025-03-26 16:22:44.277169 |     20 |
|      1005 | 11.xxx.xxx.xxx |    28825 |  4614 | OB_RUN_DBMS_SCHED_JOB           |     673 |      53668 |     44489 |      8723 |    1081054 |     88757221 | 2025-03-26 16:10:03.362899 |      0 |
|      1005 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 1176936 |  173009658 |  90567797 |  19884419 |   33818637 |    114121129 | 2025-03-26 16:22:44.200226 |     10 |
|      1005 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 1176936 |  350726912 |  76542916 |  15993416 |   26316239 |     29833048 | 2025-03-26 16:22:44.200300 |     10 |
|      1006 | 11.xxx.xxx.xxx |    28825 |  1859 | OB_GET_LS_REPLAYED_SCN          | 1168802 |   28051248 |  68706422 |  15235736 |   33723751 |     81220904 | 2025-03-26 16:22:44.349658 |     10 |
|      1006 | 11.xxx.xxx.xxx |    28825 |  1861 | OB_UPDATE_TENANT_INFO_CACHE     |  584404 |   57271592 |  41848250 |   7927764 |   15726673 |     13654634 | 2025-03-26 16:22:44.210422 |      5 |
|      1006 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 2353810 |  347187094 | 159581563 |  37762616 |   68218945 |    217075164 | 2025-03-26 16:22:44.388062 |     19 |
|      1006 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 2353810 |  702612256 | 139530713 |  30824765 |   52433403 |     57517393 | 2025-03-26 16:22:44.388127 |     19 |
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
28 rows in set
```

## References

* [V$OB_RPC_INCOMING](32300.v-ob_obrpc_incoming-of-sys-tenant.md) displays the RPC statistics received by the current node for all tenants.

* [GV$OB_RPC_OUTGOING](2000.gv-ob_obrpc_outgoing-of-sys-tenant.md) displays the PRC statistics sent by all nodes for all tenants.