|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# GV$OB_FUNCTION_IO_STAT

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view was introduced in OceanBase Database V4.3.4.</p>
</main>

## Purpose

This view displays the I/O statistics at the function level for all tenants on all OBServer nodes. When the resource group corresponding to a background task at the function level is not enabled for resource management plans, the displayed I/O information is provided only as a reference and the corresponding resources cannot be limited.

## Columns

| Column |  Type  | Nullable? | Description |
|-------------|-----------|----------|-------------|
| SVR_IP | varchar(46) | NO | The IP address of the server. |
| SVR_PORT | bigint(20) | NO | The port of the server. |
| TENANT_ID | bigint(20) | NO | The ID of the tenant. |
| FUNCTION_NAME | varchar(32) | NO | The name of the background task corresponding to the function. <ul><li>`COMPACTION_HIGH`: mini merge and DDL KV merge tasks</li> <li>`HA_HIGH`: high-priority high-reliability tasks such as replication, rebuild, and restore</li> <li>`COMPACTION_MID`: minor merge tasks</li> <li>`HA_MID`: medium-priority high-reliability tasks such as migration tasks</li> <li>`COMPACTION_LOW`: major merge tasks</li> <li>`HA_LOW`: low-priority high-reliability tasks such as backup and backup cleanup</li> <li>`DDL`: tasks in scenarios such as unique index verification and column deletion and data restoration</li> <li>`DDL_HIGH`: DDL MemTable dump tasks</li> <li>`CLOG_LOW`: physical standby and CDC read tasks</li> <li>`CLOG_MID`: follower read shared storage, log archive read local disk, and other tasks</li> <li>`CLOG_HIGH`: clog write local disk, clog file upload shared storage, and follower read local disk tasks</li> <li>`GC_MACRO_BLOCK`: macro block recycling and reuse tasks</li> <li>`OPT_STATS`: statistics collection tasks</li> <li>`IMPORT`: import tasks</li> <li>`SQL_AUDIT`: SQL audit log write tasks</li> <li>`DEFAULT_FUNCTION`: other background tasks other than those defined above</li></ul>    |
| MODE | varchar(32) | NO | The read/write mode of the I/O (remote requests for shared storage, and local requests for other types of requests): <ul><li>`LOCAL READ`: local read</li> <li>`LOCAL WRITE`: local write</li> <li>`REMOTE READ`: remote read</li> <li>`REMOTE WRITE`: remote write</li></ul>    |
| SIZE | bigint(20) | NO | The average I/O size. |
| REAL_IOPS | bigint(20) | NO | The actual IOPS. |
| REAL_MBPS | bigint(20) | NO | The actual bandwidth in MB/s. |
| SCHEDULE_US | bigint(20) | NO | The average time consumed for I/O scheduling in us. |
| IO_DELAY_US | bigint(20) | NO | The average time consumed for disk I/O in us. |
| TOTAL_US | bigint(20) | NO | The overall average time consumed for I/O in us. |

## Sample query

The following example queries the I/O statistics at the function level for all tenants on all OBServer nodes in the sys tenant.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_FUNCTION_IO_STAT LIMIT 5;
```

The query result is as follows:

```shell
+----------------+----------+-----------+------------------+--------------+------+-----------+-----------+-------------+-------------+----------+
| SVR_IP         | SVR_PORT | TENANT_ID | FUNCTION_NAME    | MODE         | SIZE | REAL_IOPS | REAL_MBPS | SCHEDULE_US | IO_DELAY_US | TOTAL_US |
+----------------+----------+-----------+------------------+--------------+------+-----------+-----------+-------------+-------------+----------+
| 172.xx.xxx.xxx |     2882 |         0 | DEFAULT_FUNCTION | LOCAL READ   |    0 |         0 |         0 |           0 |           0 |        0 |
| 172.xx.xxx.xxx |     2882 |         0 | DEFAULT_FUNCTION | LOCAL WRITE  |    0 |         0 |         0 |           0 |           0 |        0 |
| 172.xx.xxx.xxx |     2882 |         0 | DEFAULT_FUNCTION | REMOTE READ  |    0 |         0 |         0 |           0 |           0 |        0 |
| 172.xx.xxx.xxx |     2882 |         0 | DEFAULT_FUNCTION | REMOTE WRITE |    0 |         0 |         0 |           0 |           0 |        0 |
| 172.xx.xxx.xxx |     2882 |         0 | COMPACTION_HIGH  | LOCAL READ   |    0 |         0 |         0 |           0 |           0 |        0 |
+----------------+----------+-----------+------------------+--------------+------+-----------+-----------+-------------+-------------+----------+
5 rows in set
```

## References

* To view the function-level IO statistics of all tenants on the current OBServer node, query the [V$OB_FUNCTION_IO_STAT](31110.v-ob_function_io_stat-of-sys-tenant.md) view.

* To view the real-time status of a resource group, query the following views:

  * [GV$OB_GROUP_IO_STAT](920.gv-ob_group_io_stat-of-sys-tenant.md)

  * [V$OB_GROUP_IO_STAT](31120.v-ob_group_io_stat-of-sys-tenant.md)

* For more information about resource isolation, see the following topics:

  * [Configure resource isolation in a tenant (MySQL mode)](../../../../600.manage/200.tenant-management/600.common-tenant-operations/300.resource-isolation/300.resource-isolation-of-mysql-mode/200.resource-isolation-at-user-level-of-mysql-mode.md)

  * [Configure resource isolation in a tenant (Oracle mode)](../../../../600.manage/200.tenant-management/600.common-tenant-operations/300.resource-isolation/200.resource-isolation-of-oracle-mode/200.resource-isolation-at-user-level-of-oracle-mode.md)