|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# DBA_OB_RESTORE_PROGRESS

## Purpose

This view displays information about ongoing restore tasks.

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Columns

| Column | Type | Nullable? | Description |
| --- | --- | --- | --- |
| JOB_ID | NUMBER(38) | NO | The job ID of the restore task. |
| RESTORE_TENANT_NAME | VARCHAR2(4096) | NO | The name of the tenant to be restored. |
| RESTORE_TENANT_ID | NUMBER(38) | NO | The ID of the tenant to be restored. |
| BACKUP_TENANT_NAME | VARCHAR2(4096) | NO | The name of the source tenant from which the backup is taken. |
| BACKUP_TENANT_ID | VARCHAR2(4096) | NO | The ID of the source tenant from which the backup is taken. |
| BACKUP_CLUSTER_NAME | VARCHAR2(4096) | NO | The name of the source cluster from which the backup is taken. |
| BACKUP_DEST | VARCHAR2(4096) | NO | The path of the backup set, which is the path where the user specifies for data backup and log archiving. |
| RESTORE_OPTION | VARCHAR2(4096) | NO | The restore option specified when the restore task is initiated. |
| RESTORE_SCN | NUMBER(38) | NO | The restore SCN specified by the user. |
| RESTORE_SCN_DISPLAY | TIMESTAMP(9) | NO | The timestamp of the restore SCN specified by the user. |
| STATUS | VARCHAR2(4096) | NO | The restore status. For restore tasks of the system tenant and the tenant to be restored, the restore statuses are different.<br>For the system tenant: <ul><li> `CREATE_TENANT` : Create a tenant. During this phase, the system tenant creates the tenant to be restored. </li> <li> `WAIT_TENANT_RESTORE_FINISH` : Wait for the restore of the tenant to be completed. </li> <li> `RESTORE_SUCCESS` : The restore of the tenant is successful. </li> <li> `RESTORE_FAIL` : The restore of the tenant fails. </li></ul> <br>For the tenant to be restored: <ul><li> `RESTORE_PRE` : Preparations for restore. If encryption is enabled, encryption information is set. </li> <li> `RESTORE_CREATE_INIT_LS` : Create a log stream. </li> <li> `RESTORE_WAIT_LS` : Wait for the restore of the log stream to be completed. </li> <li> `POST_CHECK` : Check the tenant roles and convert the tenant to a standby tenant. </li> <li> `UPGRADE` : Upgrade. If cross-version restore is performed, the tenant will go through the upgrade process. </li> <li> `RESTORE_SUCCESS` : The restore is successful. </li> <li> `RESTORE_FAIL` : The restore fails. </li></ul> |
| START_TIMESTAMP | VARCHAR2(256) | NO | The timestamp when the restore task started. |
| BACKUP_SET_LIST | VARCHAR2(4096) | NO | The list of paths of data backup sets required for restore, separated by commas. For example: `file:///data/nfs/backup/data/backup_set_1_full,file:///data/nfs/backup/data/backup_set_2_inc`   |
| BACKUP_PIECE_LIST | VARCHAR2(4096) | NO | The list of paths of log archive pieces required for restore, separated by commas. For example: `file:///data/nfs/backup/archive/2_1_2,file:///data/nfs/backup/archive/2_1_3`  |
| TOTAL_BYTES          | NUMBER(38)     | NO   | The total number of bytes to be restored. |
| TOTAL_BYTES_DISPLAY  | VARCHAR2(42)   | NO   | The total number of bytes to be restored, in storage capacity units. |
| FINISH_BYTES         | NUMBER(38)     | NO   | The number of bytes restored. |
| FINISH_BYTES_DISPLAY | VARCHAR2(42)   | NO   | The total number of bytes restored, in storage capacity units. |
| DESCRIPTION          | VARCHAR2(4096) | NO   | The `DESCRIPTION` information specified in the restore command. |
| RESTORE_TYPE                      | varchar(4096)            |  NO   |The restore type.<ul> <li>`FULL`: full restore</li> <li> `QUICK`: quick restore</li></ul>   |
| RECOVER_SCN                      | BIGINT(20) unsigned          |  NO   |The log recover SCN.   |
| RECOVER_SCN_DISPLAY                      | DATETIME(6)          |  NO   |The timestamp of the log recover SCN.   |
| RECOVER_PROGRESS                      | DECIMAL(6, 2)          |  NO   |The log recover progress, retained to two decimal places. For example, `87.65` indicates that the current progress is 87.65%.  |
| TABLET_COUNT                      | BIGINT(20)          |  NO   |The total number of tablets to be restored.   |
| FINISH_TABLET_COUNT                      | BIGINT(20)          |  NO   |The total number of restored tablets.   |
| RESTORE_PROGRESS                      | DECIMAL(6, 2)          |  NO   |The data restore progress, retained to two decimal places. For example, `87.65` indicates that the current progress is 87.65%.   |