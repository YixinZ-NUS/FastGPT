|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# USER_AUDIT_STATEMENT

<main id="notice" >
<h4>Applicability</h4>
<p>This view applies only to OceanBase Database in Oracle mode. </p>
</main>

## Purpose

The  `USER_AUDIT_STATEMENT` view displays the audit trail entries of `GRANT`, `REVOKE`, `AUDIT`, `NOAUDIT`, and `ALTER SYSTEM` statements issued by the current user.

  <main id="notice" >
    <h4>Applicability</h4>
    <p>This view is only applicable to the Oracle-compatible mode of OceanBase Database.</p>
  </main>

## Columns

|      **Column**      |           **Type**            | **Nullable?** |                         **Description**                         |
|--------------------|-----------------------------|-----------|--------------------------------------------------------|
| OS_USERNAME        | VARCHAR2(255)               | NO        | Not supported. The field is NULL by default.             |
| USERNAME           | VARCHAR2(64)                | NO        | The name of the user whose actions are audited.                                            |
| USERHOST           | VARCHAR2(32)                | NO        | Not supported. The field is NULL by default.                        |
| TERMINAL           | VARCHAR2(255)               | NO        | Not supported. The field is NULL by default.                       |
| TIMESTAMP          | DATE                        | NO        | The date and time when the audit trail entry is created in the local time zone of the database session.                              |
| OWNER              | VARCHAR2(64)                | YES       | The creator of the object affected by the action.                                           |
| OBJ_NAME           | VARCHAR2(256)               | YES       | The name of the object affected by the action.                                            |
| ACTION_NAME        | VARCHAR2(128)               | NO        | The name of the action corresponding to the numeric code in the action column of the DBA_AUDIT_TRAIL view.                 |
| NEW_NAME           | VARCHAR2(256)               | YES       | The new name of the object after a RENAME or the name of the base object.                              |
| OBJ_PRIVILEGE      | VARCHAR2(255)               | NO        | The object privilege granted or revoked by a GRANT or REVOKE statement.                  |
| SYS_PRIVILEGE      | VARCHAR2(255)               | NO        | The system privilege granted or revoked by a GRANT or REVOKE statement.                  |
| ADMIN_OPTION       | VARCHAR2(1)                 | NO        | Indicates whether the role or system privilege is granted with the ADMIN option.                        |
| GRANTEE            | VARCHAR2(128)               | NO        | The name of the grantor specified in the GRANT or REVOKE statement.                       |
| AUDIT_OPTION       | VARCHAR2(40)                | NO        | The audit option set with the audit statement.                                  |
| SES_ACTIONS        | VARCHAR2(19)                | NO        | Not supported. The field is NULL by default.                           |
| COMMENT_TEXT       | VARCHAR2(65536)             | YES       | The text comment on the audit trail, inserted by the application.                                     |
| SESSIONID          | NUMBER(38)                  | NO        | For V4.3.x:<ul><li>Before V4.3.5 BP2:<br>In all connection modes (direct mode/ODP mode), this field indicates the server session ID.</li><li>V4.3.5 BP2 and later versions:<ul><li>In direct mode:<br>This field indicates the server session ID.</li><li>In ODP mode:<ul><li>When the ODP parameter <code>client_session_id_version = 2</code> is set, this field indicates the client session ID.</li><li>When <code>client_session_id_version = 1</code>, this field indicates the server session ID.</li></ul></li></ul></li></ul>                                                |
| ENTRYID            | NUMBER(38)                  | NO        | The numeric ID of each audit trail entry in the session.                                      |
| STATEMENTID        | NUMBER(38)                  | NO        | The numeric ID of each statement.                                             |
| RETURNCODE         | NUMBER(38)                  | NO        | The error code generated by the operation.                                              |
| PRIV_USED          | VARCHAR2(40)                | NO        | Not supported. The field is NULL by default.                    |
| CLIENT_ID          | VARCHAR2(40)                | NO        | Not supported. The field is NULL by default.                     |
| ECONTEXT_ID        | VARCHAR2(40)                | NO        | Not supported. The field is NULL by default.                   |
| SESSION_CPU        | NUMBER(38)                  | NO        | The CPU time used by the session.                                           |
| EXTENDED_TIMESTAMP | TIMESTAMP(6) WITH TIME ZONE | NO        | The timestamp when the audit trail entry is created in the UTC time zone.                                  |
| PROXY_SESSIONID    | NUMBER(38)                  | NO        | The sequence number of the proxy session.                                                |
| GLOBAL_UID         | NUMBER(38)                  | NO        | The global user ID of the user.                                             |
| INSTANCE_NUMBER    | VARCHAR2(40)                | NO        | Not supported. The field is NULL by default. |
| OS_PROCESS         | VARCHAR2(40)                | NO        | Not supported. The field is NULL by default.                   |
| TRANSACTIONID      | VARCHAR2(128)               | NO        | The transaction ID of the transaction that accesses or modifies the object.                                       |
| SCN                | NUMBER(38)                  | NO        | Not supported. The field is 0 by default.                   |
| SQL_BIND           | VARCHAR2(2000)              | YES       | Not supported. The field is NULL by default.                      |
| SQL_TEXT           | VARCHAR2(2000)              | YES       | The SQL text of the query.                                             |
| OBJ_EDITION_NAME   | VARCHAR2(128)               | NO        | Not supported. The field is NULL by default.                  |

## Sample query

Query audit trail entries for `GRANT`, `REVOKE`, `AUDIT`, `NOAUDIT`, and `ALTER SYSTEM` statements issued by the current user.

```shell
obclient [SYS]> SELECT USERNAME, USERHOST, TIMESTAMP, ACTION_NAME, SQL_TEXT FROM SYS.USER_AUDIT_STATEMENT;
```

The query result is as follows:

```shell
+----------+----------------+-----------+--------------+---------------------------------+
| USERNAME | USERHOST       | TIMESTAMP | ACTION_NAME  | SQL_TEXT                        |
+----------+----------------+-----------+--------------+---------------------------------+
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | ALTER SYSTEM | SET GLOBAL event_scheduler = ON |
+----------+----------------+-----------+--------------+---------------------------------+
1 row in set
```

## References

Query audit trail entries for statements such as `GRANT`, `REVOKE`, and `AUDIT` across the entire database: [DBA_AUDIT_STATEMENT](7100.dba_audit_statement-of-oracle-mode.md)
