| description ||
|---|---|
| keywords ||
| dir-name ||
| dir-name-en ||
| tenant-type | Oracle Mode |
|machine-translation||

# DBA_PART_HISTOGRAMS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V3.2.1. </p>
</main>

## Purpose

The `DBA_PART_HISTOGRAMS` view displays the histograms on partitions of the current tenant.

## Columns

| Column | Type | Nullable? | Description |
|---------------------------|----------------|------------|---------------|
| OWNER | VARCHAR2(128) | NO | The owner of the histogram. |
| TABLE_NAME | VARCHAR2(128) | NO | The name of the table where the histogram belongs. |
| PARTITION_NAME | VARCHAR2(128) | NO | The name of the partition where the histogram belongs. |
| COLUMN_NAME | VARCHAR2(128) | NO | The name of the column where the histogram belongs. |
| ENDPOINT_NUMBER | NUMBER | NO | The number of bucket accumulations. |
| ENDPOINT_VALUE | NUMBER | NO | The normalized endpoint value of the bucket. |
| ENDPOINT_ACTUAL_VALUE | VARCHAR2(4000) | NO | The endpoint value of the bucket. |
| ENDPOINT_ACTUAL_VALUE_RAW | VARCHAR2(4000) | NO | The binary endpoint value of the bucket. |
| ENDPOINT_REPEAT_COUNT | NUMBER | NO | The number of times that the endpoint value of the bucket appears. |

## Sample query

Query the histogram information of the first-level partitions of the partitioned table `T_SUBPART` in the current tenant.

```shell
obclient [SYS]> SELECT * FROM SYS.DBA_PART_HISTOGRAMS WHERE TABLE_NAME ='T_SUBPART';
```

The query result is as follows:

```shell
+-------+------------+----------------+-------------+-----------------+----------------+-----------------------+---------------------------+-----------------------+
| OWNER | TABLE_NAME | PARTITION_NAME | COLUMN_NAME | ENDPOINT_NUMBER | ENDPOINT_VALUE | ENDPOINT_ACTUAL_VALUE | ENDPOINT_ACTUAL_VALUE_RAW | ENDPOINT_REPEAT_COUNT |
+-------+------------+----------------+-------------+-----------------+----------------+-----------------------+---------------------------+-----------------------+
| SYS   | T_SUBPART  | P3             | QUANTITY    |             200 |           NULL | 1000                  | 1000                      |                     2 |
| SYS   | T_SUBPART  | P3             | QUANTITY    |             198 |           NULL | 1                     | 1                         |                   198 |
| SYS   | T_SUBPART  | P3             | ID          |             200 |           NULL | 999                   | 999                       |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |             180 |           NULL | 9                     | 9                         |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |             160 |           NULL | 8                     | 8                         |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |             140 |           NULL | 7                     | 7                         |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |             120 |           NULL | 6                     | 6                         |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |             100 |           NULL | 5                     | 5                         |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |              80 |           NULL | 4                     | 4                         |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |              60 |           NULL | 3                     | 3                         |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |              40 |           NULL | 2                     | 2                         |                    20 |
| SYS   | T_SUBPART  | P3             | ID          |              20 |           NULL | 1                     | 1                         |                    20 |
| SYS   | T_SUBPART  | P2             | QUANTITY    |             300 |           NULL | 1000                  | 1000                      |                     3 |
| SYS   | T_SUBPART  | P2             | QUANTITY    |             297 |           NULL | 1                     | 1                         |                   297 |
| SYS   | T_SUBPART  | P2             | ID          |             300 |           NULL | 999                   | 999                       |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |             270 |           NULL | 9                     | 9                         |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |             240 |           NULL | 8                     | 8                         |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |             210 |           NULL | 7                     | 7                         |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |             180 |           NULL | 6                     | 6                         |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |             150 |           NULL | 5                     | 5                         |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |             120 |           NULL | 4                     | 4                         |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |              90 |           NULL | 3                     | 3                         |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |              60 |           NULL | 2                     | 2                         |                    30 |
| SYS   | T_SUBPART  | P2             | ID          |              30 |           NULL | 1                     | 1                         |                    30 |
| SYS   | T_SUBPART  | P1             | QUANTITY    |             500 |           NULL | 1000                  | 1000                      |                     5 |
| SYS   | T_SUBPART  | P1             | QUANTITY    |             495 |           NULL | 1                     | 1                         |                   495 |
| SYS   | T_SUBPART  | P1             | ID          |             500 |           NULL | 999                   | 999                       |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |             450 |           NULL | 9                     | 9                         |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |             400 |           NULL | 8                     | 8                         |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |             350 |           NULL | 7                     | 7                         |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |             300 |           NULL | 6                     | 6                         |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |             250 |           NULL | 5                     | 5                         |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |             200 |           NULL | 4                     | 4                         |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |             150 |           NULL | 3                     | 3                         |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |             100 |           NULL | 2                     | 2                         |                    50 |
| SYS   | T_SUBPART  | P1             | ID          |              50 |           NULL | 1                     | 1                         |                    50 |
+-------+------------+----------------+-------------+-----------------+----------------+-----------------------+---------------------------+-----------------------+
36 rows in set
```

## References related to this topic

* [ALL_PART_HISTOGRAMS](2600.all_part_histograms-of-oracle-mode.md): describes the histograms of the first-level partitions of all partitioned tables accessible to the current user.

* [USER_PART_HISTOGRAMS](28000.user_part_histograms-of-oracle-mode.md): describes the histograms of the first-level partitions of all partitioned tables owned by the current user.

* Histogram statistics of tables: query the following views:

  * [ALL_TAB_HISTOGRAMS](5000.all_tab_histograms-of-oracle-mode.md)
  * [DBA_TAB_HISTOGRAMS](21100.dba_tab_histograms-of-oracle-mode.md)
  * [USER_TAB_HISTOGRAMS](30700.user_tab_histograms-of-oracle-mode.md)

* Histogram statistics of subpartitions: query the following views:

  * [ALL_SUBPART_HISTOGRAMS](4200.all_subpart_histograms-of-oracle-mode.md)
  * [DBA_SUBPART_HISTOGRAMS](20200.dba_subpart_histograms-of-oracle-mode.md)
  * [USER_SUBPART_HISTOGRAMS](29800.user_subpart_histograms-of-oracle-mode.md)

* Column statistics of tables: query the following views:

  * [ALL_TAB_STATISTICS](5400.all_tab_statistics-of-oracle-mode.md)
  * [DBA_TAB_STATISTICS](21500.dba_tab_statistics-of-oracle-mode.md)
  * [USER_TAB_STATISTICS](31100.user_tab_statistics-of-oracle-mode.md)

* Global column statistics: query the following views:

  * [ALL_TAB_COL_STATISTICS](4600.all_tab_col_statistics-of-oracle-mode.md)
  * [DBA_TAB_COL_STATISTICS](20700.dba_tab_col_statistics-of-oracle-mode.md)
  * [USER_TAB_COL_STATISTICS](30300.user_tab_col_statistics-of-oracle-mode.md)

* Column statistics of partitions: query the following views:

  * [ALL_PART_COL_STATISTICS](2500.all_part_col_statistics-of-oracle-mode.md)
  * [DBA_PART_COL_STATISTICS](17100.dba_part_col_statistics-of-oracle-mode.md)
  * [USER_PART_COL_STATISTICS](27900.user_part_col_statistics-of-oracle-mode.md)

* Column statistics of subpartitions: query the following views:

  * [ALL_SUBPART_COL_STATISTICS](4100.all_subpart_col_statistics-of-oracle-mode.md)
  * [DBA_SUBPART_COL_STATISTICS](20100.dba_subpart_col_statistics-of-oracle-mode.md)
  * [USER_SUBPART_COL_STATISTICS](29700.user_subpart_col_statistics-of-oracle-mode.md)

* Index statistics: query the following views:

  * [ALL_IND_STATISTICS](1700.all_ind_statistics-of-oracle-mode.md)
  * [DBA_IND_STATISTICS](8600.dba_ind_statistics-of-oracle-mode.md)
  * [USER_IND_STATISTICS](26600.user_ind_statistics-of-oracle-mode.md)

* For more information about how to collect statistics, see the following topics:

  * [Manually collect statistics](../../../1000.performance-tuning-guide/500.sql-optimization/400.sql-optimization/400.optimizer-statistics/200.statistics-collection-methods/300.collect-statistics-manually.md)

  * [Automatically collect statistics](../../../1000.performance-tuning-guide/500.sql-optimization/400.sql-optimization/400.optimizer-statistics/200.statistics-collection-methods/400.collect-statistics-automatically.md)