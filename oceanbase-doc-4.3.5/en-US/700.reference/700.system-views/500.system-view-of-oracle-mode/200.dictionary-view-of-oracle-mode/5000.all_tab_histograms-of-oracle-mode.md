|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# ALL_TAB_HISTOGRAMS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view was introduced in V3.2.1. </p>
</main>

## Purpose

This view displays the table-level histogram information of all tables accessible to the current user.

  <main id="notice" >
    <h4>Applicability</h4>
    <p>This view is applicable only to OceanBase Database in Oracle mode. </p>
  </main>

## Columns

|           Column            |       Type       | Nullability |      Description       |
|---------------------------|----------------|------------|---------------|
| OWNER                     | VARCHAR2(128)  | NO         | The user to which the histogram belongs.      |
| TABLE_NAME                | VARCHAR2(128)  | NO         | The name of the table to which the histogram belongs.       |
| COLUMN_NAME               | VARCHAR2(128)  | NO         | The name of the column to which the histogram belongs.       |
| ENDPOINT_NUMBER           | NUMBER         | NO         | The cumulative frequency of the bucket. |
| ENDPOINT_VALUE            | NUMBER         | NO         | The normalized endpoint value of the bucket. |
| ENDPOINT_ACTUAL_VALUE     | VARCHAR2(4000) | NO         | The endpoint value of the bucket.    |
| ENDPOINT_ACTUAL_VALUE_RAW | VARCHAR2(4000) | NO         | The binary endpoint value of the bucket. |
| ENDPOINT_REPEAT_COUNT     | NUMBER         | NO         | The frequency of the endpoint value of the bucket. |
| SCOPE                     | VARCHAR2(7)    | YES        | The scope of the histogram.       |

## Sample query

Query the table-level histogram information of all tables accessible to the current user for the `T_SUBPART` table.

```shell
obclient [SYS]> SELECT * FROM SYS.ALL_TAB_HISTOGRAMS WHERE TABLE_NAME='T_SUBPART';
```

The query result is as follows:

```shell
+-------+------------+-------------+-----------------+----------------+-----------------------+---------------------------+-----------------------+-------+
| OWNER | TABLE_NAME | COLUMN_NAME | ENDPOINT_NUMBER | ENDPOINT_VALUE | ENDPOINT_ACTUAL_VALUE | ENDPOINT_ACTUAL_VALUE_RAW | ENDPOINT_REPEAT_COUNT | SCOPE |
+-------+------------+-------------+-----------------+----------------+-----------------------+---------------------------+-----------------------+-------+
| SYS   | T_SUBPART  | C1          |               1 |           NULL | 0                     | 0F053F0080000000          |                     1 | NULL  |
| SYS   | T_SUBPART  | C1          |            2501 |           NULL | 2500                  | 0F053F00C0000001C4090000  |                     1 | NULL  |
| SYS   | T_SUBPART  | C1          |            5001 |           NULL | 5000                  | 0F053F00C000000188130000  |                     1 | NULL  |
| SYS   | T_SUBPART  | C1          |            7501 |           NULL | 7500                  | 0F053F00C00000014C1D0000  |                     1 | NULL  |
| SYS   | T_SUBPART  | C1          |           10000 |           NULL | 9999                  | 0F053F00C00000010F270000  |                     1 | NULL  |
| SYS   | T_SUBPART  | C2          |              10 |           NULL | 0                     | 0F053F0080000000          |                    10 | NULL  |
| SYS   | T_SUBPART  | C2          |            2510 |           NULL | 250                   | 0F053F00C0000001FA000000  |                    10 | NULL  |
| SYS   | T_SUBPART  | C2          |            5010 |           NULL | 500                   | 0F053F00C0000001F4010000  |                    10 | NULL  |
| SYS   | T_SUBPART  | C2          |            7510 |           NULL | 750                   | 0F053F00C0000001EE020000  |                    10 | NULL  |
| SYS   | T_SUBPART  | C2          |           10000 |           NULL | 999                   | 0F053F00C0000001E7030000  |                    10 | NULL  |
| SYS   | T_SUBPART  | C3          |               5 |           NULL | 0                     | 0F053F0080000000          |                     5 | NULL  |
| SYS   | T_SUBPART  | C3          |            2505 |           NULL | 500                   | 0F053F00C0000001F4010000  |                     5 | NULL  |
| SYS   | T_SUBPART  | C3          |            5005 |           NULL | 1000                  | 0F053F00C0000001E8030000  |                     5 | NULL  |
| SYS   | T_SUBPART  | C3          |            7505 |           NULL | 1500                  | 0F053F00C0000001DC050000  |                     5 | NULL  |
| SYS   | T_SUBPART  | C3          |           10000 |           NULL | 1999                  | 0F053F00C0000001CF070000  |                     5 | NULL  |
+-------+------------+-------------+-----------------+----------------+-----------------------+---------------------------+-----------------------+-------+
15 rows in set
```

## References

* View the table-level histogram statistics for all tables of the current tenant: [DBA_TAB_HISTOGRAMS](21100.dba_tab_histograms-of-oracle-mode.md)

* View the table-level histogram statistics for all tables owned by the current user: [USER_TAB_HISTOGRAMS](30700.user_tab_histograms-of-oracle-mode.md)

* View the histogram statistics at the partition level by querying the following views:

  * [ALL_PART_HISTOGRAMS](2600.all_part_histograms-of-oracle-mode.md)
  * [DBA_PART_HISTOGRAMS](17200.dba_part_histograms-of-oracle-mode.md)
  * [USER_PART_HISTOGRAMS](28000.user_part_histograms-of-oracle-mode.md)

* View the histogram statistics at the subpartition level by querying the following views:

  * [ALL_SUBPART_HISTOGRAMS](4200.all_subpart_histograms-of-oracle-mode.md)
  * [DBA_SUBPART_HISTOGRAMS](20200.dba_subpart_histograms-of-oracle-mode.md)
  * [USER_SUBPART_HISTOGRAMS](29800.user_subpart_histograms-of-oracle-mode.md)

* View the column-level statistics at the table level by querying the following views:

  * [ALL_TAB_STATISTICS](5400.all_tab_statistics-of-oracle-mode.md)
  * [DBA_TAB_STATISTICS](21500.dba_tab_statistics-of-oracle-mode.md)
  * [USER_TAB_STATISTICS](31100.user_tab_statistics-of-oracle-mode.md)

* View the column-level statistics at the global level by querying the following views:

  * [ALL_TAB_COL_STATISTICS](4600.all_tab_col_statistics-of-oracle-mode.md)
  * [DBA_TAB_COL_STATISTICS](20700.dba_tab_col_statistics-of-oracle-mode.md)
  * [USER_TAB_COL_STATISTICS](30300.user_tab_col_statistics-of-oracle-mode.md)

* View the column-level statistics at the partition level by querying the following views:

  * [ALL_PART_COL_STATISTICS](2500.all_part_col_statistics-of-oracle-mode.md)
  * [DBA_PART_COL_STATISTICS](17100.dba_part_col_statistics-of-oracle-mode.md)
  * [USER_PART_COL_STATISTICS](27900.user_part_col_statistics-of-oracle-mode.md)

* View the column-level statistics at the subpartition level by querying the following views:

  * [ALL_SUBPART_COL_STATISTICS](4100.all_subpart_col_statistics-of-oracle-mode.md)
  * [DBA_SUBPART_COL_STATISTICS](20100.dba_subpart_col_statistics-of-oracle-mode.md)
  * [USER_SUBPART_COL_STATISTICS](29700.user_subpart_col_statistics-of-oracle-mode.md)

* View the index statistics by querying the following views:

  * [ALL_IND_STATISTICS](1700.all_ind_statistics-of-oracle-mode.md)
  * [DBA_IND_STATISTICS](8600.dba_ind_statistics-of-oracle-mode.md)
  * [USER_IND_STATISTICS](26600.user_ind_statistics-of-oracle-mode.md)

* For more information about how to collect statistics, see the following topics:

  * [Manually collect statistics](../../../1000.performance-tuning-guide/500.sql-optimization/400.sql-optimization/400.optimizer-statistics/200.statistics-collection-methods/300.collect-statistics-manually.md)

  * [Automatically collect statistics](../../../1000.performance-tuning-guide/500.sql-optimization/400.sql-optimization/400.optimizer-statistics/200.statistics-collection-methods/400.collect-statistics-automatically.md)