|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# DBA_OB_TENANTS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

This view displays the basic information of tenants.

* When you query this view from the system tenant, information about all tenants, including system tenants, user tenants, and Meta tenants, is displayed. You can use the `TENANT_TYPE` column to identify the tenant type.
* When you query this view from a user tenant, information about only the current tenant is displayed.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
| --- | --- | --- | --- |
| TENANT_ID | NUMBER(38) | NO | Tenant ID. Valid values: <ul><li> 1: ID of the system tenant. </li><li> Other values: ID of a user tenant or Meta tenant. </li></ul> |
| TENANT_NAME | VARCHAR2(128) | NO | Tenant name. |
| TENANT_TYPE | VARCHAR2(4) | NO | <ul><li> `SYS`: system tenant.  </li><li> `USER`: user tenant. </li><li>`META`: Meta tenant. </li></ul> |
| CREATE_TIME | TIMESTAMP(6) WITH LOCAL TIME ZONE | NO | Tenant creation time. |
| MODIFY_TIME | TIMESTAMP(6) WITH LOCAL TIME ZONE | NO | Information update time. |
| PRIMARY_ZONE | VARCHAR2(128) | YES | Primary zone of the tenant. |
| LOCALITY | VARCHAR2(4096) | YES | Information about the tenant's replicas. |
| PREVIOUS_LOCALITY | VARCHAR2(4096) | YES | Information about the tenant's replicas before the locality change was completed. Valid values: <ul><li> If this value is valid, the locality change is not completed. </li><li> NULL indicates that no locality change has been performed. </li></ul> |
| COMPATIBILITY_MODE | VARCHAR2(6) | NO | <ul><li>`MYSQL`: MySQL compatibility mode. </li><li>`ORACLE`: Oracle compatibility mode. </li></ul> |
| STATUS | VARCHAR2(64) | NO | Current status of the tenant. Valid values: <ul><li>`NORMAL`: normal tenant. </li><li>`RESTORE`: tenant being restored. </li><li>`CREATING`: tenant being created. </li><li> `DROPPING`: tenant being dropped. </li></ul>|
| IN_RECYCLEBIN | VARCHAR2(3) | NO | Whether the tenant is in the recycle bin. Valid values: <ul><li>`YES`: the tenant is in the recycle bin. </li><li> `NO`: the tenant is not in the recycle bin. </li></ul>|
| LOCKED | VARCHAR2(3) | NO | Whether the tenant is locked. Valid values: <ul><li>`YES`: the tenant is locked. </li><li>`NO`: the tenant is not locked.  </li></ul> The value of this column can be modified by using the `ALTER TENANT xxx LOCK&#124;UNLOCK` statement. |
| TENANT_ROLE | VARCHAR2(100) | NO | Cluster role. Valid values: <ul><li>`PRIMARY`: primary tenant.   </li><li>  `STANDBY`: standby tenant.  </li><li> `RESTORE`: tenant being restored. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| SWITCHOVER_STATUS | VARCHAR2(100) | NO | Status of the switchover. Valid values: <ul><li> `SWITCHING TO PRIMARY`: standby to primary status. </li><li>`PREPARE FLASHBACK`: prepare flashback status. </li><li>`FLASHBACK`: flashback status. </li><li>`PREPARE SWITCHING TO STANDBY`: prepare primary to standby status. </li><li> `SWITCHING TO STANDBY`: primary to standby status. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| SWITCHOVER_EPOCH | NUMBER | NO | Unique identifier for a switchover or failover. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| SYNC_SCN | NUMBER | NO | The latest snapshot version synchronized to the tenant. This column is meaningless for system tenants and Meta tenants and displays NULL. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| REPLAYABLE_SCN | NUMBER | NO | The latest snapshot version that can be replayed on the tenant. This column is meaningless for system tenants and Meta tenants and displays NULL. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| READABLE_SCN | NUMBER | NO | The latest snapshot version that can be read on the tenant. This column is meaningless for system tenants and Meta tenants and displays NULL. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| RECOVERY_UNTIL_SCN | NUMBER | NO | The latest recovery point on the tenant. This column is meaningless for system tenants and Meta tenants and displays NULL. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| LOG_MODE | VARCHAR2(100) | NO | Archive mode. Valid values: <ul><li>  `ARCHIVELOG`: archive mode is enabled. </li><li> `NOARCHIVELOG`: archive mode is disabled. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| ARBITRATION_SERVICE_STATUS | VARCHAR2(64) | NO | Status of the arbitration service of the tenant. Valid values: <ul><li>`ENABLING`: enabling.  </li><li>`ENABLED`: enabled. </li><li>`DISABLING`: disabling. </li><li>`DISABLED`: disabled. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.1.0. </p></main> |
| UNIT_NUM | NUMBER(38) | NO | Number of units in the zone. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.2.0. </p></main> |
| COMPATIBLE | VARCHAR2(65536) | NO | Compatibility version. <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.2.0. </p></main> |
| MAX_LS_ID  | NUMBER          | NO | The maximum log stream ID that the tenant has ever had. Valid values: <ul><li> 1: for system tenants and Meta tenants. </li><li> Actual value: for user tenants. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.2.0. </p></main> |
| RESTORE_DATA_MODE  | varchar(128)     | NO | Mode for restoring data to the tenant. Valid values: <ul><li>`NORMAL`: the tenant is normally created or restored through full data restore. </li><li>`REMOTE`: the tenant is quickly restored and the data is in remote reference state. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>This column was introduced in V4.3.3. </p></main> |

## Sample query

The following example shows how to query the tenant information of the current user tenant.

```shell
obclient [SYS]> SELECT * FROM SYS.DBA_OB_TENANTS\G
```

The query result is as follows:

```shell
*************************** 1. row ***************************
                 TENANT_ID: 1004
               TENANT_NAME: oracle001
               TENANT_TYPE: USER
               CREATE_TIME: 08-AUG-24 10.28.52.519229 AM
               MODIFY_TIME: 08-AUG-24 10.29.14.902080 AM
              PRIMARY_ZONE: zone1
                  LOCALITY: FULL{1}@zone1
         PREVIOUS_LOCALITY: NULL
        COMPATIBILITY_MODE: ORACLE
                    STATUS: NORMAL
             IN_RECYCLEBIN: NO
                    LOCKED: NO
               TENANT_ROLE: PRIMARY
         SWITCHOVER_STATUS: NORMAL
          SWITCHOVER_EPOCH: 0
                  SYNC_SCN: 1723169940678411001
            REPLAYABLE_SCN: 1723169940678411001
              READABLE_SCN: 1723169940678411000
        RECOVERY_UNTIL_SCN: 4611686018427387903
                  LOG_MODE: NOARCHIVELOG
ARBITRATION_SERVICE_STATUS: DISABLED
                  UNIT_NUM: 1
                COMPATIBLE: 4.3.2.1
                 MAX_LS_ID: 1001
         RESTORE_DATA_MODE: NORMAL
1 row in set
```

## References

[Tenant types](../../../../600.manage/200.tenant-management/300.tenant-type.md)
