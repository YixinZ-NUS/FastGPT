|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# USER_AUDIT_SESSION

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is available starting with V2.2.30. </p>
</main>

## Purpose

The `USER_AUDIT_SESSION` view displays audit records of the connection and disconnection of the current user.

  <main id="notice" >
    <h4>Applicability</h4>
    <p>This view is available only in Oracle mode of OceanBase Database. </p>
  </main>

## Columns

|      **Column**      |           **Type**            | **Nullable** |                        **Description**                         |
|--------------------|-----------------------------|----------------|-------------------------------------------------------|
| OS_USERNAME        | VARCHAR2(255)               | NO             | This column is not supported. It is NULL by default.            |
| USERNAME           | VARCHAR2(64)                | NO             | The name of the audited user.                                           |
| USERHOST           | VARCHAR2(32)                | NO             | This column is not supported. It is NULL by default.                       |
| TERMINAL           | VARCHAR2(255)               | NO             | This column is not supported. It is NULL by default.                      |
| TIMESTAMP          | DATE                        | NO             | The date and time when the audit record was created in the local database session time zone.                             |
| ACTION_NAME        | VARCHAR2(128)               | NO             | The name of the operation type corresponding to the numeric code in the operation column of DBA_AUDIT_TRAIL.                |
| LOGOFF_TIME        | DATE                        | NO             | The date and time when the user logged off.                                            |
| LOGOFF_LREAD       | NUMBER(38)                  | NO             | The number of logical reads of the session.                                               |
| LOGOFF_PREAD       | NUMBER                      | NO             | This column is not supported. It is NULL by default.                       |
| LOGOFF_LWRITE      | NUMBER                      | NO             | This column is not supported. It is NULL by default.                      |
| LOGOFF_DLOCK       | VARCHAR2(40)                | NO             | This column is not supported. It is NULL by default.                    |
| SESSIONID          | NUMBER(38)                  | NO             | For V4.3.x: <ul><li> V4.3.5 BP2 and earlier: <br> This column indicates the server session ID in all connection modes (direct mode and ODP mode). </li><li> V4.3.5 BP2 and later: <ul><li> In direct mode: <br> This column indicates the server session ID. </li> <li> In ODP mode: </li><ul><li> When the <code>client_session_id_version</code> parameter in ODP is set to 2, this column indicates the client session ID. </li> <li> When <code>client_session_id_version</code> is set to 1, this column indicates the server session ID. </li></ul></ul></li></ul>                                              |
| RETURNCODE         | NUMBER(38)                  | NO             | The error code generated by the operation.                                             |
| CLIENT_ID          | VARCHAR2(40)                | NO             | The client identifier in the session.                                            |
| SESSION_CPU        | NUMBER(38)                  | NO             | The CPU time used by the session.                                          |
| EXTENDED_TIMESTAMP | TIMESTAMP(6) WITH TIME ZONE | NO             | The timestamp when the audit record was created in the UTC time zone.                                 |
| PROXY_SESSIONID    | NUMBER(38)                  | NO             | The sequence number of the proxy session.                                               |
| GLOBAL_UID         | NUMBER(38)                  | NO             | The global user identifier of the user.                                            |
| INSTANCE_NUMBER    | VARCHAR2(40)                | NO             | This column is not supported. It is NULL by default. |
| OS_PROCESS         | VARCHAR2(40)                | NO             | This column is not supported. It is NULL by default.                     |

## Sample query

Query audit records of the connection and disconnection (`CONNECT` and `DISCONNECT`) of the current user.

```shell
obclient [SYS]> SELECT USERNAME, USERHOST, TIMESTAMP, ACTION_NAME FROM SYS.USER_AUDIT_SESSION;
```

The query result is as follows:

```shell
+----------+----------------+-----------+-------------+
| USERNAME | USERHOST       | TIMESTAMP | ACTION_NAME |
+----------+----------------+-----------+-------------+
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 08-APR-25 | LOGON       |
| SYS      | 100.xx.xxx.xxx | 09-APR-25 | LOGON       |
+----------+----------------+-----------+-------------+
11 rows in set
```

## References

* View all `CONNECT` and `DISCONNECT` audit records in the current tenant: [DBA_AUDIT_SESSION](7000.dba_audit_session-of-oracle-mode.md)

* View all `AUDIT EXISTS` and `AUDIT NOT EXISTS` audit records: [DBA_AUDIT_EXISTS](6800.dba_audit_exists-of-oracle-mode.md)

* View all audit records for all objects:

  * [DBA_AUDIT_OBJECT](6900.dba_audit_object-of-oracle-mode.md)

  * [USER_AUDIT_OBJECT](25100.user_audit_object-of-oracle-mode.md)

* View all audit records:

  * [DBA_AUDIT_TRAIL](7200.dba_audit_trail-of-oracle-mode.md)

  * [USER_AUDIT_TRAIL](25400.user_audit_trail-of-oracle-mode.md)

* View all audit records for the `GRANT`, `REVOKE`, `AUDIT`, `NOAUDIT`, and `ALTER SYSTEM` statements:

  * [DBA_AUDIT_STATEMENT](7100.dba_audit_statement-of-oracle-mode.md)

  * [USER_AUDIT_STATEMENT](25300.user_audit_statement-of-oracle-mode.md)

* For more information about security audit, see the following topics:

  * [Enable audit](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/200.audit-open-of-oracle-mode.md)
  * [Set up and view audit rules](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/300.set-up-and-view-audit-rules-of-oracle-mode.md)
  * [View audit records](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/500.audit-records-of-oracle-mode.md)
  * [Audit user logon](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/600.audit-user-logon-of-oracle-mode.md)
  * [Audit user operations](../../../../600.manage/500.security-and-permissions/600.security-audit/300.security-audit-of-oracle-mode/700.audit-user-operations-of-oracle-mode.md)
