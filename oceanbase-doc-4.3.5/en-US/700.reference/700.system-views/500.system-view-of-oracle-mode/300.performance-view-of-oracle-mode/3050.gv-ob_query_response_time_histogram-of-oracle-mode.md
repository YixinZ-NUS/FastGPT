|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|
|machine-translation||

# GV$OB_QUERY_RESPONSE_TIME_HISTOGRAM

<main id="notice" type='explain'>
<h4>Note</h4>
<ul><li>In V4.3.x, this view was introduced in V4.3.5. </li> <li>In V4.2.1, this view was introduced in V4.2.1 BP7. In V4.2.x other than V4.2.1, this view was introduced in V4.2.5. </li></ul>
</main>

## Purpose

The `GV$OB_QUERY_RESPONSE_TIME_HISTOGRAM` view is used to query the histogram information about the execution time of all queries on all nodes in the current tenant.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
| ------------ | -------- | ------------------ | -------- |
| SVR_IP        | VARCHAR2(46)  | NO   | The IP address of the node.     |
| SVR_PORT      | NUMBER(38)    | NO   | The port number of the node.     |
| TENANT_ID     | NUMBER(38)    | NO   | The ID of the tenant.     |
| SQL_TYPE      | VARCHAR2(128) | NO   | The statement type of the query statement:<ul><li>SELECT</li><li>INSERT</li><li>UPDATE</li><li>DELETE</li><li>REPLACE</li><li>COMMIT</li><li>OTHER</li><li>INNER SQL</li><li>TABLEAPI SELECT</li><li>TABLEAPI INSERT</li><li>TABLEAPI DELETE</li><li>TABLEAPI UPDATE</li><li>TABLEAPI REPLACE</li><li>TABLEAPI QUERY AND MUTATE</li><li>TABLEAPI OTHER</li><li>HBASE SCAN</li><li>HBASE PUT</li><li>HBASE DELETE</li><li>HBASE APPEND</li><li>HBASE INCREMENT</li><li>HBASE CHECK AND PUT</li><li>HBASE CHECK AND DELETE</li><li>HBASE HYBRID BATCH</li></ul>     |
| RESPONSE_TIME | NUMBER        | NO   | The value of the response time in seconds.     |
| COUNT         | NUMBER(38)    | NO   | The number of queries in the corresponding time interval.     |
| TOTAL         | NUMBER        | NO   | The total time of queries in the corresponding time interval in seconds.     |

## Sample query

The following example queries the histogram information about the execution time of all queries on all nodes in the current tenant.

```shell
obclient [SYS]> SELECT * FROM SYS.GV$OB_QUERY_RESPONSE_TIME_HISTOGRAM WHERE ROWNUM = 2\G
```

The query result is as follows:

```shell
*************************** 1. row ***************************
       SVR_IP: xx.xx.xx.xx
     SVR_PORT: 2882
    TENANT_ID: 1002
     SQL_TYPE: SELECT
RESPONSE_TIME: 0.000001
        COUNT: 0
        TOTAL: 0.000000
*************************** 2. row ***************************
       SVR_IP: xx.xx.xx.xx
     SVR_PORT: 2882
    TENANT_ID: 1002
     SQL_TYPE: SELECT
RESPONSE_TIME: 0.000010
        COUNT: 0
        TOTAL: 0.000000
2 rows in set
```

The following example queries the histogram information about the execution time of `TABLEAPI SELECT` queries on all nodes in the current tenant.

```shell
obclient [SYS]> SELECT * FROM SYS.GV$OB_QUERY_RESPONSE_TIME_HISTOGRAM WHERE SQL_TYPE = "TABLEAPI SELECT" AND ROWNUM = 2\G
```

The query result is as follows:

```shell
*************************** 1. row ***************************
       SVR_IP: 172.xx.xxx.225
     SVR_PORT: 2882
    TENANT_ID: 1004
     SQL_TYPE: TABLEAPI SELECT
RESPONSE_TIME: 0.000001
        COUNT: 0
        TOTAL: 0.000000
*************************** 2. row ***************************
       SVR_IP: 172.xx.xxx.225
     SVR_PORT: 2882
    TENANT_ID: 1004
     SQL_TYPE: TABLEAPI SELECT
RESPONSE_TIME: 0.000010
        COUNT: 0
        TOTAL: 0.000000
2 rows in set
```

## References

[V$OB_QUERY_RESPONSE_TIME_HISTOGRAM](33050.v-ob_query_response_time_histogram-of-oracle-mode.md)