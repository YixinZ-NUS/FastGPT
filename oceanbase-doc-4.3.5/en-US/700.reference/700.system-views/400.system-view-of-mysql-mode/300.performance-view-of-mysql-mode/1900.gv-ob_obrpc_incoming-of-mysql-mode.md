|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# GV$OB_RPC_INCOMING

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

The `GV$OB_RPC_INCOMING` view displays RPC receiving statistics on all OBServer nodes.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
|----------------|--------------|----------------|-----------------------|
| TENANT_ID | bigint(20) | NO | The ID of the tenant. |
| SVR_IP | varchar(46) | NO | The IP address of the OBServer node. |
| SVR_PORT | bigint(20) | NO | The port number of the OBServer node. |
| PCODE | bigint(20) | NO | The RPC packet code. |
| PCODE_NAME | varchar(256) | NO | The name of the RPC packet code. |
| COUNT | bigint(20) | NO | The number of received RPC requests of this type. |
| TOTAL_SIZE | bigint(20) | NO | The total amount of data received. |
| NET_TIME | bigint(20) | NO | The network time used. |
| WAIT_TIME | bigint(20) | NO | The amount of time elapsed from when the request was received to when the request entered the queue. |
| QUEUE_TIME | bigint(20) | NO | The wait time of the request in the queue. |
| PROCESS_TIME | bigint(20) | NO | The amount of time spent on processing the request. |
| LAST_TIMESTAMP | timestamp(6) | NO | The time of the last update. |
| DCOUNT | bigint(20) | NO | The number of RPC requests of each Pcode type in every 30 seconds. |

## Sample query

In a user tenant, view the RPC requests received by all nodes of the current tenant, and check which requests have a wait time in the queue greater than 1s.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_RPC_INCOMING WHERE QUEUE_TIME > 1000000;
```

The query result is as follows:

```shell
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
| TENANT_ID | SVR_IP         | SVR_PORT | PCODE | PCODE_NAME                      | COUNT   | TOTAL_SIZE | NET_TIME  | WAIT_TIME | QUEUE_TIME | PROCESS_TIME | LAST_TIMESTAMP             | DCOUNT |
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
|      1002 | 11.xxx.xxx.xxx |    28825 |  1859 | OB_GET_LS_REPLAYED_SCN          | 1218124 |   29234976 |  72168837 |  15295506 |   34873846 |     84946408 | 2025-03-26 16:14:53.230033 |      8 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  1861 | OB_UPDATE_TENANT_INFO_CACHE     |  609064 |   59688272 |  43197630 |   7939656 |   16198986 |     14011182 | 2025-03-26 16:14:52.895647 |      4 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 2453199 |  361846970 | 186079294 |  39135968 |   70128226 |    229255420 | 2025-03-26 16:14:53.309030 |     16 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 2453199 |  732279871 | 159336976 |  31360384 |   54295803 |     60733221 | 2025-03-26 16:14:53.309092 |     16 |
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
4 rows in set
```

## References

* View the statistics of RPC requests received by the current tenant on the current node: [V$OB_RPC_INCOMING](32300.v-ob_obrpc_incoming-of-mysql-mode.md)

* View the statistics of RPC requests sent by the current tenant to all nodes: [GV$OB_RPC_OUTGOING](2000.gv-ob_obrpc_outgoing-of-mysql-mode.md)