|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# V$OB_RPC_INCOMING

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

The `V$OB_RPC_INCOMING` view displays the statistics of RPC requests received by the current tenant on the current OBServer node.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
|----------------|--------------|----------------|-----------------------|
| TENANT_ID | bigint(20) | NO | The ID of the tenant. |
| SVR_IP | varchar(46) | NO | The IP address of the OBServer node. |
| SVR_PORT | bigint(20) | NO | The port number of the OBServer node. |
| PCODE | bigint(20) | NO | The RPC packet code. |
| PCODE_NAME | varchar(256) | NO | The name of the RPC packet code. |
| COUNT | bigint(20) | NO | The number of received RPC requests of this type. |
| TOTAL_SIZE | bigint(20) | NO | The total amount of data received. |
| NET_TIME | bigint(20) | NO | The network time used. |
| WAIT_TIME | bigint(20) | NO | The amount of time elapsed from when the request was received to when the request entered the queue. |
| QUEUE_TIME | bigint(20) | NO | The wait time of the request in the queue. |
| PROCESS_TIME | bigint(20) | NO | The amount of time spent on processing the request. |
| LAST_TIMESTAMP | timestamp(6) | NO | The time of the last update. |
| DCOUNT | bigint(20) | NO | The number of RPC requests of each Pcode type in every 30 seconds. |

## Sample query

In a user tenant, check the RPC requests received by the current node for the current tenant, and see which requests have a queue wait time greater than 1s.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_RPC_INCOMING WHERE QUEUE_TIME > 1000000;
```

The query result is as follows:

```shell
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
| TENANT_ID | SVR_IP         | SVR_PORT | PCODE | PCODE_NAME                      | COUNT   | TOTAL_SIZE | NET_TIME  | WAIT_TIME | QUEUE_TIME | PROCESS_TIME | LAST_TIMESTAMP             | DCOUNT |
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
|      1002 | 11.xxx.xxx.xxx |    28825 |  1859 | OB_GET_LS_REPLAYED_SCN          | 1218724 |   29249376 |  72201396 |  15302606 |   34890651 |     84984897 | 2025-03-26 16:19:55.224105 |     12 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  1861 | OB_UPDATE_TENANT_INFO_CACHE     |  609365 |   59717770 |  43216724 |   7943336 |   16206486 |     14017780 | 2025-03-26 16:19:55.915446 |      7 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  5386 | OB_LOG_ELECTION_ACCEPT_REQUEST  | 2454410 |  362025593 | 186170837 |  39153743 |   70160383 |    229360422 | 2025-03-26 16:19:55.872453 |     26 |
|      1002 | 11.xxx.xxx.xxx |    28825 |  5387 | OB_LOG_ELECTION_ACCEPT_RESPONSE | 2454410 |  732641355 | 159410652 |  31374783 |   54323964 |     60760169 | 2025-03-26 16:19:55.872554 |     26 |
+-----------+----------------+----------+-------+---------------------------------+---------+------------+-----------+-----------+------------+--------------+----------------------------+--------+
4 rows in set
```

## References

* [GV$OB_RPC_INCOMING](1900.gv-ob_obrpc_incoming-of-mysql-mode.md) shows the statistics of RPC requests received by all nodes for the current tenant.

* [V$OB_RPC_OUTGOING](32400.v-ob_obrpc_outgoing-of-mysql-mode.md) shows the statistics of RPC requests sent by the current node for the current tenant.