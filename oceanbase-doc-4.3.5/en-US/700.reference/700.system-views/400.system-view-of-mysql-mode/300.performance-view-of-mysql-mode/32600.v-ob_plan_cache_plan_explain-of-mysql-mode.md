|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# V$OB_PLAN_CACHE_PLAN_EXPLAIN

<main id="notice" type='explain'>
  <h4>Note</h4>
  <p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

The `V$OB_PLAN_CACHE_PLAN_EXPLAIN` view displays the physical execution plans that are cached in the plan cache on the current OBServer node.

  <main id="notice" type='explain'>
    <h4>Note</h4>
    <p>This view supports only GET operations. To query information in this view, you must specify the <code>TENANT_ID</code> and <code>PLAN_ID</code> columns. </p>
  </main>

## Columns

| Column | Type | Nullable? | Description |
|--------------|---------------|------------|------------------|
| TENANT_ID    | bigint(20)    | NO         | The ID of the tenant. |
| SVR_IP       | varchar(46)   | NO         | The IP address of the OBServer node. |
| SVR_PORT     | bigint(20)    | NO         | The port number of the OBServer node. |
| PLAN_ID      | bigint(20)    | NO         | The ID of the plan. |
| PLAN_DEPTH   | bigint(20)    | NO         | The display depth of the operator. |
| PLAN_LINE_ID | bigint(20)    | NO         | The ID of the operator. |
| OPERATOR     | varchar(128)  | NO         | The name of the operator. |
| NAME         | varchar(256)  | NO         | The name of the table. |
| ROWS         | bigint(20)    | NO         | The estimated number of rows in the result. |
| COST         | bigint(20)    | NO         | The estimated cost. |
| PROPERTY     | varchar(4096) | NO         | The information about the corresponding operator. |

## Sample query

1. Query the [V$OB_PLAN_CACHE_PLAN_STAT](32700.v-ob_plan_cache_plan_stat-of-mysql-mode.md) view for the `PLAN_ID` value of the current OBServer node.

   ```shell
   obclient [oceanbase]> SELECT PLAN_ID FROM oceanbase.V$OB_PLAN_CACHE_PLAN_STAT limit 2;
   ```

   The query result is as follows:

   ```shell
   +---------+
   | PLAN_ID |
   +---------+
   |     605 |
   |     607 |
   +---------+
   2 rows in set (0.010 sec)
   ```

2. Query the `V$OB_PLAN_CACHE_PLAN_EXPLAIN` view for the physical execution plan with the `PLAN_ID` value of `605` in the plan cache.

   ```shell
   obclient [oceanbase]> SELECT * FROM oceanbase.V$OB_PLAN_CACHE_PLAN_EXPLAIN WHERE PLAN_ID = 605\G
   ```

   The query result is as follows:

   ```shell
   *************************** 1. row ***************************
     TENANT_ID: 1002
         SVR_IP: xx.xx.xx.xx
       SVR_PORT: 2882
       PLAN_ID: 605
     PLAN_DEPTH: 0
   PLAN_LINE_ID: 0
       OPERATOR: PHY_TABLE_SCAN
           NAME: __all_balance_task
           ROWS: 1
           COST: 2
       PROPERTY: table_rows:1, physical_range_rows:1, logical_range_rows:1, index_back_rows:0, output_rows:1, avaiable_index_name[__all_balance_task]
   1 row in set (0.000 sec)
   ```

## References

[GV$OB_PLAN_CACHE_PLAN_EXPLAIN](2200.gv-ob_plan_cache_plan_explain-of-mysql-mode.md)