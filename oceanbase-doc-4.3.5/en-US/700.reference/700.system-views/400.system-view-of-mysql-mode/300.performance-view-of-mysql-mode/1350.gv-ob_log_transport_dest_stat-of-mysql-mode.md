|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type||
|machine-translation||

# GV$OB_LOG_TRANSPORT_DEST_STAT

<main id="notice" type='explain'>
  <h4>Note</h4>
  <ul><li>For OceanBase Database V4.3.x, this view is introduced in V4.3.5. </li> <li>For OceanBase Database V4.2.x, this view is introduced in V4.2.5. </li></ul>
</main>

## Purpose

The `GV$OB_LOG_TRANSPORT_DEST_STAT` view displays information about all downstream log synchronization links (OBCDC or network standby) of all OBServer nodes in the tenant.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
| -------- | -------- | ------------------ | -------- |
| TENANT_ID                   | bigint(20)          | NO   | Tenant ID     |
| SVR_IP                      | varchar(46)         | NO   | Server IP     |
| SVR_PORT                    | bigint(20)          | NO   | Server RPC_PORT     |
| LS_ID                       | bigint(20)          | NO   | ID of the log stream to which the request belongs     |
| CLIENT_IP                   | varchar(46)         | NO   | IP address of the machine where the process of the request is located     |
| CLIENT_PID                  | bigint(20)          | NO   | ID of the process of the request     |
| CLIENT_TENANT_ID            | bigint(20)          | NO   | ID of the tenant of the request     |
| CLIENT_TYPE                 | varchar(7)          | NO   | Type of the client of the request:<ul><li>STANDBY: network standby </li><li>CDC: OBCDC </li><li>UNKNOWN: unknown client type </li></ul>    |
| START_SERVE_TIME            | timestamp(6)        | NO   | Time when the record was created     |
| LAST_SERVE_TIME             | timestamp(6)        | NO   | Time when the record was last modified     |
| LAST_READ_SOURCE            | varchar(7)          | NO   | Source of the log read during the last request:<ul><li>ONLINE: online log </li><li>ARCHIVE: archived log </li><li>UNKNOWN: unknown source </li></ul>     |
| LAST_REQUEST_TYPE           | varchar(24)         | NO   | RPC type of the last request:<ul><li>0: SEQUENTIAL_READ_SERIAL, which indicates that the serial log transmission protocol is used to sequentially read logs. </li><li>1: SEQUENTIAL_READ_PARALLEL, which indicates that the parallel log transmission protocol is used to sequentially read logs. </li><li>2: SCATTERED_READ, which indicates that the last request was to read scattered logs. </li><li>Other values: unknown RPC type </li></ul>     |
| LAST_REQUEST_LOG_LSN        | bigint(20) unsigned | NO   | LSN of the log of the last request     |
| LAST_REQUEST_LOG_SCN        | bigint(20) unsigned | NO   | SCN of the log of the last request     |
| LAST_FAILED_REQUEST         | longtext            | NO   | Information about the last failed RPC, including the sending time, TRACE_ID, and error code.    |
| AVG_REQUEST_PROCESS_TIME    | bigint(20)          | NO   | Average RPC processing time     |
| AVG_REQUEST_QUEUE_TIME      | bigint(20)          | NO   | Average RPC queuing time     |
| AVG_REQUEST_READ_LOG_TIME   | bigint(20)          | NO   | Average RPC log reading time     |
| AVG_REQUEST_READ_LOG_SIZE   | bigint(20)          | NO   | Average RPC log reading size     |
| AVG_LOG_TRANSPORT_BANDWIDTH | varchar(29)         | NO   | Average log transmission bandwidth     |

## Sample query

Query information about all downstream log synchronization links (OBCDC or network standby) of all OBServer nodes in the tenant.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.GV$OB_LOG_TRANSPORT_DEST_STAT;
```

The query result is as follows:

```shell
+-----------+----------------+----------+-------+----------------+------------+------------------+-------------+----------------------------+----------------------------+------------------+--------------------------+----------------------+----------------------+---------------------+--------------------------+------------------------+---------------------------+---------------------------+-----------------------------+
| TENANT_ID | SVR_IP         | SVR_PORT | LS_ID | CLIENT_IP      | CLIENT_PID | CLIENT_TENANT_ID | CLIENT_TYPE | START_SERVE_TIME           | LAST_SERVE_TIME            | LAST_READ_SOURCE | LAST_REQUEST_TYPE        | LAST_REQUEST_LOG_LSN | LAST_REQUEST_LOG_SCN | LAST_FAILED_REQUEST | AVG_REQUEST_PROCESS_TIME | AVG_REQUEST_QUEUE_TIME | AVG_REQUEST_READ_LOG_TIME | AVG_REQUEST_READ_LOG_SIZE | AVG_LOG_TRANSPORT_BANDWIDTH |
+-----------+----------------+----------+-------+----------------+------------+------------------+-------------+----------------------------+----------------------------+------------------+--------------------------+----------------------+----------------------+---------------------+--------------------------+------------------------+---------------------------+---------------------------+-----------------------------+
|      1002 |  xx.xx.xx.xx   |     9708 |     1 |  xx.xx.xx.xx   |      44307 |                0 | CDC         | 2024-10-17 17:09:04.517703 | 2024-10-17 17:55:20.038397 | ONLINE           | SEQUENTIAL_READ_SERIAL   |             21124433 |  1729158919728184002 | NULL                |                       81 |                     46 |                        49 |                        70 | 1.35KB/S                    |
|      1002 |  xx.xx.xx.xx   |     9708 |  1001 |  xx.xx.xx.xx   |      79983 |             1004 | STANDBY     | 2024-10-17 17:08:10.964547 | 2024-10-17 17:55:20.092669 | ONLINE           | SEQUENTIAL_READ_PARALLEL |              3493888 |  1729158919728184003 | NULL                |                        6 |                     32 |                         5 |                      2102 | 41.06KB/S                   |
|      1002 |  xx.xx.xx.xx   |     9708 |  1001 |  xx.xx.xx.xx   |      44307 |                0 | CDC         | 2024-10-17 17:09:05.936290 | 2024-10-17 17:55:20.038823 | ONLINE           | SEQUENTIAL_READ_SERIAL   |              3495484 |  1729158919728184002 | NULL                |                       83 |                     33 |                        51 |                        61 | 1.19KB/S                    |
|      1002 |  xx.xx.xx.xx   |     9708 |     1 |  xx.xx.xx.xx   |      79983 |             1004 | STANDBY     | 2024-10-17 17:08:00.415960 | 2024-10-17 17:55:20.092586 | ONLINE           | SEQUENTIAL_READ_PARALLEL |             21123072 |  1729158919728184003 | NULL                |                        5 |                     34 |                         5 |                      2257 | 44.09KB/S                   |
+-----------+----------------+----------+-------+----------------+------------+------------------+-------------+----------------------------+----------------------------+------------------+--------------------------+----------------------+----------------------+---------------------+--------------------------+------------------------+---------------------------+---------------------------+-----------------------------+
4 rows in set (0.01 sec)
```

## References

[V$OB_LOG_TRANSPORT_DEST_STAT](31550.v-ob_log_transport_dest_stat-of-mysql-mode.md)