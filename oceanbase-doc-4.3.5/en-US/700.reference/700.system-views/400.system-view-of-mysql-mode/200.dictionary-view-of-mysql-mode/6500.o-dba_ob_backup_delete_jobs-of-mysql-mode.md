|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# oceanbase.DBA_OB_BACKUP_DELETE_JOBS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is available starting with V4.0.0. </p>
</main>

## Purpose

This view displays the execution progress of backup cleanup jobs in the current tenant.

## Columns

| Column | Type | Nullable | Description |
| --- | --- | --- | --- |
| TENANT_ID | bigint(20) | NO | The tenant ID. |
| JOB_ID | bigint(20) | NO | The task ID, which is a monotonic increasing value. |
| INCARNATION | bigint(20) | NO | The incarnation ID. |
| INITIATOR_TENANT_ID | bigint(20) | NO | The tenant ID that initiated the job. |
| INITIATOR_JOB_ID | bigint(20) | NO | The job ID of the tenant that initiated the job. |
| EXECUTOR_TENANT_ID | varchar(65536) | NO | The list of tenants that executed the cleanup task. |
| TYPE | varchar(64) | NO | The cleanup type. Valid value: `DELETE OBSOLETE BACKUP`, which indicates obsolete cleanup. |
| PARAMETER | timestamp(6) | NO | The cleanup parameter, which records the obsolete time.  |
| JOB_LEVEL | varchar(64) | NO | The task initiation level. Valid values: <ul><li>`USER_TENANT`: the task is initiated by a user tenant. </li><li>`SYS_TENANT`: the task is initiated by a system tenant. </li></ul> |
| START_TIMESTAMP | timestamp(6) | NO | The current time of the tenant when the task started. |
| END_TIMESTAMP | timestamp(6) | NO | The current time of the tenant when the task ended. |
| STATUS | varchar(64) | NO | The task status. Valid values: <ul><li>`INIT`: the task is in the initialization stage. </li><li>`DOING`: the task is in the execution stage. </li><li>`CANCELING`: the task is being canceled. </li><li>`COMPLETED`: the task was executed successfully. </li><li>`FAILED`: the task failed. </li><li>`CANCELED`: the task was successfully canceled. </li></ul>  |
| TASK_COUNT | bigint(20) | YES | The number of backup_set/piece tasks. |
| SUCCESS_TASK_COUNT | bigint(20) | YES | The number of backup_set/piece tasks that were executed successfully. |
| RESULT | bigint(20) | NO | The error code. |
| COMMENT | varchar(4096) | YES | The task execution description. |

## Sample query

Query the execution progress of backup cleanup jobs in the current user tenant.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_OB_BACKUP_DELETE_JOBS\G
```

The query result is as follows:

```shell
*************************** 1. row ***************************
                  JOB_ID: 7
             INCARNATION: 1
     INITIATOR_TENANT_ID: 1002
        INITIATOR_JOB_ID: 7
      EXECUTOR_TENANT_ID: 1002
                    TYPE: DELETE OBSOLETE BACKUP
               PARAMETER: 2022-05-31 12:09:40.060284
               JOB_LEVEL: USER_TENANT
         START_TIMESTAMP: 2022-06-01 12:09:53.389512
           END_TIMESTAMP:
                  STATUS: DOING
              TASK_COUNT: 2
      SUCCESS_TASK_COUNT: 1
                  RESULT: 0
                 COMMENT:
1 row in set
```

## References

* Query the execution progress of a backup cleanup task that is being executed: [DBA_OB_BACKUP_DELETE_TASKS](6800.o-dba_ob_backup_delete_tasks-of-mysql-mode.md)

* Query the historical information about backup cleanup jobs: [DBA_OB_BACKUP_DELETE_JOB_HISTORY](6400.o-dba_ob_backup_delete_job_history-of-mysql-mode.md)

* Query the historical information about backup cleanup tasks: [DBA_OB_BACKUP_DELETE_TASK_HISTORY](6700.o-dba_ob_backup_delete_task_history-of-mysql-mode.md)

* For more information about how to set the automatic cleanup of obsolete backups, see [Automatically clear obsolete backups](../../../../600.manage/600.backup-and-recovery/500.clear-backup-data/100.cleaning-up-backed-up-data-automatically.md).
