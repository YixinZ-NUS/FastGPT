|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# oceanbase.DBA_WR_SYSTEM_EVENT

<main id="notice" type='explain'>
<h4>Note</h4>
<ul><li>For OceanBase Database V4.3.x, this view is introduced in V4.3.5. </li> <li>For OceanBase Database V4.2.x, this view is introduced in V4.2.2. </li></ul>
</main>

## Purpose

The `DBA_WR_SYSTEM_EVENT` view displays the tenant-level waiting events that have been persisted in this tenant.

## Columns

| **Column**      | **Type**    | **Nullable?** | **Description**                               |
|----------------|-------------|--------------|----------------------------------------|
| SNAP_ID           | bigint(20)  | NO   |  Snapshot ID   |
| SVR_IP            | varchar(46) | NO   |  Node IP   |
| SVR_PORT          | bigint(20)  | NO   |  Node port    |
| EVENT_ID          | bigint(20)  | NO   |  Waiting event ID   |
| EVENT_NAME        | varchar(64) | YES  |  Waiting event name    |
| WAIT_CLASS_ID     | bigint(20)  | YES  |  ID of the waiting event category      |
| WAIT_CLASS        | varchar(64) | YES  |  Name of the waiting event category       |
| TOTAL_WAITS       | bigint(20)  | YES  |  Total number of times the waiting event has occurred       |
| TOTAL_TIMEOUTS    | bigint(20)  | YES  |  Total number of times the waiting event has timed out        |
| TIME_WAITED_MICRO | bigint(20)  | YES  |  Total waiting time of the waiting event       |

The following table describes the values in the `WAIT_CLASS` column of the view.

| Waiting event category | Waiting event ID | Description |
|------|----|------|
| OTHER | 100 | Waiting events that do not belong to other categories |
| APPLICATION | 101 | Waiting events caused by client-side code |
| CONFIGURATION | 102 | Waiting events caused by insufficient configurations of database or instance resources |
| ADMINISTRATIVE | 103 | Waiting events caused by commands entered by database administrators |
| CONCURRENCY | 104 | Waiting events for waiting for internal database resources |
| COMMIT | 105 | Waiting events related to log commit |
| IDLE | 106 | Waiting events for waiting for tasks when a session is inactive |
| NETWORK | 107 | Waiting events related to network communication |
| USER_IO | 108 | Waiting events for waiting for user I/O |
| SYSTEM_IO | 109 | Waiting events for waiting for I/O by background processes |
| CLUSTER | 111 | Waiting events related to clusters|

## Sample query

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_WR_SYSTEM_EVENT LIMIT 10;
```

The query result is as follows:

```shell
+---------+----------------+----------+----------+-----------------------------------+---------------+-------------+-------------+----------------+-------------------+
| SNAP_ID | SVR_IP         | SVR_PORT | EVENT_ID | EVENT_NAME                        | WAIT_CLASS_ID | WAIT_CLASS  | TOTAL_WAITS | TOTAL_TIMEOUTS | TIME_WAITED_MICRO |
+---------+----------------+----------+----------+-----------------------------------+---------------+-------------+-------------+----------------+-------------------+
|       1 | 172.xx.xxx.xxx |     2882 |        2 | latch: default spin rwlock wait   |           104 | CONCURRENCY |           9 |              0 |              2514 |
|       1 | 172.xx.xxx.xxx |     2882 |        3 | latch: default mutex wait         |           104 | CONCURRENCY |         318 |              0 |             14740 |
|       1 | 172.xx.xxx.xxx |     2882 |        8 | latch: trans ctx latch wait       |           104 | CONCURRENCY |          15 |              0 |             15244 |
|       1 | 172.xx.xxx.xxx |     2882 |       40 | latch: config lock wait           |           104 | CONCURRENCY |          14 |              0 |            207794 |
|       1 | 172.xx.xxx.xxx |     2882 |       99 | latch: tablet bucket lock wait    |           104 | CONCURRENCY |           1 |              0 |              1334 |
|       1 | 172.xx.xxx.xxx |     2882 |      258 | latch: palf handle impl lock wait |           104 | CONCURRENCY |           3 |              0 |               186 |
|       1 | 172.xx.xxx.xxx |     2882 |      283 | latch: ls meta lock wait          |           104 | CONCURRENCY |          26 |              0 |              3568 |
|       1 | 172.xx.xxx.xxx |     2882 |    10001 | db file data read                 |           108 | USER_IO     |           2 |              0 |              3946 |
|       1 | 172.xx.xxx.xxx |     2882 |    11001 | db file compact read              |           109 | SYSTEM_IO   |        1545 |              0 |            816400 |
|       1 | 172.xx.xxx.xxx |     2882 |    11002 | db file compact write             |           109 | SYSTEM_IO   |       10292 |              0 |           1420220 |
+---------+----------------+----------+----------+-----------------------------------+---------------+-------------+-------------+----------------+-------------------+
10 rows in set
```

## References

[oceanbase.CDB_WR_SYSTEM_EVENT](../../300.system-view-of-sys-tenant/200.dictionary-view-of-sys-tenant/14200.o-cdb_wr_system_event-of-sys-tenant.md)