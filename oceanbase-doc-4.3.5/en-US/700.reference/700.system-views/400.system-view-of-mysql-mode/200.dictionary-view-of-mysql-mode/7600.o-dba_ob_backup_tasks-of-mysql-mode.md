|description||
|---|---|
|machine-translation||

# oceanbase.DBA_OB_BACKUP_TASKS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

The `oceanbase.DBA_OB_BACKUP_TASKS` view displays the backup tasks in the current tenant.

## Columns

| Column | Type | Nullable? | Description |
|-------------------------------|----------------|-----------------|----------------------------------|
| TASK_ID                       | bigint(20)     | NO              | The ID of the backup task, which corresponds to a backup set task. |
| JOB_ID                        | bigint(20)     | NO              | The job ID of the backup task. |
| INCARNATION                   | bigint(20)     | NO              | The nth incarnation of the database after the Flashback Database operation. |
| BACKUP_SET_ID                 | bigint(20)     | NO              | The ID of the backup set corresponding to the backup task. |
| START_TIMESTAMP               | timestamp(6)   | NO              | The start time of the backup task. |
| END_TIMESTAMP                 | timestamp(6)   | NO              | The end time of the backup task. |
| STATUS                        | varchar(4096)  | NO              | The backup status. |
| START_SCN                     | bigint(20) unsigned | NO         | The system change number (SCN) at which the backup started. |
| END_SCN                       | bigint(20) unsigned | NO         | The SCN at which the backup ended. |
| USER_LS_START_SCN             | bigint(20) unsigned | NO         | The SCN of the metadata of the backup log stream. |
| ENCRYPTION_MODE               | varchar(4096)  | YES             | The encryption mode. Valid values: <br>`None`: indicates that encryption is not implemented.<br>`Password`: indicates that only the password is used for protection.<br>`Password Encryption`: indicates that encryption is implemented and the password is used for protection.<br>`Transparent Encryption`: indicates that transparent data encryption (TDE) is used for encryption.<br>`Dual mode Encryption`: indicates that TDE is implemented and the password is used for protection.<br>At present, only the `None` and `Password` modes are supported. |
| PASSWD                        | varchar(4096)  | YES             | The password. |
| INPUT_BYTES                   | bigint(20)     | YES             | The number of input bytes. |
| OUTPUT_BYTES                  | bigint(20)     | YES             | The number of output bytes. |
| OUTPUT_RATE_BYTES             | decimal(28,4)  | NO              | The number of bytes that are output per second. |
| EXTRA_META_BYTES              | bigint(20)     | YES             | The number of additional metadata bytes. |
| TABLET_COUNT                  | bigint(20)     | YES             | The total number of tablets to back up. |
| FINISH_TABLET_COUNT           | bigint(20)     | YES             | The total number of tablets backed up. |
| MACRO_BLOCK_COUNT             | bigint(20)     | YES             | The number of macroblocks. |
| FINISH_MACRO_BLOCK_COUNT      | bigint(20)     | YES             | The number of macroblocks backed up. |
| FILE_COUNT                    | bigint(20)     | YES             | The number of backup files. |
| META_TURN_ID                  | bigint(20)     | YES             | The round of metadata backup. |
| DATA_TURN_ID                  | bigint(20)     | YES             | The round of data backup. |
| RESULT                        | bigint(20)     | YES             | The returned backup error code. |
| COMMENT                       | varchar(4096)  | YES             | The description of the error code. |
| PATH                          | varchar(4096)  | YES             | The backup path. |
| MINOR_TURN_ID                 | bigint(20)     | NO              | The ID of the round at which the backup of minor compaction data ended. |
| MAJOR_TURN_ID                 | bigint(20)     | NO              | The ID of the round at which the backup of baseline data ended. |
| DATA_PROGRESS                 | decimal(26,2)  | NO              | The data backup progress, which is calculated by using the following formula: Number of macroblocks that have been backed up/Total number of macroblocks. The value is rounded off to the second decimal place. For example, the value `87.65` indicates that the current backup progress is 87.65%. <main id="notice" type='explain'><h4>Note</h4><p>This column is available in OceanBase Database V4.3.1 and later. </p></main> |
| LOG_FILE_COUNT                | bigint(20)     | NO              | The total number of archived clog files to back up.<main id="notice" type='explain'><h4>Note</h4><p>This column is available in OceanBase Database V4.3.1 and later. </p></main> |
| FINISH_LOG_FILE_COUNT         | bigint(20)     | NO              | The number of archived clog files that have been backed up.<main id="notice" type='explain'><h4>Note</h4><p>This column is available in OceanBase Database V4.3.1 and later. </p></main> |
| LOG_PROGRESS                  | decimal(26,2)  | NO              | The backup progress of archived clog files, which is calculated by using the following formula: Number of archived clog files that have been backed up/Total number of archived clog files. The value is rounded off to the second decimal place. For example, the value `87.65` indicates that the current backup progress is 87.65%.   <main id="notice" type='explain'><h4>Note</h4><p>This column is available in OceanBase Database V4.3.1 and later. </p></main> |

## Sample query

Query the backup tasks of the current tenant.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_OB_BACKUP_TASKS\G
```

The query result is as follows:

```shell
*************************** 1. row ***************************
                 TASK_ID: 1
                  JOB_ID: 1
             INCARNATION: 1
           BACKUP_SET_ID: 1
         START_TIMESTAMP: 2024-08-08 17:00:17.506621
           END_TIMESTAMP: NULL
                  STATUS: BACKUP_DATA_MINOR
               START_SCN: 1723107628199202000
                 END_SCN: 0
       USER_LS_START_SCN: 1723107640573072000
         ENCRYPTION_MODE: NONE
                  PASSWD:
             INPUT_BYTES: 4200016
            OUTPUT_BYTES: 906307
       OUTPUT_RATE_BYTES: 0.0000
        EXTRA_META_BYTES: 0
            TABLET_COUNT: 667
     FINISH_TABLET_COUNT: 6
       MACRO_BLOCK_COUNT: 52
FINISH_MACRO_BLOCK_COUNT: 2
              FILE_COUNT: 0
            META_TURN_ID: 1
            DATA_TURN_ID: 0
                  RESULT: 0
                 COMMENT:
                    PATH: file:///home/admin/oceanbase/backupdata
           MINOR_TURN_ID: 1
           MAJOR_TURN_ID: 1
           DATA_PROGRESS: 3.85
          LOG_FILE_COUNT: 0
   FINISH_LOG_FILE_COUNT: 0
            LOG_PROGRESS: 0.00
1 row in set
```

## References

* [DBA_OB_BACKUP_JOBS](7000.o-dba_ob_backup_jobs-of-mysql-mode.md)

* [DBA_OB_BACKUP_TASK_HISTORY](7500.o-dba_ob_backup_task_history-of-mysql-mode.md)

* [View the data backup progress](../../../../600.manage/600.backup-and-recovery/400.data-backup/500.view-data-backup-progress.md)