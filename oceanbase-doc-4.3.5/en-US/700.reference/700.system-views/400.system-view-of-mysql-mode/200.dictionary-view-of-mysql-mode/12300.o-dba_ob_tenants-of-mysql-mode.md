|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# oceanbase.DBA_OB_TENANTS

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is introduced since OceanBase Database V4.0.0. </p>
</main>

## Purpose

This view displays the basic information of tenants.

* When you query this view from the system tenant, information about all tenants, including system tenants, user tenants, and Meta tenants, is displayed. You can use the `TENANT_TYPE` column to distinguish between tenant types.
* When you query this view from a user tenant, information about only the tenant is displayed.

## Columns

| **Column** | **Type** | **Nullable?** | **Description** |
| --- | --- | --- | --- |
| TENANT_ID | bigint(20)| NO | Tenant ID. Valid values include:<ul><li> 1: ID of the system tenant. </li><li> Other values: ID of a user tenant or Meta tenant. </li></ul>|
| TENANT_NAME| varchar(128)| NO | Tenant name |
| TENANT_TYPE| varchar(4)| NO | <ul><li> `SYS`: System tenant  </li><li> `USER`: User tenant </li><li>`META`: Meta tenant </li></ul> |
| CREATE_TIME| timestamp(6)| YES | Tenant creation time|
| MODIFY_TIME| timestamp(6)| YES | Information update time|
| PRIMARY_ZONE| varchar(128)| YES | Primary zone of the tenant|
| LOCALITY| varchar(4096)| NO | Information about the distribution of tenant replicas|
| PREVIOUS_LOCALITY| varchar(4096)| NO | Information about the previous locality:<ul><li> If this value is valid, the locality change is not completed.  </li><li>NULL indicates that no locality change has been performed.  </li></ul> |
| COMPATIBILITY_MODE| varchar(6)| NO | <ul><li>`MYSQL`: MySQL compatibility mode </li><li>`ORACLE`: Oracle compatibility mode</li></ul>|
| STATUS| varchar(64)| NO | Current status of the tenant:<ul><li>   `NORMAL`: normal tenant</li><li>`RESTORE`: tenant being restored  </li><li>`CREATING`: tenant being created </li><li> `DROPPING`: tenant being dropped </li></ul>|
| IN_RECYCLEBIN| varchar(3)| NO | Whether the tenant is in the recycle bin:<ul><li>  `YES`: in the recycle bin </li><li> `NO`: not in the recycle bin </li></ul>|
| LOCKED| varchar(3)| NO | Whether the tenant is locked:<ul><li>  `YES`: locked </li><li>`NO`: not locked  </li></ul> The value of this column can be modified by running the `ALTER TENANT xxx LOCK&#124;UNLOCK` statement.|
| TENANT_ROLE| varchar(100) | NO | Cluster role:<ul><li>`PRIMARY`: primary tenant   </li><li>  `STANDBY`: standby tenant  </li><li> `RESTORE`: tenant being restored </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| SWITCHOVER_STATUS| varchar(100)| NO | Status of the SWITCHOVER operation:<ul><li>`NORMAL`: normal, not switching   </li><li>`PREPARE SWITCHING TO PRIMARY`: preparing to switch to primary </li><li> `SWITCHING TO PRIMARY`: switching to primary</li><li>`PREPARE FLASHBACK`: preparing for Flashback  </li><li> `FLASHBACK`: in Flashback mode </li><li>`PREPARE SWITCHING TO STANDBY`: preparing to switch to standby </li><li> `SWITCHING TO STANDBY`: switching to standby </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| SWITCHOVER_EPOCH| bigint(20)| NO | Unique identifier of the SWITCHOVER/FAILOVER operation <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| SYNC_SCN| bigint(20) unsigned| NO | The latest snapshot version synchronized by the tenant. For system tenants and Meta tenants, this column displays NULL. <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| REPLAYABLE_SCN| bigint(20) unsigned| NO | The latest snapshot version that can be replayed by the tenant. For system tenants and Meta tenants, this column displays NULL. <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| READABLE_SCN| bigint(20) unsigned| NO | The latest snapshot version that can be read by the tenant. For system tenants and Meta tenants, this column displays NULL. <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| RECOVERY_UNTIL_SCN| bigint(20) unsigned| NO | The latest recovery point of the tenant. For system tenants and Meta tenants, this column displays NULL. <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| LOG_MODE| varchar(100)| NO | Archival mode:<ul><li>  `ARCHIVELOG`: archival mode is being enabled. </li><li> `NOARCHIVELOG`: archival mode is disabled. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| ARBITRATION_SERVICE_STATUS |  varchar(64)   | NO | Status of the arbitration service of the tenant, which can take on the following values:<ul><li>`ENABLING`: enabling   </li><li> `ENABLED`: enabled</li><li> `DISABLING`: disabling</li><li>`DISABLED`: disabled </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.1.0. </p></main> |
| UNIT_NUM | bigint(20) | NO | Number of units in the zone<main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.2.0. </p></main> |
| COMPATIBLE | varchar(65536) | NO | Compatibility version<main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.2.0. </p></main> |
| MAX_LS_ID  | bigint(20)     | NO | The largest log stream ID that the tenant has ever had. For system tenants and Meta tenants, this value is 1, and for user tenants, it is the actual size. <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.2.0. </p></main> |
| RESTORE_DATA_MODE  | varchar(128)     | NO | Mode for restoring data to the tenant. Valid values include:<ul><li>`NORMAL`: the tenant is normally created or restored through full data restore. </li><li>`REMOTE`: the tenant is quickly restored, and the data is in a remote reference state. </li></ul> <main id="notice" type='explain'><h4>Note</h4><p>Introduced in V4.3.3. </p></main> |

## Sample query

A user tenant queries the basic information of the tenant.

```shell
obclient [oceanbase]> SELECT * FROM oceanbase.DBA_OB_TENANTS\G
```

The query result is as follows:

```shell
*************************** 1. row ***************************
                 TENANT_ID: 1002
               TENANT_NAME: mysql001
               TENANT_TYPE: USER
               CREATE_TIME: 2024-08-08 10:28:21.355856
               MODIFY_TIME: 2024-08-08 10:28:41.044814
              PRIMARY_ZONE: zone1
                  LOCALITY: FULL{1}@zone1
         PREVIOUS_LOCALITY: NULL
        COMPATIBILITY_MODE: MYSQL
                    STATUS: NORMAL
             IN_RECYCLEBIN: NO
                    LOCKED: NO
               TENANT_ROLE: PRIMARY
         SWITCHOVER_STATUS: NORMAL
          SWITCHOVER_EPOCH: 0
                  SYNC_SCN: 1723170356638494000
            REPLAYABLE_SCN: 1723170356638494000
              READABLE_SCN: 1723170356137986004
        RECOVERY_UNTIL_SCN: 4611686018427387903
                  LOG_MODE: NOARCHIVELOG
ARBITRATION_SERVICE_STATUS: DISABLED
                  UNIT_NUM: 1
                COMPATIBLE: 4.3.2.1
                 MAX_LS_ID: 1001
         RESTORE_DATA_MODE: NORMAL
1 row in set
```

## References

[Tenant types](../../../../600.manage/200.tenant-management/300.tenant-type.md)