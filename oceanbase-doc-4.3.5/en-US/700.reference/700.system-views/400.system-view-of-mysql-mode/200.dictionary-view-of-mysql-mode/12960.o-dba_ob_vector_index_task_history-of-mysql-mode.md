|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|
|machine-translation||

# oceanbase.DBA_OB_VECTOR_INDEX_TASK_HISTORY

<main id="notice" type='explain'>
<h4>Note</h4>
<p>This view is available starting with OceanBase Database V4.3.5 BP3. </p>
</main>

## Purpose

The `DBA_OB_VECTOR_INDEX_TASK_HISTORY` view displays the historical information of vector index partition rebuild tasks in the current tenant.

## Columns

| Column | Type | Nullable | Description |
|---------------------------|---------------|------|----|
| TABLE_ID	                | bigint(20)	| YES   | The ID of the table. |
| TABLET_ID	                | bigint(20)	| YES   | The ID of the partition. |
| TASK_ID	                | bigint(20)	| YES   | The ID of the task. |
| START_TIME	                | timestamp(6)	| YES   | The start time of the task. |
| MODIFY_TIME	                | timestamp(6)	| YES   | The end time of the task. |
| TRIGGER_TYPE	                | varchar(16)	| NO   | The type of the task trigger. Valid values: <ul><li><code>0</code>: automatic trigger</li><li><code>1</code>: manual trigger</li></ul> |
| STATUS	                | varchar(16)	| NO   | The status of the task. Valid values: <ul><li><code>0</code>: preparing</li><li><code>1</code>: executing</li><li><code>2</code>: paused</li><li><code>3</code>: completed</li></ul> |
| TASK_TYPE	                | bigint(20)	| NO   | The type of the task. Valid values: <ul><li><code>0</code>: asynchronous build</li><li><code>1</code>: index partition rebuild</li></ul>      | |
| TASK_SCN	                | bigint(20)	| NO   | The version number of the task. |
| RET_CODE	                | bigint(20)	| NO   | The status of the task at the end. Valid values: <ul><li><code>0</code>: succeeded</li><li><code>Non-zero</code>: failed</li></ul> |
| TRACE_ID	                | varchar(512)	| NO   | The trace ID of the task. |

## Sample query

In the sys tenant, query the vector index performance optimization tasks of all tenants.

```sql
SELECT * FROM oceanbase.DBA_OB_VECTOR_INDEX_TASK_HISTORY;
```

The query result is as follows:

```shell
+----------+---------------------+---------+----------------------------+----------------------------+--------------+----------+-----------+------------------+----------+------------------------------------+
| TABLE_ID | TABLET_ID           | TASK_ID | START_TIME                 | MODIFY_TIME                | TRIGGER_TYPE | STATUS   | TASK_TYPE | TASK_SCN         | RET_CODE | TRACE_ID                           |
+----------+---------------------+---------+----------------------------+----------------------------+--------------+----------+-----------+------------------+----------+------------------------------------+
|   500009 | 1152921504606846980 |   20332 | 1970-08-23 17:08:27.174915 | 1970-08-23 17:08:27.174925 | AUTO         | FINISHED |         1 | 1746611355009627 |        0 | Y61460BA2DAD8-000634872C0CED50-0-1 |
|   500017 | 1152921504606846987 |   22023 | 1970-08-23 17:08:27.175705 | 1970-08-23 17:08:27.175845 | AUTO         | FINISHED |         1 | 1746611825281271 |        0 | Y61460BA2DAD8-000634872BECF00C-0-1 |
+----------+---------------------+---------+----------------------------+----------------------------+--------------+----------+-----------+------------------+----------+------------------------------------+
2 rows in set
```

## References

* [DBA_OB_VECTOR_INDEX_TASKS](12950.o-dba_ob_vector_index_tasks-of-mysql-mode.md)