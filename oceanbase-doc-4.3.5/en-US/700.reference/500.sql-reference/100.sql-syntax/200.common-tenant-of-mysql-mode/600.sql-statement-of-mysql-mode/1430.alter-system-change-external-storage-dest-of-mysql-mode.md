| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | MySQL Mode      |
|machine-translation||

# ALTER/CHANGE/MODIFY EXTERNAL_STORAGE_DEST

## Purpose

This statement updates the `access_id` and `access_key` and other key information of the backup or log archive path in the current tenant.

## Limitations and considerations

* For V4.3.5, this statement is supported starting from V4.3.5 BP2.

* Only user tenants can execute this statement. System tenants (sys tenants) cannot execute it.

## Privileges requirements

To execute this statement, the user must have the `ALTER SYSTEM` privilege. For more information about the privileges in OceanBase Database, see [Privilege types in MySQL mode](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/100.permission-classification-of-mysql.md).

## Syntax

```sql
ALTER SYSTEM {ALTER|CHANGE|MODIFY} EXTERNAL_STORAGE_DEST PATH [=] 'path' SET ACCESS_INFO = 'access_id=new_access_id&access_key=new_access_key';
```

## Parameters

| Parameter | Description |
| --- | --- |
| path | The backup path or log archive path for which you want to change the keys. The path must be an object storage path configured for the current tenant. The path must also contain `host` information. For example, if you use Alibaba Cloud Object Storage Service (OSS), the path is in the `oss://oceanbase-test-bucket/backup/databackup?host=***` format. |
| access_id=new_access_id&access_key=new_access_key | The new `access_id` and `access_key` after the change. You must specify both the `access_id` and `access_key`. |

## Examples

* Change the `access_id` and `access_key` of an archive path.

  * OSS

    ```shell
    obclient> ALTER SYSTEM MODIFY EXTERNAL_STORAGE_DEST PATH='oss://oceanbase-test-bucket/backup/archive?host=****.aliyun-inc.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

  * S3

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='s3://oceanbase-test-bucket/backup/archive?host=s3.<region>.amazonaws.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

  * Object storage services compatible with the S3 protocol (OBS, GCS, and COS)

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='s3://oceanbase-test-bucket/backup/archive?host=obs.****.myhuaweicloud.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='s3://oceanbase-test-bucket/backup/archive?host=https://storage.googleapis.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='s3://oceanbase-test-bucket/backup/archive?host=cos.ap-xxxx.myqcloud.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

* Change the `access_id` and `access_key` of a backup path.

  * OSS

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='oss://oceanbase-test-bucket/backup/data?host=****.aliyun-inc.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

  * S3

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='s3://oceanbase-test-bucket/backup/data?host=s3.<region>.amazonaws.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

  * Object storage services compatible with the S3 protocol (OBS, GCS, and COS)

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='s3://oceanbase-test-bucket/backup/data?host=obs.****.myhuaweicloud.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='s3://oceanbase-test-bucket/backup/data?host=https://storage.googleapis.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

    ```shell
    obclient> ALTER SYSTEM CHANGE EXTERNAL_STORAGE_DEST PATH='s3://oceanbase-test/backup/data?host=cos.ap-xxxx.myqcloud.com' SET ACCESS_INFO = 'access_id=******&access_key=******';
    ```

## References

[Change `access_id` and `access_key` of a backup or log archive path](../../../../../600.manage/600.backup-and-recovery/450.change-sk-and-ak-for-the-backup-path-or-logarchive-path.md)