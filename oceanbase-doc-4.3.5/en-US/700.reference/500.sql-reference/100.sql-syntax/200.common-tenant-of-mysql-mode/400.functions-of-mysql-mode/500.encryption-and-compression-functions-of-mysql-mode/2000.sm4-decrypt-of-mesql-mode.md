| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   | MySQL Mode      |
|machine-translation||

# SM4_DECRYPT

<main id="notice" type='notice'>
  <h4>Notice</h4>
  <p>OceanBase Database Community Edition does not support the <code>SM4_DECRYPT</code> system function. </p>
</main>

## Syntax

```sql
SM4_DECRYPT(str,key_str[,init_vector])
```

## Purpose

`AES_DECRYPT()` returns the plaintext obtained by decrypting the ciphertext specified by `str` by using the key specified by `key_str` and the SM4 algorithm.

For more information about the `init_vector` parameter, see [SM4_ENCRYPT](1900.sm4-of-mysql-mode.md).

## Examples

1. In `sm4-ecb` mode, `SM4_DECRYPT()` accepts two arguments `{str, key_str}`. If three values are passed in, the third value is ignored. Here is an example:

    ```javascript
    SET block_encryption_mode = 'sm4-ecb';

    SELECT hex(sm4_decrypt('asdasdasdasd', '12312313123'))  FROM dual;
    +-------------------------------------------------+
    | hex(sm4_decrypt('asdasdasdasd', '12312313123')) |
    +-------------------------------------------------+
    | NULL                                            |
    +-------------------------------------------------+
    1 row in set
    ```

2. In `sm4-cbc`, `sm4-cfb`, and `sm4-ofb` modes, `SM4_DECRYPT()` accepts only three arguments. Here is an example:

    ```javascript
    SET block_encryption_mode= 'sm4-cbc';

    SELECT hex(sm4_decrypt('asdasdasdasd', '12312313123', 'asdasdkljasdkljalskdjaklsdjaklsjdaklsdjlaksdj'))  FROM dual;
    +--------------------------------------------------------------------------------------------------+
    | hex(sm4_decrypt('asdasdasdasd', '12312313123', 'asdasdkljasdkljalskdjaklsdjaklsjdaklsdjlaksdj')) |
    +--------------------------------------------------------------------------------------------------+
    | NULL                                                                                             |
    +--------------------------------------------------------------------------------------------------+
    1 row in set
    ```