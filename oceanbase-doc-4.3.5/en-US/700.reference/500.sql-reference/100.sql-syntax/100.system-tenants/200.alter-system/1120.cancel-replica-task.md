| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   |                 |
|machine-translation||

# CANCEL REPLICA TASK

## Purpose

You can use the `CANCEL REPLICA TASK` statement to cancel an ongoing replica task.

## Limitations and considerations

* You can cancel only a replica adding or migration task. You can query the `DBA_OB_LS_REPLICA_TASKS` view for ongoing replica tasks.
* This statement cancels only one replica task of the tenant at a time.
* The cancellation statement is reentrant. Executing the statement multiple times produces the same effect as executing the statement only once.
* Make sure that the replica task to be canceled is in progress. You cannot cancel a completed replica task.
* If the cancellation statement returns success, it only means that RootService has sent the cancellation RPC to the underlying layer, but the underlying layer cannot guarantee that the replica task can be successfully canceled. This is because the replica task is executed in multiple phases, and if the task has reached the last execution phase, it cannot be canceled. You can query the `DBA_OB_LS_REPLICA_TASK_HISTORY` view for the task cancellation result. If the value of the `TASK_STATUS` column is `CANCELED`, the replica task is successfully canceled.

## Required privileges

To execute this statement, you must have the `ALTER SYSTEM` privilege. For more information about privileges in OceanBase Database, see [Privilege types in MySQL mode](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/100.permission-classification-of-mysql.md) and [Privilege types in Oracle mode](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/300.permission-of-oracle-mode/000.permission-classification-of-oracle-mode.md).

## Syntax

```sql
ALTER SYSTEM CANCEL REPLICA TASK
    TASK_ID [=] task_id
    [TENANT [=] '$tenant_name'];
```

## Parameters

|     **Parameter**      |             **Description**               |
|-------------------|------------------------------------|
| task_id           | The ID of the replica task to be canceled. |
| tenant_name       | Optional. The name of the target tenant. If this parameter is not explicitly specified, the name of the current tenant is used. <main id="notice" type='notice'><h4>Notice</h4><p>You can specify another tenant in the `sys` tenant and specify only the current tenant in a user tenant. You cannot use the <code>ALL</code>, <code>ALL_USER</code>, or <code>ALL_META</code> option in this statement to specify all tenants, all user tenants, or all meta tenants. </p></main>|

## Examples

Execute the following statement in the `sys` tenant to cancel the ongoing replica task of the `mysql001` tenant:

```sql
ALTER SYSTEM CANCEL REPLICA TASK
    TASK_ID = 'Y13CE64586BD4-000610C5F3EDBBCB-0-0'
    TENANT = 'mysql001';
```

For more information about how to cancel an ongoing replica task, see [Cancel a replica task](../../../../../600.manage/300.replica-management/200.replica-distribution/200.locality-common-operations/900.cancel-a-replica-task.md).

## References

* For information about how to add a replica, see [ADD REPLICA](110.add-replica-in-system-tenants.md).
* For information about how to drop a replica, see [REMOVE REPLICA](3130.remove-replica.md).
* For information about how to modify the type of a replica, see [MODIFY REPLICA](1450.modify-replica.md).
* For information about how to migrate a replica, see [MIGRATE REPLICA](1350.migrate-replica.md).
* For information about how to modify the `PAXOS_REPLICA_NUM` parameter for a replica, see [MODIFY PAXOS_REPLICA_NUM](1440.modify-paxos-replica-num.md).
