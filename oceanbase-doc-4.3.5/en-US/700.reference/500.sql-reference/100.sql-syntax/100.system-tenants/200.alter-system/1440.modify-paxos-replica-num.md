| Description   |                 |
|---------------|-----------------|
| keywords      |                 |
| dir-name      |                 |
| dir-name-en   |                 |
| tenant-type   |                 |
|machine-translation||

# MODIFY PAXOS_REPLICA_NUM

## Purpose

You can use this statement to modify the `paxos_replica_num` parameter for a log stream, which defines the number of Paxos members for electing the leader for the log stream.

## Limitations and considerations

* This statement modifies the `paxos_replica_num` parameter for a single log stream at a time.
* For the same log stream of a tenant, except for replica migration tasks that can be executed in parallel, other disaster recovery tasks (including adding replicas, deleting replicas, converting replica types, and modifying the quorum size of the log stream) can only be executed one at a time.

    <main id="notice" type='explain'>
    <h4>Note</h4>
    <p>You can query ongoing replica tasks from the <code>CDB_OB_LS_REPLICA_TASKS</code> view in the `sys` tenant or from the <code>DBA_OB_LS_REPLICA_TASKS</code> view in a user tenant. </p>
    </main>

## Required privileges

To execute this statement, you must have the `ALTER SYSTEM` privilege. For more information about privileges in OceanBase Database, see [Privilege types in MySQL mode](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/200.permission-of-mysql-mode/100.permission-classification-of-mysql.md) and [Privilege types in Oracle mode](../../../../../600.manage/500.security-and-permissions/300.access-control/200.user-and-permission/300.permission-of-oracle-mode/000.permission-classification-of-oracle-mode.md).

## Syntax

```sql
ALTER SYSTEM MODIFY
    LS [=] ls_id
    PAXOS_REPLICA_NUM [=] paxos_replica_num
    [TENANT [=] 'tenant_name'];
```

## Parameters

|     **Parameter**      |             **Description**               |
|-------------------|------------------------------------|
| ls_id             | The ID of the target log stream. |
| paxos_replica_num | The new number of Paxos members for electing the leader for the log stream. <main id="notice" type='notice'><h4>Notice</h4><p>When you specify the `paxos_replica_num` parameter, take note of the following considerations: <ol><li>After you modify the value of the <code>paxos_replica_num</code> parameter, both the Paxos replicas and the members in the <code>MEMBER_LIST</code> of the leader must meet the majority principle. </li><li>The value of the <code>paxos_replica_num</code> parameter must be greater than or equal to the number of members in the <code>MEMBER_LIST</code> of the leader. You can query the `MEMBER_LIST` from the <code>CDB_OB_LS_LOCATIONS</code> view in the `sys` tenant or from the <code>DBA_OB_LS_LOCATIONS</code> view in a user tenant. </li><li>You can only decrease the value of the <code>paxos_replica_num</code> parameter. The absolute value of the variation of the <code>paxos_replica_num</code> value must not be greater than 1. </li></ol>If any of the preceding conditions is not met, the system will return an error. </p></main>|
| tenant_name       | Optional. The name of the target tenant. If this parameter is not explicitly specified, the name of the current tenant is used. <main id="notice" type='notice'><h4>Notice</h4><p>You can specify another tenant in the `sys` tenant and specify only the current tenant in a user tenant. You cannot use the <code>ALL</code>, <code>ALL_USER</code>, or <code>ALL_META</code> option in this statement to specify all tenants, all user tenants, or all meta tenants. </p></main>|

## Examples

Execute the following statement in the `sys` tenant to change the value of the `paxos_replica_num` parameter to `2` for the log stream with the ID of `1002` in the `mysql001` tenant.

```sql
ALTER SYSTEM MODIFY
    LS = 1002
    PAXOS_REPLICA_NUM = 2
    TENANT = 'mysql001';
```

For more information about how to modify the `paxos_replica_num` parameter for a log stream, see [Modify the number of Paxos replicas of a log stream](../../../../../600.manage/300.replica-management/200.replica-distribution/200.locality-common-operations/800.modify-paxos-replica-number.md).

## References

* For information about how to add a replica, see [ADD REPLICA](110.add-replica-in-system-tenants.md).
* For information about how to drop a replica, see [REMOVE REPLICA](3130.remove-replica.md).
* For information about how to modify the type of a replica, see [MODIFY REPLICA](1450.modify-replica.md).
* For information about how to migrate a replica, see [MIGRATE REPLICA](1350.migrate-replica.md).
* For information about how to cancel a replica task, see [CANCEL REPLICA TASK](1120.cancel-replica-task.md).
