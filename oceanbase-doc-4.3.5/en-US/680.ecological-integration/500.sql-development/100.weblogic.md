|description||
|---|---|
|keywords||
|dir-name|WebLogic|
|dir-name-en|WebLogic|
|tenant-type|Oracle Mode, MySQL Mode|

# Connect to OceanBase Database by using WebLogic

WebLogic is a Java EE (Jakarta EE) application server provided by Oracle, used for deploying and running enterprise-level Java applications. It is widely used in financial institutions such as banks, securities, and insurance companies. WebLogic supports high concurrency, distributed architectures, and cluster management, and is commonly employed in large-scale business systems, such as core banking systems and securities trading systems.

## Prerequisites

* Ensure that Oracle JDK is installed (WebLogic does not support OpenJDK).
* Obtain and install WebLogic Server 14.1.1 or later.
* Ensure that the IP address of the OBServer node to be connected is reachable from the machine where WebLogic is installed.
* Create an OceanBase database (V4.3.5 or later) and a tenant.

## Procedure

### Step 1: Download and prepare the installation files

1. Download the Generic Installer (`fmw_14.1.1.0.0_wls.jar`) from the [Oracle Fusion Middleware Software Downloads page](https://www.oracle.com/technetwork/middleware/weblogic/downloads/index.html).

2. Create a system user for installing and running WebLogic (execute the following commands with root privileges):

   ```bash
   # Switch to the root user and execute the following commands
   groupadd weblogic
   useradd -g weblogic weblogic
   passwd weblogic
   # Enter the password twice to complete the settings
   ```

3. Upload the downloaded `fmw_14.1.1.0.0_wls.jar` to the `/home/weblogic/` directory on the server and set the permissions:

   ```bash
   chown weblogic:weblogic /home/weblogic/fmw_14.1.1.0.0_wls.jar
   ```

4. Use the root user to create the `/opt/weblogic` directory and grant permissions:

   ```bash
   mkdir -p /opt/weblogic/oraInventory
   mkdir -p /opt/weblogic/Oracle
   mkdir -p /opt/weblogic/Oracle/Middleware
   chmod 777 /opt/weblogic
   chown -R weblogic:weblogic /opt/weblogic
   ```

5. Create the oraInst.loc file:

   ```bash
   cd /opt/weblogic
   echo "inventory_loc=/opt/weblogic/oraInventory
   inst_group=weblogic" > oraInst.loc
   ```

6. Create the wls.rsp response file:

   ```bash
   echo "[ENGINE]
   Response File Version=1.0.0.0.0
   [GENERIC]
   ORACLE_HOME=/opt/weblogic/Oracle/Middleware
   INSTALL_TYPE=WebLogic Server" > wls.rsp
   ```

### Step 2: Install WebLogic

1. Switch to the weblogic user and install WebLogic:

   ```bash
   su - weblogic
   cd /home/weblogic
   java -jar fmw_14.1.1.0.0_wls.jar -silent -responseFile /opt/weblogic/wls.rsp -invPtrLoc /opt/weblogic/oraInst.loc
   ```

2. After the installation is complete, create a WebLogic domain:

   ```bash
   source /opt/weblogic/Oracle/Middleware/wlserver/server/bin/setWLSEnv.sh
   mkdir -p /opt/weblogic/Oracle/Middleware/user_projects/domains/hnDoMain
   cd /opt/weblogic/Oracle/Middleware/user_projects/domains/hnDoMain
   $JAVA_HOME/bin/java $JAVA_OPTIONS -Xmx1024m -XX:MaxPermSize=2048m weblogic.Server
   ```

3. Upload the OceanBase client to the domain directory:

   ```bash
   # Upload oceanbase-client to
   /opt/weblogic/Oracle/Middleware/user_projects/domains/hnDoMain/lib/
   ```

### Step 3: Configure the OceanBase data source

1. Log in to the WebLogic management console (default URL: `http://<hostname>:7001/console`).

2. In the left-side navigation pane, choose **<UI-TERM key="ocp-v2.Backup.Service.Edit.Service">Service</UI-TERM>** > **<UI-TERM key="odc.SensitiveColumn.components.SacnRule.DataSource">Data Source</UI-TERM>**.

3. Click **<UI-TERM key="src.page.Project.User.ManageModal.CreateAuth.2829F833">Create</UI-TERM>** > **General Data Source**.

4. Fill in the data source information:

   * Name: `obmysql`
   * JNDI name: `JNDI/obmysql`
   * Database type: `Other`

5. Configure the database connection:

   * Driver class name: `com.oceanbase.jdbc.Driver`
   * URL: `jdbc:oceanbase://<host>:<port>/<database>`
   * Username: `<username>`
   * Password: `<password>`

6. Click **Test Configuration** to verify the connection.

7. Click **<UI-TERM key="odc.component.CommonTaskDetailModal.TaskFlow.Completed">Complete</UI-TERM>** to save the configuration.

## More information

If you encounter any issues while connecting to OceanBase Database through WebLogic, we recommend that you refer to the [official WebLogic documentation](https://www.oracle.com/java/weblogic/) or contact OceanBase Technical Support.