|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|

# セーブポイントの設定

`SAVEPOINT` ステートメントは、トランザクションの途中に「セーブポイント」を設定します。設定したセーブポイントまで、トランザクションをロールバックさせることが可能です。セーブポイントはオプションであり、1つのトランザクション内で複数のセーブポイントを設定することができます。

## セーブポイントの設定

トランザクションが開始された後、以下のステートメントを使用してセーブポイントを設定できます。

```sql
SAVEPOINT pointname;
```

ここで、`pointname` はトランザクションのセーブポイント名を表します。

以下の例は、トランザクションを開始した後に、複数のセーブポイントを設定する方法を示しています。

```sql
obclient [test]> SET SESSION autocommit=0;
Query OK, 0 rows affected

obclient [test]> BEGIN;
Query OK, 0 rows affected

obclient [test]> INSERT INTO ordr(id, name) VALUES(6,'FR');
Query OK, 1 row affected

obclient [test]> SAVEPOINT fr;
Query OK, 0 rows affected

obclient [test]> INSERT INTO ordr(id, name) VALUES(7,'RU');
Query OK, 1 row affected

obclient [test]>  SAVEPOINT ru;
Query OK, 0 rows affected

obclient [test]> INSERT INTO ordr(id, name) VALUES(8,'CA');
Query OK, 1 row affected

obclient [test]> SAVEPOINT ca;
Query OK, 0 rows affected
```

## 関連ドキュメント

* [トランザクションを特定のセーブポイントにロールバックする](../300.transaction-savepoints-of-mysql-mode/200.rollback-to-a-savepoint-of-mysql-mode.md)

* [セーブポイントの解放](../300.transaction-savepoints-of-mysql-mode/300.release-a-savepoint-of-mysql-mode.md)
