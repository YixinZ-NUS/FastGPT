|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|MySQL Mode|

# Navicatによるデータベースへの接続

Navicatは汎用的なデータベースクライアントツールであり、各データベースが提供するJDBCドライバーを使用してデータベースに接続します。リレーショナルデータベース、非リレーショナルデータベース、分散データベースなど、一般的なデータベースに対応しています。

Navicatに搭載されているOceanBaseドライバーまたはMySQLドライバーのいずれかを使用して、OceanBaseデータベースのMySQLテナントに接続できます。本記事では、OceanBaseドライバーを例に、Navicatを使用してOceanBaseデータベースのMySQLテナントに接続する方法を紹介します。

## 前提条件

* Navicatを取得しインストール済みであることを確認してください。[Navicat Premium公式ダウンロードURL](https://jp.navicat.com/)から、お使いのシステムに対応するNavicatをダウンロードしてください。

* 接続するOBServerノードのIPアドレスと、Navicatが配置されているマシンとの間でネットワーク接続が確立されていることを確認してください。

* OceanBaseデータベースがインストール済みで、MySQLモードのテナントが作成されていることを確認してください。

## 操作手順

### ステップ1：データベース接続文字列を取得する

OceanBaseデータベースのデプロイ担当者または管理者から、該当するデータベース接続文字列を取得します。例：

```
obclient -h$host -P$port -u$user_name -p$password -D$database_name
```

**パラメータの説明：**

* `$host`：OceanBaseデータベースへの接続IPアドレス。OceanBaseデータベースプロキシ(OceanBase Database Proxy、ODP)による接続方式ではODPアドレスを使用し、直接接続方式ではOBServerノードのIPアドレスを使用します。
* `$port`：OceanBaseデータベースへの接続ポート。ODP接続を使用する場合デフォルトは`2883`ですが、ODPをデプロイする際にカスタマイズできます。直接接続方式のデフォルトポートは`2881`で、OceanBaseデータベースをデプロイする際にカスタマイズできます。
* `$database_name`：アクセス対象のデータベース名。

    <main id="notice" type='notice'>
        <h4>注意</h4>
        <p>テナントに接続するユーザーは、データベースに対する<code>CREATE</code>、<code>INSERT</code>、<code>DROP</code>、および<code>SELECT</code>権限が付与されていなければなりません。その他のユーザー権限の詳細については、<a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001974758">MySQLモードの権限分類</a>を参照してください。</p>
    </main>

* `$user_name`：テナントの接続アカウント。ODP接続の一般的な形式：`ユーザー名@テナント名#クラスタ名`または`クラスタ名:テナント名:ユーザー名`。直接接続方式の形式：`ユーザー名@テナント名`。
* `$password`：アカウントのパスワード。

その他の接続文字列の情報については、[OBClientによるOceanBaseテナントへの接続](300.connect-to-an-oceanbase-tenant-by-using-obclient-of-mysql-mode.md)を参照してください。

** 例：**

```shell
obclient -hxxx.xxx.xxx.xxx -P2881 -utest_user001@mysql001 -p****** -Dtest
```

### ステップ2：Navicatコンソールを使用してOceanBaseデータベースに接続する

<main id="notice" type='notice'>
    <h4>説明</h4>
    <p>Navicatのバージョンによって操作画面が異なる場合があります。この記事では、Navicat 16.3.7を例にデータベース接続のステップを説明します。他のバージョンでの操作については、Navicatの対応するバージョンのプロダクトドキュメントを参照してください。</p>
</main>

1. **接続**>**OceanBase**>**OceanBase Enterprise Edition (MySQLモード)**をクリックして、**新規接続**ページに進みます。

   <!-- ![データベースの選択](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.0/develop/sample-program/navicat/4.connect-to-oceanbase-database-through-Navicat-02.png) -->

2. **新規接続**ページで、接続するデータベースの情報に基づいて入力します。入力後、**接続テスト**をクリックします。

   <!-- ![テスト](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.0/develop/sample-program/navicat/4.connect-to-oceanbase-database-through-Navicat-03.png) -->

   <main id="notice" type='notice'>
       <h4>説明</h4>
       <p>データベースへの接続には、IPアドレスによる直接接続と、OBProxy経由での接続という2つの方法があります。直接接続する場合は、Portに<code>mysql_port</code>の値を入力します。デフォルトのポートは2881です。OBProxyを使用して接続する場合は、Portに<code>proxy_port</code>を入力します。こちらのデフォルトポートは2883です。</p>
   </main>

3. **接続テスト**のポップアップウィンドウに**接続済み** と表示されれば接続成功です。**保存**をクリックすると、OceanBaseデータベースに接続できます。

4. **データベースナビゲーション**バーのデータベース名をダブルクリックし、情報が正しく表示されれば、OceanBaseデータベースへの接続は成功です。

   <!-- ![接続結果](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.0/develop/sample-program/navicat/4.connect-to-oceanbase-database-through-Navicat-05.png) -->

## 詳細情報

Navicatを使用してOceanBaseデータベースに接続する際に問題が発生した場合は、[Navicatクライアント公式使用ドキュメント](https://jp.navicat.com/support/online-manual)を参照することを推奨します。
