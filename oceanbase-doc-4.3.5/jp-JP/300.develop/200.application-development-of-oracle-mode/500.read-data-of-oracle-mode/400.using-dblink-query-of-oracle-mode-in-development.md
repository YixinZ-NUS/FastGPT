|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|

# DBLinkを使用したクエリ

OceanBaseデータベースのDBLink機能は、データソース間のアクセスを可能にする機能であり、ローカルデータベース上からリモートデータベースにアクセスすることができます。DBLinkの作成に成功すると、それを通じて、テーブル、ビュー、シノニムといったリモートデータベースのオブジェクトにアクセスできるようになります。

## 前提条件

DBLinkが作成済みであること。DBLinkの作成方法の詳細については、[DBLinkの作成](https://en.oceanbase.com/docs/common-oceanbase-database-10000000001976302)を参照してください。

## リモートデータベース内のテーブルデータのクエリ

SQLステートメントは以下のとおりです：

```sql
SELECT select_expr_list FROM table_name@dblink_name WHERE where_conditions;
```

パラメータの説明：

* `select_expr_list`：クエリ対象の式または列名を指定します。複数の列は半角カンマ（,）で区切り、アスタリスク（\*）はすべての列を表します。

* `table_name@dblink_name`：クエリ対象のリモートデータベースのテーブルを指定します。複数のデータベースを指定する場合は、半角カンマ（,）で区切ります。

* `where_conditions`：フィルタ条件を指定すると、クエリ結果には条件を満たすデータのみが含まれまれるようになります。これはオプションです。

## 例

DBLinkを使用する手順は以下のとおりです：

1. 以下のSQLステートメントを使用して、リモートのOceanBaseデータベースOracleモードに接続するDBLinkを作成します。DBLinkの名前は `my_link` で、リモートテナントは `oracle001` です。

    ```sql
    CREATE DATABASE LINK my_link CONNECT TO sys@oracle001 IDENTIFIED BY "******" OB HOST 'xxx.xxx.xxx.xxx:2881';
    ```

2. 以下のSQLステートメントを使用し、`my_link` という名前のDBLinkを使用して、リモートデータベース内のテーブル `test_tbl1` のデータをクエリします。

    ```sql
    SELECT * FROM test_tbl1@my_link;
    ```

    実行結果は次のとおりです：

    ```shell
    +------+------+
    | COL1 | COL2 |
    +------+------+
    |    1 | a1   |
    |    2 | b2   |
    +------+------+
    2 rows in set
    ```

## 関連ドキュメント

* DBLinkの作成に関する情報については、[DBLinkの作成](https://en.oceanbase.com/docs/common-oceanbase-database-10000000001976302)を参照してください。

* DBLinkの使用に関する情報については、[DBLinkを使用してリモートデータベースのデータにアクセスする](https://en.oceanbase.com/docs/common-oceanbase-database-10000000001973592)を参照してください。

* `SELECT` の使用に関する情報については、[SIMPLE SELECT](https://en.oceanbase.com/docs/common-oceanbase-database-10000000001976262)を参照してください。