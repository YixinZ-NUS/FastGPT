|description||
|---|---|
|keywords||
|dir-name||
|dir-name-en||
|tenant-type|Oracle Mode|

# 組み込み関数

この記事では、OceanBaseデータベースのOracleモードとネイティブOracleデータベースの関数の互換性比較情報の詳細について説明します。

Oracleデータベース(19c)は312個の組み込み関数をサポートしていますが、OceanBaseデータベースは現在、173個をサポートしています。詳細については、[関数](https://en.oceanbase.com/docs/common-oceanbase-database-10000000001974229)を参照してください。

## 算術演算の関数

| # | Oracleデータベース | OceanBaseデータベース |
|----|----------------|-------------------|
| 1  | ABS            | サポート                |
| 2  | ACOS           | サポート                |
| 3  | ASIN           | サポート                |
| 4  | ATAN           | サポート                |
| 5  | ATAN2          | サポート                |
| 6  | BITAND         | サポート                |
| 7  | CEIL           | サポート                |
| 8  | COS            | サポート                |
| 9  | COSH           | サポート                |
| 10 | EXP            | サポート                |
| 11 | FLOOR          | サポート                |
| 12 | LN             | サポート                |
| 13 | LOG            | サポート                |
| 14 | MOD            | サポート                |
| 15 | NANVL          | サポート                |
| 16 | POWER          | サポート                |
| 17 | REMAINDER      | サポート                |
| 18 | ROUND (number) | サポート                |
| 19 | SIGN           | サポート                |
| 20 | SIN            | サポート                |
| 21 | SINH           | サポート                |
| 22 | SQRT           | サポート                |
| 23 | TAN            | サポート                |
| 24 | TANH           | サポート                |
| 25 | TRUNC (number) | サポート                |
| 26 | WIDTH_BUCKET   | サポート                |

## 文字列関数

| # |    Oracleデータベース    | OceanBaseデータベース |
|----|---------------------|-------------------|
| 1  | CHR                 | サポート               |
| 2  | CONCAT              | サポート               |
| 3  | INITCAP             | サポート               |
| 4  | LOWER               | サポート               |
| 5  | LPAD                | サポート               |
| 6  | LTRIM               | サポート               |
| 7  | NLS_LOWER           | サポート               |
| 8  | NLS_UPPER           | サポート               |
| 9  | REGEXP_REPLACE      | サポート               |
| 10 | REGEXP_SUBSTR       | サポート               |
| 11 | REPLACE             | サポート               |
| 12 | RPAD                | サポート               |
| 13 | RTRIM               | サポート               |
| 14 | SUBSTR              | サポート               |
| 15 | TRANSLATE           | サポート               |
| 16 | TRANSLATE ... USING | サポート               |
| 17 | TRIM                | サポート               |
| 18 | UPPER               | サポート               |
| 19 | ASCII               | サポート               |
| 20 | INSTR               | サポート               |
| 21 | LENGTH              | サポート               |
| 22 | REGEXP_COUNT        | サポート               |
| 23 | REGEXP_INSTR        | サポート               |

## 日付関数

| # |   Oracleデータベース    | OceanBaseデータベース |
|----|--------------------|-------------------|
| 1  | ADD_MONTHS         | サポート               |
| 2  | CURRENT_DATE       | サポート               |
| 3  | CURRENT_TIMESTAMP  | サポート               |
| 4  | DBTIMEZONE         | サポート               |
| 5  | EXTRACT (datetime) | サポート               |
| 6  | FROM_TZ            | サポート               |
| 7  | LAST_DAY           | サポート               |
| 8  | LOCALTIMESTAMP     | サポート               |
| 9  | MONTHS_BETWEEN     | サポート               |
| 10 | NEXT_DAY           | サポート               |
| 11 | NUMTODSINTERVAL    | サポート               |
| 12 | NUMTOYMINTERVAL    | サポート               |
| 13 | ROUND (date)       | サポート               |
| 14 | SESSIONTIMEZONE    | サポート               |
| 15 | SYS_EXTRACT_UTC    | サポート               |
| 16 | SYSDATE            | サポート               |
| 17 | SYSTIMESTAMP       | サポート               |
| 18 | TO_CHAR (datetime) | サポート               |
| 19 | TO_DSINTERVAL      | サポート               |
| 20 | TO_TIMESTAMP       | サポート               |
| 21 | TO_TIMESTAMP_TZ    | サポート               |
| 22 | TO_YMINTERVAL      | サポート               |
| 23 | TRUNC (date)       | サポート               |
| 24 | TZ_OFFSET          | サポート               |

## 比較関数

| # | Oracleデータベース | OceanBaseデータベース |
|----|---------------|-------------------|
| 1  | GREATEST      | サポート               |
| 2  | LEAST         | サポート               |

## 変換関数

| # |    Oracleデータベース     | OceanBaseデータベース |
|----|----------------------|-------------------|
| 1  | ASCIISTR             | サポート               |
| 2  | CAST                 | サポート               |
| 3  | CHARTOROWID          | サポート               |
| 4  | CONVERT              | サポート               |
| 5  | HEXTORAW             | サポート               |
| 6  | NUMTODSINTERVAL      | サポート               |
| 7  | NUMTOYMINTERVAL      | サポート               |
| 8  | RAWTOHEX             | サポート               |
| 9  | ROWIDTOCHAR          | サポート               |
| 10 | ROWIDTONCHAR         | サポート               |
| 11 | SCN_TO_TIMESTAMP     | サポート               |
| 12 | TIMESTAMP_TO_SCN     | サポート               |
| 11 | TO_BINARY_DOUBLE     | サポート               |
| 12 | TO_BINARY_FLOAT      | サポート               |
| 13 | TO_BLOB              | サポート               |
| 14 | TO_CHAR (character)  | サポート               |
| 15 | TO_CHAR (datetime)   | サポート               |
| 16 | TO_CHAR (number)     | サポート               |
| 17 | TO_CLOB              | サポート               |
| 18 | TO_DATE              | サポート               |
| 19 | TO_DSINTERVAL        | サポート               |
| 20 | TO_MULTI_BYTE        | サポート               |
| 21 | TO_NUMBER            | サポート               |
| 22 | TO_NCHAR (character) | サポート               |
| 23 | TO_NCHAR (datetime)  | サポート               |
| 24 | TO_NCHAR (number)    | サポート               |
| 25 | TO_SINGLE_BYTE       | サポート               |
| 26 | TO_TIMESTAMP         | サポート               |
| 27 | TO_TIMESTAMP_TZ      | サポート               |
| 28 | TO_YMINTERVAL        | サポート               |
| 29 | UNISTR               | サポート               |

## エンコードとデコード

| # | Oracleデータベース | OceanBaseデータベース |
|----|---------------|-------------------|
| 1  | DECODE        | サポート               |
| 2  | DUMP          | サポート               |
| 3  | ORA_HASH      | サポート               |
| 4  | VSIZE         | サポート               |

## 環境変数と識別子

| # | Oracleデータベース | OceanBaseデータベース |
|----|---------------|-------------------|
| 1  | SYS_CONTEXT   | サポート               |
| 2  | SYS_GUID      | サポート               |
| 3  | UID           | サポート               |
| 4  | USER          | サポート               |
| 5  | USERENV       | サポート               |

## 階層問合せ

| # |    Oracleデータベース    | OceanBaseデータベース |
|----|---------------------|-------------------|
| 1  | SYS_CONNECT_BY_PATH | サポート            |

## NULL値処理

| # | Oracleデータベース | OceanBaseデータベース |
|----|---------------|-------------------|
| 1  | COALESCE      | サポート               |
| 2  | LNNVL         | サポート               |
| 3  | NANVL         | サポート               |
| 4  | NULLIF        | サポート               |
| 5  | NVL           | サポート               |
| 6  | NVL2          | サポート               |

## JSON

| # | Oracleデータベース | OceanBaseデータベース |
|----| --- | --- |
| 1 | JSON_ARRAY | サポート |
| 2 | JSON_OBJECT | サポート |
| 3 | JSON_ARRAYAGG | サポート |
| 4 | JSON_OBJECTAGG | サポート |
| 5 | JSON_VALUE | サポート |
| 6 | JSON_QUERY | サポート |
| 7 | JSON_MERGEPATCH | サポート |
| 8 | JSON_EQUAL | サポート |
| 9 | JSON_TABLE | サポート |

## XML

| # | Oracleデータベース | OceanBaseデータベース |
| ---   | --- | --- |
| 1   |XMLAGG       | サポート  |
| 2   |XMLELEMENT | サポート |
| 3  |XMLPARSE  |  サポート |
| 4   |EXTRACT | サポート |
| 5   |EXTRACTVALUE | サポート |
| 6   |XMLSERIALIZE |  サポート |
| 7   |XMLCAST | サポート |
| 8   |UPDATEXML |  サポート |

## 集計関数

| # |        Oracleデータベース         | OceanBaseデータベース |
|----|------------------------------|-------------------|
| 1  | APPROX_COUNT_DISTINCT        | サポート                |
| 2  | AVG \*                       | サポート                |
| 3  | CORR \*                      | サポート                |
| 4  | COUNT \*                     | サポート                |
| 5  | COVAR_POP \*                 | サポート                |
| 6  | COVAR_SAMP \*                | サポート                |
| 7  | CUME_DIST \*                 | サポート                |
| 8  | DENSE_RANK \*                | サポート                |
| 9  | GROUPING                     | サポート                |
| 10 | KEEP \*                      | サポート                |
| 11 | LISTAGG \*                   | サポート                |
| 12 | MAX \*                       | サポート                |
| 13 | MIN \*                       | サポート                |
| 14 | MEDIAN \*                    | サポート                |
| 15 | PERCENT_RANK \*              | サポート                |
| 16 | PERCENTILE_CONT \*           | サポート                |
| 17 | PERCENTILE_DISC \*           | サポート                |
| 18 | RANK \*                      | サポート                |
| 19 | REGR_ (Linear Regression) \* | サポート                |
| 20 | ROLLUP                       | サポート                |
| 21 | STDDEV \*                    | サポート                |
| 22 | STDDEV_POP \*                | サポート                |
| 23 | STDDEV_SAMP \*               | サポート                |
| 24 | SUM \*                       | サポート                |
| 25 | VAR_POP \*                   | サポート                |
| 26 | VAR_SAMP \*                  | サポート                |
| 27 | VARIANCE \*                  | サポート                |
| 28 | WMSYS.WM_CONCAT/WM_CONCAT \* | サポート                |

<main id="notice" type='explain'>
  <h4>説明</h4>
  <p><code>*</code>は、同関数が集計関数と分析関数の両方であることを示しています。</p>
</main>

## 分析関数

| # |  Oracleデータベース  | OceanBaseデータベース |
|----|-----------------|-------------------|
| 1  | FIRST_VALUE     | サポート                |
| 2  | LAG             | サポート                |
| 3  | LAST_VALUE      | サポート                |
| 4  | LEAD            | サポート                |
| 5  | NTH_VALUE       | サポート                |
| 6  | NTILE           | サポート                |
| 7  | RATIO_TO_REPORT | サポート                |
| 8  | ROW_NUMBER      | サポート                |

<main id="notice" type='explain'>
  <h4>説明</h4>
  <p>集計関数表で<code>*</code>とマークされた関数は、分析関数にも属するため、この表では重複して記載していません。</p>
</main>
