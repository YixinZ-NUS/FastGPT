# 主要機能のリリース履歴

この記事では、リアルタイム分析に関連するコア機能の変更点のみを記載しています。OceanBaseデータベースの全バージョンにおける機能強化とイテレーションの詳細については、リリースノートをご参照ください。

# V4.3.5 BP4

### バージョン情報

* リリース日：2025年09月10日
* バージョン番号：V4.3.5 BP4

### 新機能・機能強化

* マテリアライズドビューの機能強化

  V4.3.5 BP4では、マテリアライズドビューの能力を継続的に向上させています。機能面では、マテリアライズドビューの増分更新時に、ディメンションテーブルの更新をスキップできるようにしました。マテリアライズドビューを作成する際には、新たに導入されたAS OF PROCTIME()構文を使用して、更新不要なテーブルを指定することができます。マテリアライズドビューの増分更新を実行する際には、このテーブルの増分データは更新されません。また、単一テーブルの集計による増分更新マテリアライズドビューでは、MIN()/MAX()集計関数をサポートしています。使いやすさの観点からは、MLOGの自動管理をサポートしています。増分更新マテリアライズドビューを作成する際には、基になるテーブルに対して必要なMLOGテーブルを自動的に作成または置き換え、バックグラウンドで不要なMLOGテーブルを定期的にクリーンアップします。また、マテリアライズドビューのビュー内容とマテリアライズドビュー作成時のエラーメッセージを最適化しました。

* APパラメータテンプレートで、デフォルトで全量バイパスインポートを有効にする設定を無効にしました。

## V4.3.5 BP3

### バージョン情報

* リリース日：2025年07日21日
* バージョン番号：V4.3.5 BP3

### 新機能・機能強化

#### 外部データソースと統合の最適化

* **ODPS外部テーブルがStorage APIに対応**

  Tunnel APIをベースとしたODPS外部テーブルでは、実行段階で各パーティションをスキャンするたびに独立したセッションを開始する必要があり、セッションの開始には秒単位の遅延が生じていました。これにより、本来はごく短時間で終わるはずのクエリが、セッションの準備段階で時間を費やしてしまうという問題がありました。ODPSはTunnel APIに加え、ODPSの基盤ストレージに直接アクセスできるオープンなStorage APIも提供しており、より多くの最適化戦略と優れた読み取り性能を実現します。そのため、新バージョンではODPS Storage APIに対応し、外部テーブルへのアクセス性能をさらに向上させました。

* **オブジェクトストレージがAzure Blobをサポート**
  Azure Blobプロトコルを使用したAzure Blobオブジェクトストレージへのアクセスをサポートしました。

#### マテリアライズドビューの全体的な強化

* **マテリアライズドビューの機能強化**
  新バージョンでは、マテリアライズドビューの機能を継続的に改善しています。主な強化点として、マテリアライズドビューのRENAME対応、増分更新機能の対応範囲の拡大（外部結合、UNION ALL、非集計の単一テーブルに対応）、マテリアライズドビューログの列追加サポート、ネストされたマテリアライズドビューにおける連鎖リフレッシュ機能のサポートなどが含まれます。同時に、DROP MATERIALIZED VIEWが停止する問題など、複数の不具合を修正し、マテリアライズドビューの安定性を向上させました。

#### ストレージとパーティション管理の最適化

* **1次・2次パーティションテーブル間の交換をサポート**
  パーティション交換機能で、コンポジット・パーティションテーブルの1次パーティションと1次パーティションテーブルとの交換が可能になりました。

#### オプティマイザとクエリ性能の向上

* **統計情報の強化**

  V4.3.5 BP3以前のバージョンでは、統計情報はパーティションレベルおよびテーブルレベルの各列について、MIN/MAX/NULL COUNT/NDVなどの集計データを収集し、サンプリングによってデータ分布を推定していたため、誤差が大きいという課題がありました。新バージョンでは、ストレージ層のスキップインデックス（Skip Index）機能を活用し、カラムストアの全列に対してブロックレベルのより正確な列集計データを収集することで、オプティマイザがより精度の高い実行計画の生成と最適化を行えるよう支援します。また、大規模なパーティションテーブルで統計情報の収集に時間がかかりタイムアウトする問題を解決するため、パーティションごとに段階的に統計情報を収集する方式を導入し、システムの安定性とデータのリアルタイム性を向上させました。

#### データインポートの高速化

* **ダイレクトロード(direct load)の性能最適化**

  新バージョンでは、ダイレクトロードの実行ロジックに対して性能最適化を行いました。これには、ダイレクトロードのソートアルゴリズム、ベクトル化パス、CSV解析、column_conv式、cs encoding関連の最適化が含まれます。これにより、カラムストアの非パーティションヒープテーブルにおいて、最大で10%の性能向上が見られます。

## V4.3.5 BP2

### バージョン情報

* リリース日：2025年05日15日
* バージョン番号：V4.3.5 BP2


## V4.3.5 BP1

### バージョン情報

* リリース日：2025年03月18日
* バージョン番号：V4.3.5 BP1

## V4.3.5

### バージョン情報

* リリース日：2024年12月31日
* バージョン番号：V4.3.5

## V4.3.4

### バージョン情報

* リリース日：2024年10月31日
* バージョン番号：V4.3.4

## V4.3.3

### バージョン情報

* リリース日：2024年9月30日
* バージョン番号：V4.3.3

## V4.3.2

### バージョン情報

* リリース日：2024年7月16日
* バージョン番号：V4.3.2 Beta

## V4.3.1

### バージョン情報

* リリース日：2024年5月17日
* バージョン番号：V4.3.1 Beta

## V4.3.0 Beta

### バージョン情報

* リリース日：2024年3月22日
* バージョン番号：V4.3.0 Beta
