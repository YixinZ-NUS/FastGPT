# (オプション)ユーザーの作成

本記事は、一般ユーザーを作成し、sudo権限を付与する方法について説明します。

個人ユーザーの場合は、rootユーザーでクラスタを直接デプロイし、この手順をスキップすることができます。企業ユーザーの場合は、セキュリティ確保のため、マシンに標準ユーザーアカウントを作成することを推奨します。実際の必要に応じて、よく使用するアカウントを作成することができます。

<main id="notice" type='explain'>
  <h4>説明</h4>
  <p>各マシンでこの操作を個別に実行する必要があります。</p>
</main>

以下の手順に従ってユーザーを作成します。ここでは、adminユーザーの作成を例として説明します。

1. 以下のコマンドを実行して、アカウントadminを作成します。

   ```shell
   [root@test001 ~]# useradd -U admin -d /home/admin -s /bin/bash
   [root@test001 ~]# chown -R admin:admin /home/admin
   ```

2. 以下のコマンドを実行して、アカウントadminのパスワードを設定します。

   ```shell
   [root@test001 ~]# passwd admin
   ```

3. (オプション)アカウントadminにsudo権限を設定します。

   以下のコマンドを実行して、`/etc/sudoers` ファイルを開きます：

   ```shell
   [root@test001 ~]# vim /etc/sudoers
   ```

   `/etc/sudoers` ファイルの末尾に以下の内容を追加します：

   ```shell
   ## Same thing without a password
   # %wheel        ALL=(ALL)       NOPASSWD: ALL
   admin       ALL=(ALL)       NOPASSWD: ALL
   ```

4. 以下のコマンドを実行して、クラスタ関連ファイルのディレクトリのアクセス権限を確認します。

   ここでは `data` ディレクトリを例とします：

   ```shell
   [root@test001 data]# ls -al
   ```

   以下の結果が返されます：

   ```shell
   drwxr-xr-x 2 admin admin 4096 2月9 18:43 .
   drwxr-xr-x 2 admin admin 4096 2月9 18:43 log1
   ```

   ディレクトリのアクセス権限を確認後、`admin` ユーザーに関連ファイルへのアクセス権限がない場合、以下のコマンドを実行してファイルの所有ユーザーを変更することができます：

   ```shell
   [root@test001 ~]# chown -R admin:admin /data
   [root@test001 ~]# chown -R admin:admin /redo
   ```

   ここでは `/data`、`/redo` をサンプルのマウントディレクトリとします。実際のマウントディレクトリに基づいて置き換える必要があります。
