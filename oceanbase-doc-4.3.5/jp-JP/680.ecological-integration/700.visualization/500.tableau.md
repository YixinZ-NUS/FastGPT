|description|  |
|---|---|
|keywords| |
|dir-name|Tableau|
|dir-name-en|Tableau|

# TableauでOceanBaseデータベースに接続する

本記事では、OceanBaseデータベースのMySQLモードテナントを例に、OceanBaseデータベースのデータをTableau Desktopにインポートして表示する方法を紹介します。

## 前提条件

* Tableau Desktopをダウンロードし、インストール済みであること。

* OceanBaseデータベースがインストール済みで、MySQLモードのテナントが作成されていること。

## 操作手順

### ステップ1：データベース接続文字列を取得する

OceanBaseデータベースのデプロイ担当者または管理者から、該当するデータベース接続文字列を取得します。例：

```
obclient -h$host -P$port -u$user_name -p$password -D$database_name
```

**パラメータの説明：**

* `$host`：OceanBaseデータベースへの接続IPアドレスを提供します。OceanBaseデータベースプロキシ(OceanBase Database Proxy、ODP)接続方式はODPアドレスを使用し、直接接続方式はOBServerノードのIPアドレスを使用します。
* `$port`：OceanBaseデータベースへの接続ポートを提供します。ODP接続方式のデフォルトポートは `2883` で、ODPデプロイ時にカスタマイズ可能です。直接接続方式のデフォルトポートは `2881` で、OceanBaseデータベースのデプロイ時にカスタマイズ可能です。
* `$database_name`：アクセス対象のデータベース名。

    <main id="notice" type='notice'>
        <h4>注意</h4>
        <p>テナントに接続するユーザーは、データベースに対する <code>CREATE</code>、<code>INSERT</code>、<code>DROP</code>、および <code>SELECT</code> 権限が付与されていなければなりません。ユーザー権限の詳細については、<a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001974758">MySQLモードの権限分類</a>を参照してください。</p>
    </main>

* `$user_name`：テナントの接続アカウント。ODP接続の一般的な形式：`ユーザー名@テナント名#クラスタ名` または `クラスタ名:テナント名:ユーザー名`。直接接続方式の形式：`ユーザー名@テナント名`。
* `$password`：アカウントのパスワード。

接続文字列の詳細については、[OBClientを使用してOceanBaseテナントに接続する](https://en.oceanbase.com/docs/common-oceanbase-database-10000000001971649)を参照してください。

**例：**

```shell
obclient -hxxx.xxx.xxx.xxx -P2881 -utest_user001@mysql001 -p****** -Dtest
```

### ステップ2：Tableau DesktopでOceanBaseデータベースに接続する

1. Tableau Desktopを開き、左側の **Connect** セクションの **To a Server** エリアで、**More** > **MySQL** を選択します。

2. **MySQL** のポップアップウィンドウで、**ステップ1：OceanBaseデータベース接続文字列を取得する** で取得した接続文字列に基づいて、以下の設定を完了します：

   |構成パラメータ|説明|
   |-----|----|
   |Server| 接続文字列の `-h` パラメータから取得した、OceanBaseデータベースへの接続アドレス。|
   |Port| 接続文字列の `-P` パラメータから取得したOceanBaseデータベース接続ポート。|
   |Database| 接続文字列の `-D` パラメータから取得した、アクセスする必要があるデータベース名。|
   |Username| 接続文字列の `-u` パラメータから取得した、アカウント名。|
   |Password| 接続文字列の `-p` パラメータから取得した、アカウントパスワード。|

3. **Sign In** をクリックして、OceanBaseデータベースに接続します。

    <main id="notice" type='alert'>
    <h4>説明</h4>
    <p>初めて <b>MySQL</b> を選択してデータベースに接続する場合、Tableau Desktopは接続前にMySQLドライバーのインストールを完了する必要があることを通知します。この場合、ポップアップの指示に従って、必要なMySQLドライバーをインストールした後、再度接続を試みることができます。具体的なインストール手順については、<a href="https://www.tableau.com/support/drivers?edition=pro&lang=en-us&platform=mac&cpu=64&version=2024.1&__full-version=20241.24.0308.0326#mysql">MySQL Driver Download</a> を参照してください。</p>
    </main>

## 次の操作

接続が完了した後、Tableau Desktopを使用できます。Tableauの詳細な操作ガイドについては、[Tableau Desktop公式使用ドキュメント](https://help.tableau.com/current/pro/desktop/en-us/default.htm)を参照してください。
