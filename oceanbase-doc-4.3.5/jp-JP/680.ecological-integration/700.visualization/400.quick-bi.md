|description|  |
|---|---|
|keywords| |
|dir-name|Quick BI|
|dir-name-en|Quick BI|
|tenant-type|MySQL Mode|

# Quick BIでOceanBaseに接続してデータを取得する

本記事では、Quick BIプロフェッショナル版を使用し、OceanBaseデータベースのMySQLモードを例として、Quick BIでOceanBaseデータベースに接続してデータを表示する方法を紹介します。

## 前提条件

* Quick BIプロフェッショナル版を購入していること。さらに多くのなバージョン選択と購入の詳細については、[Quick BIプロダクト料金説明](https://www.alibabacloud.com/help/en/quick-bi/product-overview/purchases-upgrades-downgrades-renewals-and-overdue-payments?)を参照してください。

* OceanBaseデータベースがインストール済みで、MySQLモードのテナントが作成されていること。

## 操作手順

### ステップ1：データベース接続文字列を取得する

OceanBaseデータベースのデプロイ担当者または管理者から、該当するデータベース接続文字列を取得します。例：

```
obclient -h$host -P$port -u$user_name -p$password -D$database_name
```

**パラメータの説明：**

* `$host`：OceanBaseデータベースへの接続IPアドレスを提供します。OceanBaseデータベースプロキシ(OceanBase Database Proxy、ODP)接続方式はODPアドレスを使用し、直接接続方式はOBServerノードのIPアドレスを使用します。
* `$port`：OceanBaseデータベースへの接続ポートを提供します。ODP接続方式のデフォルトポートは `2883` で、ODPデプロイ時にカスタマイズ可能です。直接接続方式のデフォルトポートは `2881` で、OceanBaseデータベースのデプロイ時にカスタマイズ可能です。
* `$database_name`：アクセス対象のデータベース名。

    <main id="notice" type='notice'>
        <h4>注意</h4>
        <p>テナントに接続するユーザーは、データベースに対する <code>CREATE</code>、<code>INSERT</code>、<code>DROP</code>、および <code>SELECT</code> 権限が付与されていなければなりません。ユーザー権限の詳細については、<a href="https://en.oceanbase.com/docs/common-oceanbase-database-10000000001974758">MySQLモードの権限分類</a>を参照してください。</p>
    </main>

* `$user_name`：テナントの接続アカウント。ODP接続の一般的な形式：`ユーザー名@テナント名#クラスタ名` または `クラスタ名:テナント名:ユーザー名`。直接接続方式の形式：`ユーザー名@テナント名`。
* `$password`：アカウントのパスワード。

接続文字列の詳細については、[OBClientを使用してOceanBaseテナントに接続する](https://en.oceanbase.com/docs/common-oceanbase-database-10000000001971649)を参照してください。

**例：**

```shell
obclient -hxxx.xxx.xxx.xxx -P2881 -utest_user001@mysql001 -p****** -Dtest
```

### ステップ2：Quick BIでOceanBaseデータベースに接続する

1. Quick BIコンソールにログインし、**データソース > 新規データソース** ページで、**OceanBase** を検索し、**Alibaba OceanBase** を選択します。

   <!-- ![](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.1/ecological-integration/quick-bi/create-datasource.png) -->

2. ステップ1で取得した接続文字列に基づいて、以下の設定を完了します：

   <!-- ![](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/observer-enterprise/V4.3.1/ecological-integration/quick-bi/config-connection.png) -->

   |構成パラメータ|説明|
   |-----|----|
   |名前の表示|カスタムデータソースの名前。|
   |モード|MySQLモード。|
   |データベースアドレス|接続文字列の `-h` パラメータから取得した、OceanBaseデータベースの接続アドレス。|
   |ポート|接続文字列の `-P` パラメータから取得した、OceanBaseデータベースへの接続ポート。|
   |データベース|接続文字列の `-D` パラメータから取得した、アクセスする必要があるデータベースの名前。|
   | ユーザー名 | 接続文字列の `-u` パラメータから取得した、アカウントの名前。|
   |パスワード| 接続文字列の `-p` パラメータから取得した、アカウントとパスワード。|

3. **接続テスト** をクリックします。トップのポップアップウィンドウに **データソースが正常に接続された** と表示された場合、OceanBaseデータベースへの接続が正常であることを示します。

    <!-- <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/cloud/OBCloud-240420/Integrations/QuickBI/connected.png" width = "400" alt="connect-1"/> -->

4. **OK** をクリックします。以下のページが表示された場合、OceanBaseデータベースへの接続が成功し、データソースとして追加されたことを意味します。

    <!-- <img src="https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/cloud/OBCloud-240420/Integrations/QuickBI/success.png" width = "400" alt="connector-2"/> -->

## 次の操作

データソースの作成が完了した後、Quick BIを使用できます。Quick BIの詳細な操作ガイドについては、[Quick BI公式使用ドキュメント](https://www.alibabacloud.com/help/ja/quick-bi/)を参照してください。
